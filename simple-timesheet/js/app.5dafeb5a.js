(function(e){function t(t){for(var n,r,o=t[0],i=t[1],d=t[2],f=0,l=[];f<o.length;f++)r=o[f],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&l.push(s[r][0]),s[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(l.length)l.shift()();return c.push.apply(c,d||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==s[i]&&(n=!1)}n&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},c=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/simple-timesheet/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=i;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},"0728":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=c,e.exports=s,s.id="4678"},4982:function(e,t,a){"use strict";var n=a("5565"),s=a.n(n);s.a},5565:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view",{staticClass:"view"})],1)},c=[],r={name:"app",components:{}},o=r,i=(a("034f"),a("2877")),d=Object(i["a"])(o,s,c,!1,null,null,null),u=d.exports,f=a("e069"),l=a.n(f),k=a("69c5"),h=a.n(k),m=(a("dcad"),a("8c4f")),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},j=[],p={name:"HelloWorld",props:{msg:String}},y=p,v=Object(i["a"])(y,b,j,!1,null,"446b845f",null),w=v.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"})},O=[],g={name:"HeaderBar",props:[{title:String}]},_=g,W=(a("75cc"),Object(i["a"])(_,D,O,!1,null,"97878b82",null)),C=W.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header-bar",{attrs:{title:"title"}}),a("div",{staticClass:"content"},[a("div",{staticClass:"week-number"},[a("i",{staticClass:"ivu-icon ivu-icon-md-calendar"}),a("p",[e._v(e._s("Week "+e.week.number))])]),a("div",{staticClass:"week-days"},[e._l(e.week.weekdays,(function(t,n){return[a("div",{key:n,staticClass:"week-day-item",class:{selected:e.isSelectedWeekDay(t)},on:{click:function(a){return e.weekDayClick(t)}}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Row",[a("div",{staticClass:"title"},[e.isToday(t)?e._e():[a("span",[a("strong",[e._v(e._s(e._f("format")(t.date,"ddd")))])])],e.isToday(t)?a("Badge",{attrs:{dot:""}},[a("span",[a("strong",[e._v(e._s(e._f("format")(t.date,"ddd")))])])]):e._e()],2)]),a("Row",[a("div",{staticClass:"sub-title"},[a("span",[e._v(e._s(e._f("format")(t.date,"DD/MM/YYYY")))])])])],1),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[a("Row",[a("TimePicker",{attrs:{open:t.openCheckInTimePicker,value:t.checkIn&&t.checkIn.toDate(),steps:[1,5],format:"HH:mm",placement:"bottom-end",confirm:""},on:{"on-change":function(t){return e.handleTimeChange(t,"checkIn")},"on-ok":function(e){t.openCheckInTimePicker=!1}}},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.openCheckInTimePicker=!0}}},[[t.checkIn?a("span",{staticStyle:{color:"#19be6b"}},[e._v(e._s(e._f("format")(t.checkIn,"HH:mm")))]):e._e()]],2)]),t.checkOut?a("span",{staticStyle:{margin:"0 5px"}},[e._v("-")]):e._e(),a("TimePicker",{attrs:{open:t.openCheckOutTimePicker,value:t.checkOut&&t.checkOut.toDate(),steps:[1,5],format:"HH:mm",placement:"bottom-end",confirm:""},on:{"on-change":function(t){return e.handleTimeChange(t,"checkOut")},"on-ok":function(e){t.openCheckOutTimePicker=!1}}},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.openCheckOutTimePicker=!0}}},[[t.checkOut?a("span",{staticStyle:{color:"#ed4014"}},[e._v(e._s(e._f("format")(t.checkOut,"HH:mm")))]):e._e()]],2)])],1),a("Row",[a("strong",[e._v(e._s(t.duration))])])],1)],1)],1)]}))],2),e.selectedWeekDay?a("div",{staticClass:"fixed-bottom"},[e.selectedWeekDay.checkIn?e._e():a("Button",{attrs:{type:"success",long:""},on:{click:e.checkIn}},[e._v("CHECK IN")]),e.selectedWeekDay.checkIn&&!e.selectedWeekDay.checkOut?a("Button",{attrs:{type:"error",long:""},on:{click:e.checkOut}},[e._v("CHECK OUT")]):e._e(),e.selectedWeekDay.checkIn&&e.selectedWeekDay.checkOut?a("Button",{attrs:{type:"warning",long:""},on:{click:e.reset}},[e._v("RESET")]):e._e()],1):e._e()])],1)},T=[],$=(a("c740"),a("4160"),a("a434"),a("b680"),a("ac1f"),a("1276"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[a("Icon",{attrs:{type:"ios-arrow-back",size:"30"}}),e._v("Back ")],1),a("div",{staticClass:"header-middle"},[a("span",[e._v(e._s(e.title))])]),a("div",{staticClass:"header-right"})])}),z=[],S={name:"HeaderBar",props:{title:String}},x=S,P=(a("df55"),Object(i["a"])(x,$,z,!1,null,"1a032a85",null)),H=P.exports,E=null,Y={name:"Week",components:{HeaderBar:H},props:{},data:function(){return{week:{},today:{},selectedWeekDay:void 0}},mounted:function(){var e=this;this.today=this.$moment(),this.week=this.getWeek().then((function(t){return e.convertToMomentDate(t),t})).then((function(t){return e.week=t})).then((function(){var t=e.week.weekdays.findIndex((function(t){return t.dayOfYear==e.today.dayOfYear()}));t>-1&&(e.selectedWeekDay=e.week.weekdays[t])}))},computed:{},methods:{getWeek:function(e){var t=this;return e||(e=this.$moment().week(),0==this.today.day()&&e--),this.$fb.weekCollection.where("number","==",e).limit(1).get().then((function(a){return a.empty?t.buildNewWeek(e):a.docs[0].data()}))},buildNewWeek:function(e){for(var t=this.$moment().week(e),a=this.$moment(t).startOf("week").add("d",1),n=this.$moment(t).endOf("week").add("d",1),s={number:e,startDate:a,endDate:n,weekdays:[]},c=0;c<7;c++){var r=this.$moment(a).add("d",c),o=r.dayOfYear(),i=r.days();s.weekdays.push({date:r,dayOfYear:o,dayOfWeek:i,checkIn:"",checkOut:"",duration:"",openCheckInTimePicker:!1,openCheckOutTimePicker:!1})}return s},isToday:function(e){return this.today.isSame(e.date,"day")},weekDayClick:function(e){this.selectedWeekDay=e},isSelectedWeekDay:function(e){return this.selectedWeekDay&&this.selectedWeekDay.dayOfWeek==e.dayOfWeek},checkIn:function(){this.selectedWeekDay.checkIn=this.$moment(),this.updateWeekDay()},checkOut:function(){this.selectedWeekDay.checkOut=this.$moment(),this.updateWeekDay()},reset:function(){var e=this;this.$Modal.confirm({title:"Confirmation",content:"Are you sure you want to reset timesheet on ".concat(this.$options.filters.format(this.selectedWeekDay.date,"ddd DD/MM/YYYY")," ?"),onOk:function(){e.selectedWeekDay.checkIn="",e.selectedWeekDay.checkOut="",e.updateWeekDay()},onCancel:function(){}})},updateWeekDay:function(){var e=this;E&&window.clearTimeout(E),E=window.setTimeout((function(){if(e.selectedWeekDay.checkIn&&e.selectedWeekDay.checkOut){var t=e.$moment.duration(e.selectedWeekDay.checkOut.diff(e.selectedWeekDay.checkIn));e.selectedWeekDay.duration=(Math.round(100*t.as("hours"))/100).toFixed(2)}else e.selectedWeekDay.duration="";var a=e.week.weekdays.findIndex((function(t){return t.dayOfYear==e.selectedWeekDay.dayOfYear}));e.week.weekdays.splice(a,1,e.selectedWeekDay);var n={};if(!e.week.id){var s=e.$fb.weekCollection.doc();return e.week.id=s.id,n=e.buildFSWeek(),s.set(n).then((function(){return e.$Message.info("Timesheet saved!")}))}n=e.buildFSWeek(),e.$fb.weekCollection.doc(n.id).set(n).then((function(){return e.$Message.info("Timesheet saved!")}))}),500)},buildFSWeek:function(){var e={};return Object.assign(e,this.week),e.startDate=e.startDate&&e.startDate.toDate(),e.endDate=e.endDate&&e.endDate.toDate(),e.weekdays=[],this.week.weekdays.forEach((function(t){e.weekdays.push({date:t.date&&t.date.toDate(),checkIn:t.checkIn&&t.checkIn.toDate(),checkOut:t.checkOut&&t.checkOut.toDate(),duration:t.duration||"",dayOfWeek:t.dayOfWeek,dayOfYear:t.dayOfYear})})),e},convertToMomentDate:function(e){var t=this;e.startDate=this.$moment(e.startDate.toDate()),e.endDate=this.$moment(e.endDate.toDate()),e.weekdays.forEach((function(e){e.date=t.$moment(e.date.toDate()),e.checkIn=e.checkIn&&t.$moment(e.checkIn.toDate()),e.checkOut=e.checkOut&&t.$moment(e.checkOut.toDate()),e.openCheckInTimePicker=!1,e.openCheckOutTimePicker=!1}))},handleTimeChange:function(e,t){var a=e.split(":"),n=a[0],s=a[1];"checkIn"==t?this.selectedWeekDay.checkIn.set("hour",n).set("minute",s):this.selectedWeekDay.checkOut.set("hour",n).set("minute",s),this.updateWeekDay()}}},M=Y,B=(a("4982"),Object(i["a"])(M,I,T,!1,null,"66e000e3",null)),R=B.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},U=[],N={name:"HelloWorld",props:{msg:String}},F=N,L=(a("5f7b"),Object(i["a"])(F,A,U,!1,null,"177004bb",null)),q=L.exports;function K(){return[{path:"/",redirect:"/week",name:"Home",component:w,meta:{requiresAuth:!0},children:[{path:"dashboard",name:"Dashboard",component:C,meta:{title:"Dashboard"}},{path:"week",name:"Week",component:R,meta:{title:"Week"}}]},{path:"/login",name:"Login",component:q,meta:{requiresAuth:!1,title:"Login"}}]}n["default"].use(m["a"]);var G=new m["a"]({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:K()}),J=G,V=a("c1df"),X=a.n(V),Z=a("8aa5"),Q=a.n(Z),ee=(a("e71f"),{apiKey:"AIzaSyB_OVuTcWRzhLSSxZDIyNH1EiEl5XnATPU",authDomain:"t2pautoserviceweb.firebaseapp.com",databaseURL:"https://t2pautoserviceweb.firebaseio.com",projectId:"t2pautoserviceweb",storageBucket:"t2pautoserviceweb.appspot.com",messagingSenderId:"930467970864",appId:"1:930467970864:web:4a89b4a172253c19"});Q.a.initializeApp(ee);var te=Q.a.firestore(),ae=Q.a.auth(),ne=ae.currentUser,se=te.collection("weeks"),ce={db:te,auth:ae,currentUser:ne,weekCollection:se};n["default"].prototype.$fb=ce,n["default"].use(a("2ead")),n["default"].use(m["a"]),n["default"].use(l.a,{locale:h.a}),window.moment=X.a,n["default"].config.productionTip=!1,n["default"].filter("format",(function(e,t){return e.format(t)})),new n["default"]({router:J,render:function(e){return e(u)}}).$mount("#app")},"5f7b":function(e,t,a){"use strict";var n=a("f8e0"),s=a.n(n);s.a},"75cc":function(e,t,a){"use strict";var n=a("97f3"),s=a.n(n);s.a},"85ec":function(e,t,a){},"97f3":function(e,t,a){},df55:function(e,t,a){"use strict";var n=a("0728"),s=a.n(n);s.a},f8e0:function(e,t,a){}});
//# sourceMappingURL=app.5dafeb5a.js.map