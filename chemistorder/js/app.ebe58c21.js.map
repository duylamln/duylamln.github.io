{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/pages/Inventory.vue?5b56","webpack:///./src/views/pages/orderDetailShipment.vue?da6f","webpack:///./src/views/pages/orderStatistic.vue?5fa2","webpack:///./src/App.vue?ae0b","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/pages/products.vue?56f8","webpack:///./src/views/pages/productDetail.vue?07d6","webpack:///./src/views/shared/vndPrice.vue?e8b3","webpack:///src/views/shared/vndPrice.vue","webpack:///./src/views/shared/vndPrice.vue?c044","webpack:///./src/views/shared/vndPrice.vue","webpack:///./src/shared/utils.js","webpack:///./src/views/pages/cwProductPredictive.vue?4d53","webpack:///./src/shared/cwFunctions.js","webpack:///./src/views/shared/viewPort.vue?7a6c","webpack:///src/views/shared/viewPort.vue","webpack:///./src/views/shared/viewPort.vue?e710","webpack:///./src/views/shared/viewPort.vue","webpack:///src/views/pages/cwProductPredictive.vue","webpack:///./src/views/pages/cwProductPredictive.vue?ba0b","webpack:///./src/views/pages/cwProductPredictive.vue","webpack:///./src/views/pages/PAProductPredictive.vue?1d7d","webpack:///src/views/pages/PAProductPredictive.vue","webpack:///./src/views/pages/PAProductPredictive.vue?7bfc","webpack:///./src/views/pages/PAProductPredictive.vue","webpack:///./src/views/shared/vueDatePick.vue?0db7","webpack:///src/views/shared/vueDatePick.vue","webpack:///./src/views/shared/vueDatePick.vue?f83f","webpack:///src/views/shared/vueSuggestion.vue","webpack:///src/views/pages/ProductSuggestionDropdown.vue","webpack:///src/views/pages/Inventory.vue","webpack:///src/views/pages/CustomerSuggestionDropdown.vue","webpack:///src/views/pages/orderDetail.vue","webpack:///src/views/pages/orderDetailCollection.vue","webpack:///src/views/pages/orderDetailShipment.vue","webpack:///./src/views/shared/vueDatePick.vue","webpack:///src/views/pages/productDetail.vue","webpack:///./src/views/pages/productDetail.vue?6cdb","webpack:///./src/views/pages/productDetail.vue","webpack:///./src/views/pages/productsList.vue?e6ed","webpack:///./src/views/pages/ShowSupplierPrices.vue?6aaa","webpack:///src/views/pages/ShowSupplierPrices.vue","webpack:///./src/views/pages/ShowSupplierPrices.vue?a55f","webpack:///./src/views/pages/ShowSupplierPrices.vue","webpack:///src/views/pages/productsList.vue","webpack:///./src/views/pages/productsList.vue?643d","webpack:///./src/views/pages/productsList.vue","webpack:///./src/views/pages/productsListMobile.vue?58aa","webpack:///src/views/pages/productsListMobile.vue","webpack:///./src/views/pages/productsListMobile.vue?ad9f","webpack:///./src/views/pages/productsListMobile.vue","webpack:///./src/views/shared/JsonExcel.vue?b2f3","webpack:///src/views/shared/JsonExcel.vue","webpack:///./src/views/shared/JsonExcel.vue?b38a","webpack:///./src/views/shared/JsonExcel.vue","webpack:///src/views/pages/products.vue","webpack:///./src/views/pages/products.vue?e8e6","webpack:///./src/views/pages/products.vue","webpack:///./src/views/pages/Inventory.vue?dad7","webpack:///./src/views/pages/InventoryEditItem.vue?2f7e","webpack:///./src/views/shared/numberInput.vue?a78b","webpack:///src/views/shared/numberInput.vue","webpack:///./src/views/shared/numberInput.vue?1b75","webpack:///./src/views/shared/numberInput.vue","webpack:///./src/views/pages/ProductSuggestionDropdown.vue?cb35","webpack:///./src/views/shared/vueSuggestion.vue?ebdb","webpack:///./src/views/shared/vueSuggestion.vue?355d","webpack:///./src/views/shared/vueSuggestion.vue","webpack:///./src/views/pages/productSugTemplate.vue?2c6e","webpack:///src/views/pages/productSugTemplate.vue","webpack:///./src/views/pages/productSugTemplate.vue?6dca","webpack:///./src/views/pages/productSugTemplate.vue","webpack:///./src/views/pages/ProductSuggestionDropdown.vue?daff","webpack:///./src/views/pages/ProductSuggestionDropdown.vue","webpack:///src/views/pages/InventoryEditItem.vue","webpack:///./src/views/pages/InventoryEditItem.vue?7ae9","webpack:///./src/views/pages/InventoryEditItem.vue","webpack:///./src/views/pages/InventoryItemHistory.vue?3809","webpack:///src/views/pages/InventoryItemHistory.vue","webpack:///./src/views/pages/InventoryItemHistory.vue?ce2e","webpack:///./src/views/pages/InventoryItemHistory.vue","webpack:///./src/views/pages/Inventory.vue?372c","webpack:///./src/views/pages/Inventory.vue","webpack:///./src/views/pages/customers.vue?1615","webpack:///src/views/pages/customers.vue","webpack:///./src/views/pages/customers.vue?6be0","webpack:///./src/views/pages/customers.vue","webpack:///./src/views/pages/customerOrders.vue?85be","webpack:///src/views/pages/customerOrders.vue","webpack:///./src/views/pages/customerOrders.vue?da58","webpack:///./src/views/pages/customerOrders.vue","webpack:///./src/views/pages/orders.vue?2850","webpack:///src/views/pages/orders.vue","webpack:///./src/views/pages/orders.vue?f7f0","webpack:///./src/views/pages/orders.vue","webpack:///./src/views/pages/orderDetail.vue?470a","webpack:///./src/views/pages/orderDetailEditItem.vue?50d6","webpack:///./src/views/pages/CustomerSuggestionDropdown.vue?e348","webpack:///./src/views/pages/customerSugTemplate.vue?c684","webpack:///src/views/pages/customerSugTemplate.vue","webpack:///./src/views/pages/customerSugTemplate.vue?09fe","webpack:///./src/views/pages/customerSugTemplate.vue","webpack:///./src/views/pages/CustomerSuggestionDropdown.vue?4365","webpack:///./src/views/pages/CustomerSuggestionDropdown.vue","webpack:///src/views/pages/orderDetailEditItem.vue","webpack:///./src/views/pages/orderDetailEditItem.vue?da3f","webpack:///./src/views/pages/orderDetailEditItem.vue","webpack:///./src/views/pages/orderDetail.vue?9a2f","webpack:///./src/views/pages/orderDetail.vue","webpack:///./src/views/pages/orderDetailCollection.vue?e443","webpack:///./src/views/pages/orderDetailCollection.vue?57dc","webpack:///./src/views/pages/orderDetailCollection.vue","webpack:///./src/views/pages/orderDetailShipment.vue?cebc","webpack:///./src/views/pages/orderDetailShipmentEditItem.vue?8f23","webpack:///src/views/pages/orderDetailShipmentEditItem.vue","webpack:///./src/views/pages/orderDetailShipmentEditItem.vue?7162","webpack:///./src/views/pages/orderDetailShipmentEditItem.vue","webpack:///./src/views/pages/customerEdit.vue?9148","webpack:///src/views/pages/customerEdit.vue","webpack:///./src/views/pages/customerEdit.vue?c13f","webpack:///./src/views/pages/customerEdit.vue","webpack:///./src/views/pages/orderDetailShipment.vue?ef95","webpack:///./src/views/pages/orderDetailShipment.vue","webpack:///./src/views/pages/orderStatistic.vue?fd97","webpack:///src/views/pages/orderStatistic.vue","webpack:///./src/views/pages/orderStatistic.vue?3d0c","webpack:///./src/views/pages/orderStatistic.vue","webpack:///./src/views/pages/utils.vue?1d0a","webpack:///src/views/pages/utils.vue","webpack:///./src/views/pages/utils.vue?ee0d","webpack:///./src/views/pages/utils.vue","webpack:///./src/views/pages/Settings.vue?31e1","webpack:///src/views/pages/Settings.vue","webpack:///./src/views/pages/Settings.vue?5634","webpack:///./src/views/pages/Settings.vue","webpack:///./src/views/pages/Login.vue?80a3","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?92b0","webpack:///./src/views/pages/Login.vue","webpack:///./src/views/pages/shipments.vue?a071","webpack:///src/views/pages/shipments.vue","webpack:///./src/views/pages/shipments.vue?a08d","webpack:///./src/views/pages/shipments.vue","webpack:///./src/views/pages/trackingPrices.vue?b9c7","webpack:///src/views/pages/trackingPrices.vue","webpack:///./src/views/pages/trackingPrices.vue?5391","webpack:///./src/views/pages/trackingPrices.vue","webpack:///./src/router/index.js","webpack:///./src/shared/filters.js","webpack:///./src/shared/directives.js","webpack:///./src/shared/firebaseConfig.js","webpack:///./src/shared/firebaseServices/productService.js","webpack:///./src/shared/firebaseServices/orderService.js","webpack:///./src/shared/firebaseServices/settingService.js","webpack:///./src/shared/firebaseServices/inventoryService.js","webpack:///./src/shared/firebaseServices/distributionService.js","webpack:///./src/shared/firebaseServices.js","webpack:///./src/store/modules/counter.js","webpack:///./src/store/modules/order.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///./src/views/pages/productsList.vue?fa5c","webpack:///./src/views/pages/trackingPrices.vue?36c3","webpack:///./src/views/shared/vueDatePick.vue?1a92","webpack:///./src/views/pages/ShowSupplierPrices.vue?5ff2","webpack:///./src/views/pages/customerOrders.vue?36db","webpack:///./src/views/pages/products.vue?7809","webpack:///./src/views/shared/vueSuggestion.vue?de99","webpack:///./src/views/pages/orderDetail.vue?e8cb","webpack:///./src/views/shared/numberInput.vue?1314"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","component","staticClass","attrs","slot","_v","_s","productCount","ref","printData","printJsonFields","on","printProductList","clearAllSalePrices","addNewProduct","$event","indexOf","keyCode","seartTextKeydown","model","callback","$$v","searchText","expression","clearSearchText","_e","clickSearchProduct","scopedSlots","_u","fn","products","productClicked","deleteProduct","editProduct","proxy","directives","rawName","loadMoreProduct","productSaved","intId","prod","id","saveProduct","readonly","supplierPredictive","updateMatchedProduct","getCWPruductId","appSettings","cwBuyProductUrl","replace","$set","checkCwMatchedProduct","checkPaMatchedProduct","staticStyle","openExistedProduct","existedProduct","thumbnail","_l","sp","index","suppliers","checked","salePricePickChanged","removeSupplierPrice","addSuppplierPrice","searchShipppingWeight","oriPrice","sugPrice","_f","rndPrice","vndConfig","display","props","mounted","computed","parseFloat","vndExchangeRate","generateSubString","str","strArray","split","forEach","sub","pre","toLowerCase","Date","setMin","setHours","setMinutes","setSeconds","setMilliseconds","Number","roundTo","decimalPlaces","Math","round","String","format","args","arguments","match","number","term","isChecking","matchedProducts","lastChecked","item","label","oldPrice","audConfig","price","priceStatus","percentage","selected","matchProduct","Vue","_t","useMobileView","innerWidth","self","addEventListener","components","hasChanged","product","watch","enable","enableCWProductPredictive","methods","checkPrice","today","supPrice","cwProductId","supplier","supplierPrices","find","cwTracking","toDate","callCWCheckPriceApi","res","status","validData","_","filter","map","decorateData","Price","cwProductThumbnailUrl150","cwsp","cwPrice","$emit","enablePAProductPredictive","paProductId","paTracking","callPACheckPriceApi","decoratedProducts","parseHtml2Json","convert","html","paProducts","group","url","imgSrc","attr","priceRange","prices","saleprice","stdprice","log","substring","lastIndexOf","supplierPrice","class","vdpWithInput","hasInputElement","_b","isReadOnly","domProps","inputValue","editable","processUserInput","open","inputAttributes","clear","positionClass","vdpFloating","closeViaOverlay","prevMonthCaption","incrementMonth","nextMonthCaption","currentPeriod","month","directionClass","months","$$selectedVal","Array","options","val","_value","multiple","year","weekday","week","weekIndex","dateKey","selectable","disabled","outOfRange","selectDateItem","date","getDate","pickTime","currentTime","setTimeCaption","hoursPadded","preventDefault","inputTime","minutesPadded","secondsPadded","displayFormat","selectableYearRange","parseDate","formatDate","pickMinutes","pickSeconds","isDateDisabled","mobileBreakpointWidth","weekdays","default","startWeekOnSunday","valueToInputFormat","getPeriodFromValue","direction","opened","valueDate","parseDateString","isValidValue","Boolean","currentPeriodDates","startDay","offset","prevDate","setDate","days","getMonth","nextDate","day","areSameDates","getFullYear","join","chunkArray","yearRange","years","currentDate","weekdaysSorted","unshift","pop","beforeDestroy","removeCloseEvents","teardownPosition","dateString","formatDateToString","parseSimpleDateString","formatParts","dayRE","parseInt","dateParts","hours","minutes","seconds","isNaN","resolvedDate","method","formatSimpleDateToString","dateFormat","incrementDate","userText","userDate","addCloseEvents","setupPosition","close","$refs","outerWrap","closeEventListener","inspectCloseEvent","positionEventListener","positionFloater","verticalClass","inputRect","left","floaterWidth","horizontalClass","calculate","$nextTick","removeEventListener","newDate","numValue","maxValues","paddNum","num","padsize","inputArray","chunkSize","results","date1","date2","hideListTimeout","inputChangeTimeout","loadProductTimeout","debounceQuantitySaveFunc","loadCustomerTimeout","saveOrderTimeoutFunc","cwMatchedProduct","cwMatchedProductChange","isCheckingCwPrice","settings","deep","handler","calculatePrices","shipPrice","calculateItself","$bvModal","show","cwSupPrice","paSupPrice","getExistingProductByName","selPrice","maxBy","buyPrice","minBy","salePricePickSup","salePrice","sugPriceVND","vndExchageRate","toFixed","x","salePricePick","cwProductPredictive","forceCheckAgain","paProductPredictive","encodedTerm","encodeURIComponent","win","focus","items","fields","productDoubleClicked","queries","weight","breakline","searchTextArray","productTable","selectRow","extends","idName","click","required","exportFields","defaultValue","title","footer","fetch","Function","meta","worksheet","beforeGenerate","beforeFinish","triggerType","now","getTime","downloadFields","export","jsonToXLS","xlsData","parseExtraData","xlsTemp","jsonToCSV","csvData","escapedCSV","getProcessedJson","newItem","getValue","newData","getKeys","header","keys","isArray","extraData","parseData","field","getValueFromCallback","valueReformattedForMultilines","getValueFromNestedItem","parseValue","nestedItem","base64ToBlob","u8arr","bstr","charCodeAt","Blob","productDetail","productsList","productsListMobile","viewPort","JsonExcel","productBatches","pageSize","lastVisible","isLoadingMore","saleProductCount","saleProducts","Name","loadProducts","oldValue","newValue","q","$fb","productCollection","orderBy","startAfter","searchProduct","selectedIndex","updateDataBatches","limit","ss","empty","checkCwPrice","getPrintData","inventoryCount","addNewItem","search","showOutOfStockChange","itemClicked","itemDoubleClicked","showProductDetail","quantity","dateIn","quantityChange","viewHistory","editItem","deleteItem","mobileFields","loadMore","itemSaved","modalId","modalTitle","save","sugProductsItemSelected","_g","size","listeners","decreasable","decrease","center","min","max","step","inputtable","increasable","placeholder","currentValue","change","paste","increase","controls","inline","Infinity","rounded","NaN","mouted","immediate","setValue","clipboardData","REGEXP_NUMBER","test","getData","input","sugProducts","productSugTemplate","setLabel","sugProductsFocused","sugProductsInputChanged","loadMoreSugProducts","wrapperClasses","inputWrapperClasses","inputClasses","blur","composing","inputChange","_k","keyEnter","keyUp","keyDown","cursor","suggestionItemWrapperClasses","selectItem","itemTemplate","suggestionItemClasses","minLen","loading","suggestionListClasses","suggestionGroupClasses","suggestionGroupHeaderClasses","showList","itemGroups","reduce","foundGroup","crr","prv","suggestionGroup","isAbleToShowList","created","checkMissingProps","warn","address","productSugSearchText","lastSugProductVisible","isLoadingMoreSugProduct","query","where","snapshot","doc","audit","distribution","orderId","orderItemId","InventoryEditItem","ShowSupplierPrices","numberInput","InventoryItemHistory","isLoading","selectedItemIndex","showOutOfStock","loadData","inventoryCollection","inventoryEditItemModal","saveItem","inventoryItemHistoryModal","count","calculateTotalBuying","addNewCustomer","clickSearchCustomer","showOnlyDebtChange","customers","customerClicked","customerDoubleClicked","isEditing","viewOrders","editCustomer","deleteCustomer","saveCustomer","cancelEditCustomer","phone","customer","paging","total","page","showOnlyDebt","loadCustomers","customerCollection","correctData","searchCustomer","backup","submitCustomer","nameSearch","version","cusRef","set","newCus","$router","params","calculateTotalBuyingForCustomer","customerOrderItems","orders","totalBuying","sumBy","purchased","debt","loadOrders","loadAllCustomers","goToCustomers","customerOrders","buildRoute","totalQuantity","totalPrice","loadCustomer","chain","customerId","$route","loadCustomerOrders","recalculateOrders","buildCustomerOrders","orderCount","addNewOrder","isLoadingData","orderClicked","dateCreated","sumQuantity","sumTotal","deleteOrder","selectedOrder","buildOrderName","endsWith","ord","orderCollection","order","goToOrderList","jsonFields","printDeliverySheet","goToShipmentPage","goToCollectionPage","addNewOrderItem","orderItemClicked","showProductDetailModal","calculateTotalOrderItem","collectedQuantityChanged","collectedChanged","editOrderItem","deleteOrderItem","sumCollectedQuantity","selectedOrderItem","saveOrderItem","orderItem","inventoryItems","selectedInventoryItemChanged","selectedInventoryItem","sugCustomers","customerSugTemplate","sugCustomersFocused","sugCustomersInputChanged","sugCustomersItemSelected","loadMoreSugCustomers","array","customerSugSearchText","lastSugCustomerVisible","isLoadingMoreSugCustomer","findProductInInventory","hide","vndPrice","orderDetailEditItem","counter","Quantity","loadOrder","collectedQuantity","editItemModal","collected","findIndex","dateModified","saveOrder","qty","productId","excludeFromStockItem","goToOrderDetailPage","customerNameQty","onSnapshot","setCollectedItem","debounceSaveOrder","updateCustomerInformation","updateCustomer","goToCustomerOrder","productName","purchasedChanged","editShipmentItem","sumPurchased","customerName","note","selectedShipmentItem","saveShipmentItem","selectedCustomer","shipmentItem","isAdmin","buildItems","indices","selectedShipmentItemIndex","changeShipFee","isChangingShipFee","saveShipFee","estShipPrice","shipFee","changeCurrentRate","isChangingCurrentRate","currentRate","saveCurrentRate","totalVND","profit","calculateStatistic","sumShippingFee","exchangeRate","shipFeePerKg","$options","filters","currency","shipPricePerKg","editSupplier","removeSupplier","saveSupplier","cancelEdit","addSupplier","saveSettings","login","email","password","showError","auth","forceCheckPriceAgain","productsNotCheckedPrice","currentProductCheckingIndex","getCWProductId","currentProductChecking","startCheckPrice","showOnlyDecreaseChange","showOnlyIncreaseChange","showCheckPriceProgress","getOutDateProducts","getCheckedProducts","showOnlyDecrease","cwCheckPrice","loadCwProducts","doCheckPrice","$http","cwCheckPriceApi","trackingData","currentProduct","filterCheckedProducts","showOnlyIncrease","DefaultContainer","Dashboard","configRoutes","path","redirect","requiresAuth","children","requiresAdmin","ProductsPage","InventoryPage","CustomersPage","CustomerOrdersPage","OrdersPage","OrderStatisticPage","OrderDetailPage","OrderDetailCollectionPage","OrderDetailShipmentPage","TrackingPricesPage","ShipmentsPage","UtilsPage","SettingsPage","LoginPage","use","Router","router","linkActiveClass","scrollBehavior","y","routes","beforeEach","to","from","next","currentUser","firebase","matched","some","record","padStart","getHours","getMinutes","directive","el","binding","vNode","inserted","update","spinner","innerHTML","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","initializeApp","db","firestore","collection","counterCollection","distributionCollection","settingCollection","fb","getProducts","last","docs","getOrderById","getOrderItemsByOrderId","getOrderAndItemsByOrderId","orderItems","setOrderItem","delete","getLast10Orders","settingsCollection","getSettings","setSettings","buildAuditItem","distributionId","buildItem","inventoryItem","inventoryId","productService","orderService","settingService","inventoryService","distributionService","state","getters","actions","getCounter","commit","setCounter","increaseCustomerCount","dispatch","customerCount","decreaseCustomerCount","getCustomerCount","increaseProductCount","decreaseProductCount","getProductCount","increaseOrderCount","decreaseOrderCount","getOrderCount","mutations","namespaced","getAllOrders","addOrUpdateOrder","setOrders","addOrder","updateOrder","setLastVisible","Vuex","Store","$","require","$mapState","mapState","$mapActions","mapActions","$fbServices","fbServices","symbol","thousandsSeparator","fractionCount","fractionSeparator","symbolPosition","symbolSpacing","vndConfigNoSymbol","axios","BootstrapVue","VueCurrencyFilter","showMessage","mes","$bvToast","toast","variant","autoHideDelay","getProductPrice","cwSupplier","app","onAuthStateChanged","store","template","App"],"mappings":"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","file":"js/app.ebe58c21.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-40f4cc33\":\"2b74f147\",\"chunk-53869b30\":\"bcae9d6b\",\"chunk-60bac8b0\":\"d588f43e\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-53869b30\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-40f4cc33\":\"31d6cfe0\",\"chunk-53869b30\":\"8d6a4e2b\",\"chunk-60bac8b0\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/chemistorder/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Inventory.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Inventory.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailShipment.vue?vue&type=style&index=0&id=3669942c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailShipment.vue?vue&type=style&index=0&id=3669942c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderStatistic.vue?vue&type=style&index=0&id=56844b20&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderStatistic.vue?vue&type=style&index=0&id=56844b20&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <router-view></router-view>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nexport default {\r\n  name: \"app\"\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* Import Font Awesome Icons Set */\r\n$fa-font-path: \"~font-awesome/fonts/\";\r\n@import \"~font-awesome/scss/font-awesome.scss\";\r\n/* Import Bootstrap Vue Styles */\r\n@import \"~bootstrap-vue/dist/bootstrap-vue.css\";\r\n// Import Main styles for this application\r\n@import \"assets/scss/style\";\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=334a9878&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"fa fa-book\"}),_vm._v(\" Products (\"+_vm._s(_vm.productCount)+\") \")]),_c('div',{staticClass:\"pull-right\"},[_c('json-excel',{ref:\"printProductListRef\",attrs:{\"data\":_vm.printData,\"fields\":_vm.printJsonFields,\"worksheet\":\"Products\",\"name\":\"ProductList.xls\",\"trigger-type\":\"Manual\"}},[_c('b-link',{on:{\"click\":_vm.printProductList}},[_vm._v(\"Print Product List\")])],1),_c('b-link',{staticClass:\"mr-1 ml-1\"},[_vm._v(\"|\")]),_c('b-link',{on:{\"click\":_vm.clearAllSalePrices}},[_vm._v(\"Clear Sale Prices\")]),_c('b-link',{staticClass:\"mr-1 ml-1\"},[_vm._v(\"|\")]),_c('b-link',{on:{\"click\":_vm.addNewProduct}},[_vm._v(\"Add New Product\")])],1)]),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('b-input-group',{staticClass:\"mb-5\"},[_c('b-form-input',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.seartTextKeydown($event)}},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_c('b-input-group-append',[(_vm.searchText != '')?_c('span',{staticClass:\"fa fa-close\",attrs:{\"id\":\"searchclear\"},on:{\"click\":_vm.clearSearchText}}):_vm._e(),_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.clickSearchProduct()}}},[_c('span',{staticClass:\"fa fa-search\"}),_vm._v(\" Search \")])],1)],1)],1)],1),_c('view-port',{scopedSlots:_vm._u([{key:\"mobile\",fn:function(){return [_c('products-list-mobile',{attrs:{\"products\":_vm.products,\"search-text\":_vm.searchText},on:{\"productClicked\":_vm.productClicked,\"deleteProduct\":_vm.deleteProduct,\"editProduct\":_vm.editProduct}})]},proxy:true},{key:\"desktop\",fn:function(){return [_c('div',[_c('products-list',{attrs:{\"products\":_vm.products,\"search-text\":_vm.searchText},on:{\"productClicked\":_vm.productClicked,\"deleteProduct\":_vm.deleteProduct,\"editProduct\":_vm.editProduct}})],1)]},proxy:true}])}),_c('b-row',{staticClass:\"load-more\"},[_c('b-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingMore),expression:\"isLoadingMore\"}],attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.loadMoreProduct($event)}}},[_vm._v(\"Load more\")])],1)],1)],1)],1),_c('product-detail',{ref:\"productDetail\",on:{\"product-saved\":_vm.productSaved}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.intId,\"title\":'Product Detail - ' + (_vm.prod.id || ''),\"size\":\"lg\",\"modal-class\":\"product-detail-modal\"},on:{\"ok\":_vm.saveProduct}},[_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_vm._v(_vm._s(_vm.readonly ? \"It will not update into Product master data.\" : \"Product master data will be updated.\"))]),_c('cw-product-predictive',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supplierPredictive == 'CW'),expression:\"supplierPredictive == 'CW'\"}],ref:\"cwProductPredictive\",on:{\"productMatched\":_vm.updateMatchedProduct}}),_c('pa-product-predictive',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.supplierPredictive == 'PA'),expression:\"supplierPredictive == 'PA'\"}],ref:\"paProductPredictive\",on:{\"productMatched\":_vm.updateMatchedProduct}}),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\" Name \"),(_vm.getCWPruductId(_vm.prod))?_c('b-link',{attrs:{\"href\":_vm.appSettings.cwBuyProductUrl.replace('{id}', _vm.getCWPruductId(_vm.prod)),\"target\":\"_blank\"}},[_vm._v(\"[Buy CW]\")]):_vm._e()],1),_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter product name\"},model:{value:(_vm.prod.name),callback:function ($$v) {_vm.$set(_vm.prod, \"name\", $$v)},expression:\"prod.name\"}}),_c('b-link',{on:{\"click\":function($event){return _vm.checkCwMatchedProduct(true)}}},[_vm._v(\"Chemist Warehouse Search\")]),_c('b-link',{staticClass:\"mr-1 ml-1\"},[_vm._v(\"|\")]),_c('b-link',{on:{\"click\":function($event){return _vm.checkPaMatchedProduct(true)}}},[_vm._v(\"Pandora Search\")]),(_vm.existedProduct)?_c('div',[_c('i',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" * Product existed: \"),_c('b-link',{on:{\"click\":_vm.openExistedProduct}},[_vm._v(_vm._s(_vm.existedProduct.name))])],1)]):_vm._e()],1),_c('b-form-group',[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Thumbnail Url\")]),_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter product image url\"},model:{value:(_vm.prod.thumbnail),callback:function ($$v) {_vm.$set(_vm.prod, \"thumbnail\", $$v)},expression:\"prod.thumbnail\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('div',{staticClass:\"card\"},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.prod.thumbnail,\"alt\":_vm.prod.name,\"width\":\"150px\",\"height\":\"150px\"}})])])],1),_vm._l((_vm.prod.supplierPrices),function(sp,index){return [_c('b-form-group',{key:index},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('b-form-select',{attrs:{\"options\":_vm.suppliers},model:{value:(sp.supplier),callback:function ($$v) {_vm.$set(sp, \"supplier\", $$v)},expression:\"sp.supplier\"}})],1),_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('b-form-input',{attrs:{\"type\":\"number\",\"placeholder\":\"Price (A$)\"},model:{value:(sp.price),callback:function ($$v) {_vm.$set(sp, \"price\", $$v)},expression:\"sp.price\"}})],1),_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"type\":\"number\",\"placeholder\":\"Sale Price (A$)\"},model:{value:(sp.salePrice),callback:function ($$v) {_vm.$set(sp, \"salePrice\", $$v)},expression:\"sp.salePrice\"}}),_c('b-input-group-append',{attrs:{\"is-text\":\"\"}},[_c('b-form-checkbox',{on:{\"change\":function (checked) { return _vm.salePricePickChanged(index, checked); }},model:{value:(sp.salePricePick),callback:function ($$v) {_vm.$set(sp, \"salePricePick\", $$v)},expression:\"sp.salePricePick\"}})],1)],1)],1),_c('b-col',{attrs:{\"sm\":\"1\"}},[_c('b-link',{on:{\"click\":function($event){return _vm.removeSupplierPrice(index)}}},[_c('i',{staticClass:\"fa fa-times text-danger fa-lg\",staticStyle:{\"padding-top\":\"12px\"},attrs:{\"aria-hidden\":\"true\"}})])],1),_c('b-col',{staticStyle:{\"padding-top\":\"7px\"},attrs:{\"sm\":\"1\"}},[(sp.id)?_c('strong',[_vm._v(\"#\"+_vm._s(sp.id))]):_vm._e()])],1)],1)]}),_c('b-form-group',[_c('b-link',{on:{\"click\":_vm.addSuppplierPrice}},[_vm._v(\"Add Supplier Price\")])],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"weight\"}},[_vm._v(\"Weight (g)\")]),_c('b-link',{staticClass:\"ml-2\",on:{\"click\":_vm.searchShipppingWeight}},[_vm._v(\"Search\")]),_c('b-form-input',{attrs:{\"type\":\"number\",\"id\":\"weight\",\"placeholder\":\"0\"},model:{value:(_vm.prod.weight),callback:function ($$v) {_vm.$set(_vm.prod, \"weight\", $$v)},expression:\"prod.weight\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"2\"}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"shipprice\"}},[_vm._v(\"Shipment Price (A$)\")]),_c('b-form-input',{attrs:{\"type\":\"number\",\"id\":\"shipprice\",\"placeholder\":\"0.00\",\"disabled\":true},model:{value:(_vm.prod.shipPrice),callback:function ($$v) {_vm.$set(_vm.prod, \"shipPrice\", $$v)},expression:\"prod.shipPrice\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"selprice\"}},[_vm._v(\"Selling Price (A$)\")]),_c('b-form-input',{attrs:{\"type\":\"number\",\"id\":\"selprice\",\"placeholder\":\"0.00\",\"disabled\":true},model:{value:(_vm.prod.selPrice),callback:function ($$v) {_vm.$set(_vm.prod, \"selPrice\", $$v)},expression:\"prod.selPrice\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"buyprice\"}},[_vm._v(\"Buying Price (A$)\")]),_c('b-form-input',{attrs:{\"type\":\"number\",\"id\":\"buyprice\",\"placeholder\":\"0.00\",\"disabled\":true},model:{value:(_vm.prod.buyPrice),callback:function ($$v) {_vm.$set(_vm.prod, \"buyPrice\", $$v)},expression:\"prod.buyPrice\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',{attrs:{\"description\":\"Buy. Price + Ship\"}},[_c('label',{attrs:{\"for\":\"oriprice\"}},[_vm._v(\"Ori. Price (A$)\")]),_vm._v(\" - \"),_c('vnd-price',{attrs:{\"value\":_vm.prod.oriPrice}}),_c('b-form-input',{attrs:{\"type\":\"number\",\"id\":\"oriprice\",\"placeholder\":\"0.00\",\"disabled\":true},model:{value:(_vm.prod.oriPrice),callback:function ($$v) {_vm.$set(_vm.prod, \"oriPrice\", $$v)},expression:\"prod.oriPrice\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',{attrs:{\"description\":\"Sel. Price + Commission(10%) + Ship + $2\"}},[_c('label',{attrs:{\"for\":\"sugprice\"}},[_vm._v(\" Sug. Price (A$) - \"),_c('vnd-price',{attrs:{\"value\":_vm.prod.sugPrice}})],1),_c('b-form-input',{attrs:{\"placeholder\":\"0.00\",\"disabled\":true},model:{value:(_vm.prod.sugPrice),callback:function ($$v) {_vm.$set(_vm.prod, \"sugPrice\", $$v)},expression:\"prod.sugPrice\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',[_c('label',{attrs:{\"for\":\"rndprice\"}},[_vm._v(\" Rnd. Price (VND) - \"),_c('i',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.prod.rndPrice,_vm.vndConfig)))])]),_c('b-form-input',{attrs:{\"type\":\"number\",\"placeholder\":\"0.00\"},model:{value:(_vm.prod.rndPrice),callback:function ($$v) {_vm.$set(_vm.prod, \"rndPrice\", $$v)},expression:\"prod.rndPrice\"}})],1)],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"red\"}},[_c('i',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.display,_vm.vndConfig)))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span style=\"color: red\">\r\n    <i>{{display | currency(vndConfig)}}</i>\r\n  </span>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"vndPrice\",\r\n  props: [\"value\"],\r\n  mounted: function() {},\r\n  computed: {\r\n    display: function() {\r\n      return parseFloat(this.value) * parseFloat(this.appSettings.vndExchangeRate);\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vndPrice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vndPrice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vndPrice.vue?vue&type=template&id=7ac33868&\"\nimport script from \"./vndPrice.vue?vue&type=script&lang=js&\"\nexport * from \"./vndPrice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function random(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\n/**\r\n * Randomize array element order in-place.\r\n * Using Durstenfeld shuffle algorithm.\r\n */\r\nexport const shuffleArray = (array) => {\r\n  for (let i = array.length - 1; i > 0; i--) {\r\n    let j = Math.floor(Math.random() * (i + 1))\r\n    let temp = array[i]\r\n    array[i] = array[j]\r\n    array[j] = temp\r\n  }\r\n  return array\r\n}\r\n\r\n\r\nexport function generateSubString(str) {\r\n  var strArray = str.split(\" \");\r\n  var result = [];\r\n  strArray.forEach(sub => {\r\n    var pre = \"\";\r\n    sub.split(\"\").forEach(s => {\r\n      pre += s.toLowerCase();\r\n      result.push(pre);\r\n    })\r\n  })\r\n  return result;\r\n}\r\n\r\nDate.prototype.setMin = function () {\r\n  this.setHours(0);\r\n  this.setMinutes(0);\r\n  this.setSeconds(0);\r\n  this.setMilliseconds(0);\r\n  return this;\r\n}\r\n\r\nNumber.prototype.roundTo = function (decimalPlaces) {\r\n  return Math.round(this * Number(\"1e\" + decimalPlaces)) / Number(\"1e\" + decimalPlaces);\r\n\r\n}\r\n\r\n\r\nif (!String.prototype.format) {\r\n  String.prototype.format = function () {\r\n    var args = arguments;\r\n    return this.replace(/{(\\d+)}/g, function (match, number) {\r\n      return typeof args[number] != 'undefined'\r\n        ? args[number]\r\n        : match\r\n        ;\r\n    });\r\n  };\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.enable)?_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('div',{staticClass:\"alert alert-primary\",attrs:{\"role\":\"alert\"}},[(_vm.isChecking)?[_c('div',{staticClass:\"spinner-border spinner-border-sm text-success\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})]),_vm._v(\" \"),_c('strong',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"Chemist Warehouse\")]),_vm._v(\" searching \\\"\"+_vm._s(_vm.term)+\"\\\"... \")]:_vm._e(),(!_vm.isChecking && _vm.term.length > 0)?[(_vm.matchedProducts && _vm.matchedProducts.length == 0)?[_c('strong',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"Chemist Warehouse\")]),_vm._v(\" Search result of \\\"\"+_vm._s(_vm.term)+\"\\\"\\\": 0 item(s) found on \"+_vm._s(_vm._f(\"date\")(_vm.lastChecked))+\" \")]:[_c('div',[_c('p',[_c('strong',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"Chemist Warehouse\")]),_vm._v(\" Search result of \\\"\"+_vm._s(_vm.term)+\"\\\"\\\": \"+_vm._s(_vm.matchedProducts.length)+\" item(s) found on \"+_vm._s(_vm._f(\"date\")(_vm.lastChecked))+\" \")]),_c('table',{staticClass:\"table table-borderless\"},_vm._l((_vm.matchedProducts),function(item,index){return _c('tr',{key:index},[_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('td',{staticStyle:{\"width\":\"10%\"}},[_vm._v(\"#\"+_vm._s(item.id))]),_c('td',[_vm._v(_vm._s(item.label))]),_c('td',{staticStyle:{\"width\":\"20%\"}},[(item.oldPrice != 0)?_c('small',[_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(item.oldPrice,_vm.audConfig)))])]):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.price,_vm.audConfig))+\" \"),(item.priceStatus == 'increase')?_c('i',{staticClass:\"fa fa-angle-double-up fa-lg\",staticStyle:{\"color\":\"red\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(item.priceStatus == 'decrease')?_c('i',{staticClass:\"fa fa-angle-double-down fa-lg\",staticStyle:{\"color\":\"green\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(item.percentage > 0)?_c('span',[_vm._v(\"(\"+_vm._s(item.percentage)+\"%)\")]):_vm._e()]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"10%\"}},[_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\",\"disabled\":_vm.selected.id == item.id},on:{\"click\":function($event){return _vm.matchProduct(item)}}},[_c('i',{staticClass:\"fa fa-check\"}),_vm._v(\" Select \")])],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('td',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(item.label)+\" (#\"+_vm._s(item.id)+\") - \"),_c('small',[_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(item.oldPrice,_vm.audConfig)))])]),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.price,_vm.audConfig))+\" \"),(item.priceStatus == 'increase')?_c('i',{staticClass:\"fa fa-angle-double-up fa-lg\",staticStyle:{\"color\":\"red\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(item.priceStatus == 'decrease')?_c('i',{staticClass:\"fa fa-angle-double-down fa-lg\",staticStyle:{\"color\":\"green\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" (\"+_vm._s(item.percentage)+\"%) \"),_c('br'),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\",\"disabled\":_vm.selected.id == item.id},on:{\"click\":function($event){return _vm.matchProduct(item)}}},[_c('i',{staticClass:\"fa fa-check\"}),_vm._v(\" Select \")])],1)]},proxy:true}],null,true)})],1)}),0)])]]:_vm._e()],2)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\nvar appSettings = Vue.appSettings;\r\n\r\nexport function productPredictive(product) {\r\n    var term = product.cwProductId || product.name;\r\n\r\n    return Vue.$http.get(appSettings.cwCheckPriceApi.replace(\"{term}\", term)).then(res => {\r\n        if (res && res.status == 200 && res.data) {\r\n            var data = res.data;\r\n            var validData = _.filter(data, item => parseFloat(item.id) > 0);\r\n            if (validData) {\r\n                validData = _.map(validData, decorateData(item, product));\r\n                return validData;\r\n            }\r\n            else { return [] }\r\n\r\n        }\r\n    });\r\n}\r\n\r\nfunction decorateData(item, product) {\r\n    item.price = parseFloat(item.Price);\r\n    item.thumbnail = appSettings.cwProductThumbnailUrl150.replace(\"{id}\", item.id);\r\n    var price = item.price;\r\n    var cwSP = product.supplierPices.find(x => x.supplier == \"CW\");\r\n    var cwPrice = parseFloat((cwSP && cwSP.price) || 0);\r\n\r\n    if (price > cwPrice + 0.5) {\r\n        item.priceStatus = \"greater\";\r\n    } else if (price < cwPrice - 0.5) {\r\n        item.priceStatus = \"less\";\r\n    } else {\r\n        item.priceStatus = \"equal\";\r\n    }\r\n\r\n    item.hasChanged = item.thumbnail != product.thumbnail || item.priceStatus != \"equal\";\r\n    return item;\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.useMobileView)?_vm._t(\"mobile\",[_vm._v(\"This is mobile view\")]):_vm._e(),(!_vm.useMobileView)?_vm._t(\"desktop\",[_vm._v(\"This is desktop view\")]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- use mobile view: {{useMobileView}}\r\n    <br />\r\n    inner width: {{innerWidth}}-->\r\n    <slot name=\"mobile\" v-if=\"useMobileView\">This is mobile view</slot>\r\n    <slot name=\"desktop\" v-if=\"!useMobileView\">This is desktop view</slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"viewPort\",\r\n  props: [],\r\n  data: function() {\r\n    return {\r\n      useMobileView: false,\r\n      innerWidth: 0\r\n    };\r\n  },\r\n  mounted: function() {\r\n    var self = this;\r\n    self.useMobileView = window.innerWidth < 700;\r\n    self.innerWidth = window.innerWidth;\r\n    window.addEventListener(\"resize\", function() {\r\n      self.useMobileView = window.innerWidth < 700;\r\n      self.innerWidth = window.innerWidth;\r\n    });\r\n  },\r\n  computed: {}\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewPort.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewPort.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./viewPort.vue?vue&type=template&id=3ff043da&\"\nimport script from \"./viewPort.vue?vue&type=script&lang=js&\"\nexport * from \"./viewPort.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-row v-if=\"enable\">\r\n    <b-col sm=\"12\">\r\n      <div class=\"alert alert-primary\" role=\"alert\">\r\n        <template v-if=\"isChecking\">\r\n          <div class=\"spinner-border spinner-border-sm text-success\" role=\"status\">\r\n            <span class=\"sr-only\"></span>\r\n          </div>&nbsp;&nbsp;\r\n          <strong style=\"margin-right: 20px;\">Chemist Warehouse</strong>\r\n          searching \"{{term}}\"...\r\n        </template>\r\n        <template v-if=\"!isChecking && term.length > 0\">\r\n          <template v-if=\"matchedProducts && matchedProducts.length == 0\">\r\n            <strong style=\"margin-right: 20px;\">Chemist Warehouse</strong>\r\n            Search result of \"{{term}}\"\": 0 item(s) found on {{lastChecked | date}}\r\n          </template>\r\n          <template v-else>\r\n            <div>\r\n              <p>\r\n                <strong style=\"margin-right: 20px;\">Chemist Warehouse</strong>\r\n                Search result of \"{{term}}\"\": {{matchedProducts.length}} item(s) found on {{lastChecked | date}}\r\n              </p>\r\n              <table class=\"table table-borderless\">\r\n                <tr v-for=\"(item, index) in matchedProducts\" :key=\"index\">\r\n                  <view-port>\r\n                    <template v-slot:desktop>\r\n                      <td style=\"width: 10%\">#{{item.id}}</td>\r\n                      <td>{{item.label}}</td>\r\n                      <td style=\"width: 20%\">\r\n                        <small v-if=\"item.oldPrice != 0\">\r\n                          <del>{{item.oldPrice | currency(audConfig)}}</del>\r\n                        </small>\r\n                        {{item.price | currency(audConfig)}}\r\n                        <i\r\n                          class=\"fa fa-angle-double-up fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'increase'\"\r\n                          style=\"color: red\"\r\n                        ></i>\r\n                        <i\r\n                          class=\"fa fa-angle-double-down fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'decrease'\"\r\n                          style=\"color: green\"\r\n                        ></i>\r\n                        <span v-if=\"item.percentage > 0\">({{item.percentage}}%)</span>\r\n                      </td>\r\n                      <td class=\"text-right\" style=\"width: 10%\">\r\n                        <b-button\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          variant=\"success\"\r\n                          @click=\"matchProduct(item)\"\r\n                          :disabled=\"selected.id == item.id\"\r\n                        >\r\n                          <i class=\"fa fa-check\"></i> Select\r\n                        </b-button>\r\n                      </td>\r\n                    </template>\r\n                    <template v-slot:mobile>\r\n                      <td style=\"width: 100%\">\r\n                        {{index + 1}}. {{item.label}} (#{{item.id}})\r\n                        -\r\n                        <small>\r\n                          <del>{{item.oldPrice | currency(audConfig)}}</del>\r\n                        </small>\r\n                        {{item.price | currency(audConfig)}}\r\n                        <i\r\n                          class=\"fa fa-angle-double-up fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'increase'\"\r\n                          style=\"color: red\"\r\n                        ></i>\r\n                        <i\r\n                          class=\"fa fa-angle-double-down fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'decrease'\"\r\n                          style=\"color: green\"\r\n                        ></i>\r\n                        ({{item.percentage}}%)\r\n                        <br />\r\n                        <b-button\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          variant=\"success\"\r\n                          @click=\"matchProduct(item)\"\r\n                          :disabled=\"selected.id == item.id\"\r\n                        >\r\n                          <i class=\"fa fa-check\"></i> Select\r\n                        </b-button>\r\n                      </td>\r\n                    </template>\r\n                  </view-port>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </div>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport { productPredictive } from \"@/shared/cwFunctions\";\r\nimport viewPort from \"../shared/viewPort\";\r\n\r\nexport default {\r\n  name: \"cwProductPredictive\",\r\n  components: { viewPort },\r\n  props: [],\r\n  data() {\r\n    return {\r\n      matchedProducts: [],\r\n      isChecking: false,\r\n      hasChanged: false,\r\n      product: {},\r\n      lastChecked: undefined,\r\n      selected: {},\r\n      term: \"\"\r\n    };\r\n  },\r\n  mounted: function() {},\r\n  watch: {},\r\n  computed: {\r\n    enable: function() {\r\n      return this.appSettings.enableCWProductPredictive;\r\n    }\r\n  },\r\n  methods: {\r\n    checkPrice: function(product, forceCheckAgain) {\r\n      if (!this.enable) return;\r\n      this.product = product;\r\n      this.selected = {};\r\n      this.matchedProducts = [];\r\n      if (!this.product || !this.product.name) return;\r\n      var today = new Date().setMin();\r\n\r\n      var { name, cwTracking } = this.product;\r\n      var supPrice =\r\n        this.product.supplierPrices && this.product.supplierPrices.find(x => x.supplier == \"CW\");\r\n      var cwProductId = supPrice && supPrice.id;\r\n      this.term = cwProductId || name;\r\n\r\n      if (\r\n        !forceCheckAgain &&\r\n        cwTracking &&\r\n        cwTracking.lastChecked &&\r\n        cwTracking.lastChecked.toDate() > today\r\n      ) {\r\n        this.matchedProducts.push({\r\n          supplier: \"CW\",\r\n          id: (this.product.supplierPrices.find(x => x.supplier == \"CW\") || {}).id,\r\n          priceStatus: cwTracking.priceStatus,\r\n          price: cwTracking.price,\r\n          oldPrice: cwTracking.oldPrice,\r\n          percentage: cwTracking.percentage,\r\n          label: this.product.name\r\n        });\r\n        this.lastChecked = cwTracking.lastChecked.toDate();\r\n        return;\r\n      }\r\n\r\n      this.isChecking = true;\r\n      this.hasChanged = false;\r\n\r\n      this.callCWCheckPriceApi(this.term).then(res => {\r\n        if (res && res.status == 200 && res.data) {\r\n          var data = res.data;\r\n          var validData = _.filter(data, item => parseFloat(item.id) > 0);\r\n          if (validData) {\r\n            validData = _.map(validData, this.decorateData);\r\n            validData.forEach(item => this.matchedProducts.push(item));\r\n          }\r\n\r\n          this.hasChanged = _.some(this.matchedProducts, { hasChanged: true });\r\n        }\r\n        this.lastChecked = new Date();\r\n        this.isChecking = false;\r\n      });\r\n    },\r\n    callCWCheckPriceApi: async function(term) {\r\n      var res = await this.$http.get(this.appSettings.cwCheckPriceApi.replace(\"{term}\", term));\r\n      if (\r\n        res &&\r\n        res.status == 200 &&\r\n        res.data &&\r\n        (res.data.length == 0 || res.data.indexOf(\"No results\") > -1)\r\n      ) {\r\n        if (term.indexOf(\"'s\") > -1) {\r\n          term = term.replace(\"'s\", \"\");\r\n          res = await this.$http.get(this.appSettings.cwCheckPriceApi.replace(\"{term}\", term));\r\n        }\r\n      }\r\n      return res;\r\n    },\r\n    decorateData: function(item) {\r\n      item.price = parseFloat(item.Price);\r\n      item.thumbnail = this.appSettings.cwProductThumbnailUrl150.replace(\"{id}\", item.id);\r\n\r\n      var price = item.price;\r\n      if (!this.product.supplierPrices || this.product.supplierPrices.length == 0) {\r\n        this.product.supplierPrices = [];\r\n        this.product.supplierPrices.push({\r\n          supplier: \"CW\"\r\n        });\r\n      }\r\n      var cwsp = this.product.supplierPrices.find(x => x.supplier == \"CW\");\r\n      var cwPrice = parseFloat((cwsp && cwsp.price) || 0);\r\n      item.supplier = \"CW\";\r\n      item.oldPrice = cwPrice;\r\n      if (cwPrice == 0) {\r\n        item.priceStatus = \"same\";\r\n        item.percentage = 0;\r\n      } else if (price > cwPrice + 0.5) {\r\n        item.priceStatus = \"increase\";\r\n        item.percentage = (((price - cwPrice) / cwPrice) * 100).toFixed(0);\r\n      } else if (price < cwPrice - 0.5) {\r\n        item.priceStatus = \"decrease\";\r\n        item.percentage = (((cwPrice - price) / cwPrice) * 100).toFixed(0);\r\n      } else {\r\n        item.priceStatus = \"same\";\r\n        item.percentage = 0;\r\n      }\r\n\r\n      item.hasChanged = item.thumbnail != this.product.thumbnail || item.priceStatus != \"same\";\r\n      return item;\r\n    },\r\n    matchProduct: function(item) {\r\n      this.selected = item;\r\n      this.$emit(\"productMatched\", { ...item });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cwProductPredictive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cwProductPredictive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cwProductPredictive.vue?vue&type=template&id=4d291632&\"\nimport script from \"./cwProductPredictive.vue?vue&type=script&lang=js&\"\nexport * from \"./cwProductPredictive.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.enable)?_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('div',{staticClass:\"alert alert-primary\",attrs:{\"role\":\"alert\"}},[(_vm.isChecking)?[_c('div',{staticClass:\"spinner-border spinner-border-sm text-success\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"})]),_vm._v(\" \"),_c('strong',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"Pandora\")]),_vm._v(\" searching \\\"\"+_vm._s(_vm.term)+\"\\\"... \")]:_vm._e(),(!_vm.isChecking && _vm.term.length > 0 )?[(_vm.matchedProducts && _vm.matchedProducts.length == 0)?[_c('strong',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"Pandora\")]),_vm._v(\" Search result of \\\"\"+_vm._s(_vm.term)+\"\\\"\\\": 0 item(s) found on \"+_vm._s(_vm._f(\"date\")(_vm.lastChecked))+\" \")]:[_c('div',[_c('p',[_c('strong',{staticStyle:{\"margin-right\":\"20px\"}},[_vm._v(\"Pandora\")]),_vm._v(\" Search result of \\\"\"+_vm._s(_vm.term)+\"\\\"\\\": \"+_vm._s(_vm.matchedProducts.length)+\" item(s) found on \"+_vm._s(_vm._f(\"date\")(_vm.lastChecked))+\" \")]),_c('table',{staticClass:\"table table-borderless\"},_vm._l((_vm.matchedProducts),function(item,index){return _c('tr',{key:index},[_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('td',{staticStyle:{\"width\":\"20%\"}},[_vm._v(\"#\"+_vm._s(item.id))]),_c('td',[_vm._v(_vm._s(item.label))]),_c('td',{staticStyle:{\"width\":\"20%\"}},[(item.oldPrice != 0 && item.priceStatus != 'same')?_c('small',[_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(item.oldPrice,_vm.audConfig)))])]):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.price,_vm.audConfig))+\" \"),(item.priceStatus == 'increase')?_c('i',{staticClass:\"fa fa-angle-double-up fa-lg\",staticStyle:{\"color\":\"red\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(item.priceStatus == 'decrease')?_c('i',{staticClass:\"fa fa-angle-double-down fa-lg\",staticStyle:{\"color\":\"green\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(item.percentage > 0)?_c('span',[_vm._v(\"(\"+_vm._s(item.percentage)+\"%)\")]):_vm._e()]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"10%\"}},[_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\",\"disabled\":_vm.selected.id == item.id},on:{\"click\":function($event){return _vm.matchProduct(item)}}},[_c('i',{staticClass:\"fa fa-check\"}),_vm._v(\" Select \")])],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('td',{staticStyle:{\"width\":\"100%\"}},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(item.label)+\" (#\"+_vm._s(item.id)+\") - \"),_c('small',[_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(item.oldPrice,_vm.audConfig)))])]),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.price,_vm.audConfig))+\" \"),(item.priceStatus == 'increase')?_c('i',{staticClass:\"fa fa-angle-double-up fa-lg\",staticStyle:{\"color\":\"red\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(item.priceStatus == 'decrease')?_c('i',{staticClass:\"fa fa-angle-double-down fa-lg\",staticStyle:{\"color\":\"green\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" (\"+_vm._s(item.percentage)+\"%) \"),_c('br'),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\",\"disabled\":_vm.selected.id == item.id},on:{\"click\":function($event){return _vm.matchProduct(item)}}},[_c('i',{staticClass:\"fa fa-check\"}),_vm._v(\" Select \")])],1)]},proxy:true}],null,true)})],1)}),0)])]]:_vm._e()],2)])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-row v-if=\"enable\">\r\n    <b-col sm=\"12\">\r\n      <div class=\"alert alert-primary\" role=\"alert\">\r\n        <template v-if=\"isChecking\">\r\n          <div class=\"spinner-border spinner-border-sm text-success\" role=\"status\">\r\n            <span class=\"sr-only\"></span>\r\n          </div>&nbsp;&nbsp;\r\n          <strong style=\"margin-right: 20px;\">Pandora</strong>\r\n          searching \"{{term}}\"...\r\n        </template>\r\n        <template v-if=\"!isChecking && term.length > 0 \">\r\n          <template v-if=\"matchedProducts && matchedProducts.length == 0\">\r\n            <strong style=\"margin-right: 20px;\">Pandora</strong>\r\n            Search result of \"{{term}}\"\": 0 item(s) found on {{lastChecked | date}}\r\n          </template>\r\n          <template v-else>\r\n            <div>\r\n              <p>\r\n                <strong style=\"margin-right: 20px;\">Pandora</strong>\r\n                Search result of \"{{term}}\"\": {{matchedProducts.length}} item(s) found on {{lastChecked | date}}\r\n              </p>\r\n              <table class=\"table table-borderless\">\r\n                <tr v-for=\"(item, index) in matchedProducts\" :key=\"index\">\r\n                  <view-port>\r\n                    <template v-slot:desktop>\r\n                      <td style=\"width: 20%\">#{{item.id}}</td>\r\n                      <td>{{item.label}}</td>\r\n                      <td style=\"width: 20%\">\r\n                        <small v-if=\"item.oldPrice != 0 && item.priceStatus != 'same'\">\r\n                          <del>{{item.oldPrice | currency(audConfig)}}</del>\r\n                        </small>\r\n                        {{item.price | currency(audConfig)}}\r\n                        <i\r\n                          class=\"fa fa-angle-double-up fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'increase'\"\r\n                          style=\"color: red\"\r\n                        ></i>\r\n                        <i\r\n                          class=\"fa fa-angle-double-down fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'decrease'\"\r\n                          style=\"color: green\"\r\n                        ></i>\r\n                        <span v-if=\"item.percentage > 0\">({{item.percentage}}%)</span>\r\n                      </td>\r\n                      <td class=\"text-right\" style=\"width: 10%\">\r\n                        <b-button\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          variant=\"success\"\r\n                          @click=\"matchProduct(item)\"\r\n                          :disabled=\"selected.id == item.id\"\r\n                        >\r\n                          <i class=\"fa fa-check\"></i> Select\r\n                        </b-button>\r\n                      </td>\r\n                    </template>\r\n                    <template v-slot:mobile>\r\n                      <td style=\"width: 100%\">\r\n                        {{index + 1}}. {{item.label}} (#{{item.id}})\r\n                        -\r\n                        <small>\r\n                          <del>{{item.oldPrice | currency(audConfig)}}</del>\r\n                        </small>\r\n                        {{item.price | currency(audConfig)}}\r\n                        <i\r\n                          class=\"fa fa-angle-double-up fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'increase'\"\r\n                          style=\"color: red\"\r\n                        ></i>\r\n                        <i\r\n                          class=\"fa fa-angle-double-down fa-lg\"\r\n                          aria-hidden=\"true\"\r\n                          v-if=\"item.priceStatus == 'decrease'\"\r\n                          style=\"color: green\"\r\n                        ></i>\r\n                        ({{item.percentage}}%)\r\n                        <br />\r\n                        <b-button\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          variant=\"success\"\r\n                          @click=\"matchProduct(item)\"\r\n                          :disabled=\"selected.id == item.id\"\r\n                        >\r\n                          <i class=\"fa fa-check\"></i> Select\r\n                        </b-button>\r\n                      </td>\r\n                    </template>\r\n                  </view-port>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </div>\r\n    </b-col>\r\n  </b-row>\r\n</template>\r\n\r\n<script>\r\nimport viewPort from \"../shared/viewPort\";\r\nconst convert = require(\"html-to-json-data\");\r\nconst {\r\n  group,\r\n  text,\r\n  number,\r\n  href,\r\n  src,\r\n  uniq,\r\n  attr,\r\n  data\r\n} = require(\"html-to-json-data/definitions\");\r\n\r\nexport default {\r\n  name: \"PAProductPredictive\",\r\n  components: { viewPort },\r\n  props: [],\r\n  data() {\r\n    return {\r\n      matchedProducts: [],\r\n      isChecking: false,\r\n      product: {},\r\n      lastChecked: undefined,\r\n      selected: {},\r\n      term: \"\"\r\n    };\r\n  },\r\n  mounted: function() {},\r\n  watch: {},\r\n  computed: {\r\n    enable: function() {\r\n      return this.appSettings.enablePAProductPredictive;\r\n    }\r\n  },\r\n  methods: {\r\n    checkPrice: function(product, forceCheckAgain) {\r\n      if (!this.enable) return;\r\n      this.product = product;\r\n      this.selected = {};\r\n      this.matchedProducts = [];\r\n      if (!this.product || !this.product.name) return;\r\n      var today = new Date().setMin();\r\n\r\n      var { name, paTracking } = this.product;\r\n\r\n      var supPrice =\r\n        this.product.supplierPrices && this.product.supplierPrices.find(x => x.supplier == \"PA\");\r\n      var paProductId = supPrice && supPrice.id;\r\n\r\n      this.term = paProductId || name;\r\n\r\n      if (\r\n        !forceCheckAgain &&\r\n        paTracking &&\r\n        paTracking.lastChecked &&\r\n        paTracking.lastChecked.toDate() > today\r\n      ) {\r\n        this.matchedProducts.push({\r\n          supplier: \"PA\",\r\n          id: paProductId,\r\n          priceStatus: paTracking.priceStatus,\r\n          price: paTracking.price,\r\n          oldPrice: paTracking.oldPrice,\r\n          percentage: paTracking.percentage,\r\n          label: this.product.name\r\n        });\r\n        this.lastChecked = paTracking.lastChecked.toDate();\r\n        return;\r\n      }\r\n\r\n      this.isChecking = true;\r\n\r\n      this.callPACheckPriceApi(this.term).then(res => {\r\n        if (res && res.status == 200 && res.data) {\r\n          var products = this.parseHtml2Json(res.data);\r\n          if (products && products.length > 0) {\r\n            var decoratedProducts = _.map(products, this.decorateData);\r\n            decoratedProducts.forEach(item => this.matchedProducts.push(item));\r\n          }\r\n        }\r\n        this.lastChecked = new Date();\r\n        this.isChecking = false;\r\n      });\r\n    },\r\n    parseHtml2Json: function(html) {\r\n      var result = convert(html, {\r\n        paProducts: group(\".Search-suggestion__product\", {\r\n          url: data(\":self\", \"url\"),\r\n          imgSrc: attr(\"img\", \"src\"),\r\n          label: text(\".search-suggestion-right-panel-product-name\"),\r\n          priceRange: attr(\".pricerange input[type=hidden]\", \"value\"),\r\n          prices: attr(\".product-price input[class*=price]\", \"value\"),\r\n          saleprice: attr(\".product-price input[class*=saleprice]\", \"value\"),\r\n          stdprice: attr(\".product-price input[class*=stdprice]\", \"value\")\r\n        })\r\n      });\r\n      console.log(result);\r\n      return result.paProducts;\r\n    },\r\n    callPACheckPriceApi: async function(term) {\r\n      var url = this.appSettings.paProductGetSuggestion.replace(\"{q}\", term);\r\n      var res = await this.$http.get(url);\r\n      return res;\r\n    },\r\n    decorateData: function(item) {\r\n      item.id = item.url && item.url.substring(item.url.lastIndexOf(\"/\") + 1).replace(\".html\", \"\");\r\n      item.price = parseFloat(item.saleprice);\r\n      item.thumbnail = item.imgSrc;\r\n\r\n      var price = item.price;\r\n      if (!this.product.supplierPrices || this.product.supplierPrices.length == 0) {\r\n        this.product.supplierPrices = [];\r\n        this.product.supplierPrices.push({\r\n          supplier: \"PA\"\r\n        });\r\n      }\r\n      var supplierPrice = this.product.supplierPrices.find(x => x.supplier == \"PA\");\r\n      var oldPrice = parseFloat((supplierPrice && supplierPrice.price) || 0);\r\n      item.supplier = \"PA\";\r\n      item.oldPrice = oldPrice;\r\n      if (oldPrice == 0) {\r\n        item.priceStatus = \"same\";\r\n        item.percentage = 0;\r\n      } else if (price > oldPrice + 0.5) {\r\n        item.priceStatus = \"increase\";\r\n        item.percentage = (((price - oldPrice) / oldPrice) * 100).toFixed(0);\r\n      } else if (price < oldPrice - 0.5) {\r\n        item.priceStatus = \"decrease\";\r\n        item.percentage = (((oldPrice - price) / oldPrice) * 100).toFixed(0);\r\n      } else {\r\n        item.priceStatus = \"same\";\r\n        item.percentage = 0;\r\n      }\r\n\r\n      return item;\r\n    },\r\n    matchProduct: function(item) {\r\n      this.selected = item;\r\n      this.$emit(\"productMatched\", { ...item });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PAProductPredictive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PAProductPredictive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PAProductPredictive.vue?vue&type=template&id=4f53787b&\"\nimport script from \"./PAProductPredictive.vue?vue&type=script&lang=js&\"\nexport * from \"./PAProductPredictive.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vdpComponent\",class:{vdpWithInput: _vm.hasInputElement},staticStyle:{\"width\":\"100%\"}},[(_vm.hasInputElement)?_c('input',_vm._b({staticClass:\"form-control\",attrs:{\"type\":\"text\",\"readonly\":_vm.isReadOnly},domProps:{\"value\":_vm.inputValue},on:{\"input\":function($event){_vm.editable && _vm.processUserInput($event.target.value)},\"focus\":function($event){_vm.editable && _vm.open()},\"click\":function($event){_vm.editable && _vm.open()}}},'input',_vm.inputAttributes,false)):_vm._e(),(_vm.editable && _vm.hasInputElement && _vm.inputValue)?_c('button',{staticClass:\"vdpClearInput\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.clear}}):_vm._e(),_c('transition',{attrs:{\"name\":\"vdp-toggle-calendar\"}},[(_vm.opened)?_c('div',{ref:\"outerWrap\",staticClass:\"vdpOuterWrap\",class:[_vm.positionClass, {vdpFloating: _vm.hasInputElement}],on:{\"click\":_vm.closeViaOverlay}},[_c('div',{staticClass:\"vdpInnerWrap\"},[_c('header',{staticClass:\"vdpHeader\"},[_c('button',{staticClass:\"vdpArrow vdpArrowPrev\",attrs:{\"title\":_vm.prevMonthCaption,\"type\":\"button\"},on:{\"click\":function($event){return _vm.incrementMonth(-1)}}},[_vm._v(_vm._s(_vm.prevMonthCaption))]),_c('button',{staticClass:\"vdpArrow vdpArrowNext\",attrs:{\"type\":\"button\",\"title\":_vm.nextMonthCaption},on:{\"click\":function($event){return _vm.incrementMonth(1)}}},[_vm._v(_vm._s(_vm.nextMonthCaption))]),_c('div',{staticClass:\"vdpPeriodControls\"},[_c('div',{staticClass:\"vdpPeriodControl\"},[_c('button',{key:_vm.currentPeriod.month,class:_vm.directionClass,attrs:{\"type\":\"button\"}},[_vm._v(_vm._s(_vm.months[_vm.currentPeriod.month]))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentPeriod.month),expression:\"currentPeriod.month\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.currentPeriod, \"month\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.months),function(month,index){return _c('option',{key:month,domProps:{\"value\":index}},[_vm._v(_vm._s(month))])}),0)]),_c('div',{staticClass:\"vdpPeriodControl\"},[_c('button',{key:_vm.currentPeriod.year,class:_vm.directionClass,attrs:{\"type\":\"button\"}},[_vm._v(_vm._s(_vm.currentPeriod.year))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentPeriod.year),expression:\"currentPeriod.year\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.currentPeriod, \"year\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.yearRange),function(year){return _c('option',{key:year,domProps:{\"value\":year}},[_vm._v(_vm._s(year))])}),0)])])]),_c('table',{staticClass:\"vdpTable\"},[_c('thead',[_c('tr',_vm._l((_vm.weekdaysSorted),function(weekday){return _c('th',{key:weekday,staticClass:\"vdpHeadCell\"},[_c('span',{staticClass:\"vdpHeadCellContent\"},[_vm._v(_vm._s(weekday))])])}),0)]),_c('tbody',{key:_vm.currentPeriod.year + '-' + _vm.currentPeriod.month,class:_vm.directionClass},_vm._l((_vm.currentPeriodDates),function(week,weekIndex){return _c('tr',{key:weekIndex,staticClass:\"vdpRow\"},_vm._l((week),function(item){return _c('td',{key:item.dateKey,staticClass:\"vdpCell\",class:{\n                                      selectable: !item.disabled,\n                                      selected: item.selected,\n                                      disabled: item.disabled,\n                                      today: item.today,\n                                      outOfRange: item.outOfRange\n                                  },attrs:{\"data-id\":item.dateKey},on:{\"click\":function($event){return _vm.selectDateItem(item)}}},[_c('div',{staticClass:\"vdpCellContent\"},[_vm._v(_vm._s(item.date.getDate()))])])}),0)}),0)]),(_vm.pickTime && _vm.currentTime)?_c('div',{staticClass:\"vdpTimeControls\"},[_c('span',{staticClass:\"vdpTimeCaption\"},[_vm._v(_vm._s(_vm.setTimeCaption))]),_c('div',{staticClass:\"vdpTimeUnit\"},[_c('pre',[_c('span',[_vm._v(_vm._s(_vm.currentTime.hoursPadded))]),_c('br')]),_c('input',{staticClass:\"vdpHoursInput\",attrs:{\"type\":\"number\",\"pattern\":\"\\\\d*\"},domProps:{\"value\":_vm.currentTime.hoursPadded},on:{\"input\":function($event){$event.preventDefault();return _vm.inputTime('setHours', $event)}}})]),(_vm.pickMinutes)?_c('span',{staticClass:\"vdpTimeSeparator\"},[_vm._v(\":\")]):_vm._e(),(_vm.pickMinutes)?_c('div',{staticClass:\"vdpTimeUnit\"},[_c('pre',[_c('span',[_vm._v(_vm._s(_vm.currentTime.minutesPadded))]),_c('br')]),(_vm.pickMinutes)?_c('input',{staticClass:\"vdpMinutesInput\",attrs:{\"type\":\"number\",\"pattern\":\"\\\\d*\"},domProps:{\"value\":_vm.currentTime.minutesPadded},on:{\"input\":function($event){return _vm.inputTime('setMinutes', $event)}}}):_vm._e()]):_vm._e(),(_vm.pickSeconds)?_c('span',{staticClass:\"vdpTimeSeparator\"},[_vm._v(\":\")]):_vm._e(),(_vm.pickSeconds)?_c('div',{staticClass:\"vdpTimeUnit\"},[_c('pre',[_c('span',[_vm._v(_vm._s(_vm.currentTime.secondsPadded))]),_c('br')]),(_vm.pickSeconds)?_c('input',{staticClass:\"vdpSecondsInput\",attrs:{\"type\":\"number\",\"pattern\":\"\\\\d*\"},domProps:{\"value\":_vm.currentTime.secondsPadded},on:{\"input\":function($event){return _vm.inputTime('setSeconds', $event)}}}):_vm._e()]):_vm._e()]):_vm._e()])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vdpComponent\" v-bind:class=\"{vdpWithInput: hasInputElement}\" style=\"width: 100%\">\r\n    <input\r\n      class=\"form-control\"\r\n      v-if=\"hasInputElement\"\r\n      type=\"text\"\r\n      v-bind=\"inputAttributes\"\r\n      v-bind:readonly=\"isReadOnly\"\r\n      v-bind:value=\"inputValue\"\r\n      v-on:input=\"editable && processUserInput($event.target.value)\"\r\n      v-on:focus=\"editable && open()\"\r\n      v-on:click=\"editable && open()\"\r\n    />\r\n    <button\r\n      v-if=\"editable && hasInputElement && inputValue\"\r\n      class=\"vdpClearInput\"\r\n      type=\"button\"\r\n      v-on:click=\"clear\"\r\n    ></button>\r\n    <transition name=\"vdp-toggle-calendar\">\r\n      <div\r\n        v-if=\"opened\"\r\n        class=\"vdpOuterWrap\"\r\n        ref=\"outerWrap\"\r\n        v-on:click=\"closeViaOverlay\"\r\n        v-bind:class=\"[positionClass, {vdpFloating: hasInputElement}]\"\r\n      >\r\n        <div class=\"vdpInnerWrap\">\r\n          <header class=\"vdpHeader\">\r\n            <button\r\n              class=\"vdpArrow vdpArrowPrev\"\r\n              v-bind:title=\"prevMonthCaption\"\r\n              type=\"button\"\r\n              v-on:click=\"incrementMonth(-1)\"\r\n            >{{ prevMonthCaption }}</button>\r\n            <button\r\n              class=\"vdpArrow vdpArrowNext\"\r\n              type=\"button\"\r\n              v-bind:title=\"nextMonthCaption\"\r\n              v-on:click=\"incrementMonth(1)\"\r\n            >{{ nextMonthCaption }}</button>\r\n            <div class=\"vdpPeriodControls\">\r\n              <div class=\"vdpPeriodControl\">\r\n                <button\r\n                  v-bind:class=\"directionClass\"\r\n                  v-bind:key=\"currentPeriod.month\"\r\n                  type=\"button\"\r\n                >{{ months[currentPeriod.month] }}</button>\r\n                <select v-model=\"currentPeriod.month\">\r\n                  <option\r\n                    v-for=\"(month, index) in months\"\r\n                    v-bind:value=\"index\"\r\n                    v-bind:key=\"month\"\r\n                  >{{ month }}</option>\r\n                </select>\r\n              </div>\r\n              <div class=\"vdpPeriodControl\">\r\n                <button\r\n                  v-bind:class=\"directionClass\"\r\n                  v-bind:key=\"currentPeriod.year\"\r\n                  type=\"button\"\r\n                >{{ currentPeriod.year }}</button>\r\n                <select v-model=\"currentPeriod.year\">\r\n                  <option v-for=\"year in yearRange\" v-bind:value=\"year\" v-bind:key=\"year\">{{ year }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </header>\r\n          <table class=\"vdpTable\">\r\n            <thead>\r\n              <tr>\r\n                <th class=\"vdpHeadCell\" v-for=\"weekday in weekdaysSorted\" v-bind:key=\"weekday\">\r\n                  <span class=\"vdpHeadCellContent\">{{weekday}}</span>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody\r\n              v-bind:key=\"currentPeriod.year + '-' + currentPeriod.month\"\r\n              v-bind:class=\"directionClass\"\r\n            >\r\n              <tr\r\n                class=\"vdpRow\"\r\n                v-for=\"(week, weekIndex) in currentPeriodDates\"\r\n                v-bind:key=\"weekIndex\"\r\n              >\r\n                <td\r\n                  class=\"vdpCell\"\r\n                  v-for=\"item in week\"\r\n                  v-bind:class=\"{\r\n                                        selectable: !item.disabled,\r\n                                        selected: item.selected,\r\n                                        disabled: item.disabled,\r\n                                        today: item.today,\r\n                                        outOfRange: item.outOfRange\r\n                                    }\"\r\n                  v-bind:data-id=\"item.dateKey\"\r\n                  v-bind:key=\"item.dateKey\"\r\n                  v-on:click=\"selectDateItem(item)\"\r\n                >\r\n                  <div class=\"vdpCellContent\">{{ item.date.getDate() }}</div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div v-if=\"pickTime && currentTime\" class=\"vdpTimeControls\">\r\n            <span class=\"vdpTimeCaption\">{{ setTimeCaption }}</span>\r\n            <div class=\"vdpTimeUnit\">\r\n              <pre><span>{{ currentTime.hoursPadded }}</span><br /></pre>\r\n              <input\r\n                type=\"number\"\r\n                pattern=\"\\d*\"\r\n                class=\"vdpHoursInput\"\r\n                v-on:input.prevent=\"inputTime('setHours', $event)\"\r\n                v-bind:value=\"currentTime.hoursPadded\"\r\n              />\r\n            </div>\r\n            <span v-if=\"pickMinutes\" class=\"vdpTimeSeparator\">:</span>\r\n            <div v-if=\"pickMinutes\" class=\"vdpTimeUnit\">\r\n              <pre><span>{{ currentTime.minutesPadded }}</span><br /></pre>\r\n              <input\r\n                v-if=\"pickMinutes\"\r\n                type=\"number\"\r\n                pattern=\"\\d*\"\r\n                class=\"vdpMinutesInput\"\r\n                v-on:input=\"inputTime('setMinutes', $event)\"\r\n                v-bind:value=\"currentTime.minutesPadded\"\r\n              />\r\n            </div>\r\n            <span v-if=\"pickSeconds\" class=\"vdpTimeSeparator\">:</span>\r\n            <div v-if=\"pickSeconds\" class=\"vdpTimeUnit\">\r\n              <pre><span>{{ currentTime.secondsPadded }}</span><br /></pre>\r\n              <input\r\n                v-if=\"pickSeconds\"\r\n                type=\"number\"\r\n                pattern=\"\\d*\"\r\n                class=\"vdpSecondsInput\"\r\n                v-on:input=\"inputTime('setSeconds', $event)\"\r\n                v-bind:value=\"currentTime.secondsPadded\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst formatRE = /,|\\.|-| |:|\\/|\\\\/;\r\nconst dayRE = /D+/;\r\nconst monthRE = /M+/;\r\nconst yearRE = /Y+/;\r\nconst hoursRE = /h+/i;\r\nconst minutesRE = /m+/;\r\nconst secondsRE = /s+/;\r\n\r\nexport default {\r\n  props: {\r\n    value: { type: String, default: \"\" },\r\n    format: { type: String, default: \"YYYY-MM-DD\" },\r\n    displayFormat: { type: String },\r\n    editable: { type: Boolean, default: true },\r\n    hasInputElement: { type: Boolean, default: true },\r\n    inputAttributes: { type: Object },\r\n    selectableYearRange: { type: Number, default: 40 },\r\n    parseDate: { type: Function },\r\n    formatDate: { type: Function },\r\n    pickTime: { type: Boolean, default: false },\r\n    pickMinutes: { type: Boolean, default: true },\r\n    pickSeconds: { type: Boolean, default: false },\r\n    isDateDisabled: { type: Function, default: () => false },\r\n    nextMonthCaption: { type: String, default: \"Next month\" },\r\n    prevMonthCaption: { type: String, default: \"Previous month\" },\r\n    setTimeCaption: { type: String, default: \"Set time:\" },\r\n    mobileBreakpointWidth: { type: Number, default: 500 },\r\n    weekdays: {\r\n      type: Array,\r\n      default: () => [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"]\r\n    },\r\n    months: {\r\n      type: Array,\r\n      default: () => [\r\n        \"January\",\r\n        \"February\",\r\n        \"March\",\r\n        \"April\",\r\n        \"May\",\r\n        \"June\",\r\n        \"July\",\r\n        \"August\",\r\n        \"September\",\r\n        \"October\",\r\n        \"November\",\r\n        \"December\"\r\n      ]\r\n    },\r\n    startWeekOnSunday: { type: Boolean, default: false }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      inputValue: this.valueToInputFormat(this.value),\r\n      currentPeriod: this.getPeriodFromValue(this.value, this.format),\r\n      direction: undefined,\r\n      positionClass: undefined,\r\n      opened: !this.hasInputElement\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    valueDate() {\r\n      const value = this.value;\r\n      const format = this.format;\r\n\r\n      return value ? this.parseDateString(value, format) : undefined;\r\n    },\r\n\r\n    isReadOnly() {\r\n      return !this.editable || (this.inputAttributes && this.inputAttributes.readonly);\r\n    },\r\n\r\n    isValidValue() {\r\n      const valueDate = this.valueDate;\r\n\r\n      return this.value ? Boolean(valueDate) : true;\r\n    },\r\n\r\n    currentPeriodDates() {\r\n      const { year, month } = this.currentPeriod;\r\n      const days = [];\r\n      const date = new Date(year, month, 1);\r\n      const today = new Date();\r\n      const offset = this.startWeekOnSunday ? 1 : 0;\r\n\r\n      // append prev month dates\r\n      const startDay = date.getDay() || 7;\r\n\r\n      if (startDay > 1 - offset) {\r\n        for (let i = startDay - (2 - offset); i >= 0; i--) {\r\n          const prevDate = new Date(date);\r\n          prevDate.setDate(-i);\r\n          days.push({ outOfRange: true, date: prevDate });\r\n        }\r\n      }\r\n\r\n      while (date.getMonth() === month) {\r\n        days.push({ date: new Date(date) });\r\n        date.setDate(date.getDate() + 1);\r\n      }\r\n\r\n      // append next month dates\r\n      const daysLeft = 7 - (days.length % 7);\r\n\r\n      for (let i = 1; i <= daysLeft; i++) {\r\n        const nextDate = new Date(date);\r\n        nextDate.setDate(i);\r\n        days.push({ outOfRange: true, date: nextDate });\r\n      }\r\n\r\n      // define day states\r\n      days.forEach(day => {\r\n        day.disabled = this.isDateDisabled(day.date);\r\n        day.today = areSameDates(day.date, today);\r\n        day.dateKey = [day.date.getFullYear(), day.date.getMonth() + 1, day.date.getDate()].join(\r\n          \"-\"\r\n        );\r\n        day.selected = this.valueDate ? areSameDates(day.date, this.valueDate) : false;\r\n      });\r\n\r\n      return chunkArray(days, 7);\r\n    },\r\n\r\n    yearRange() {\r\n      const years = [];\r\n      const currentYear = this.currentPeriod.year;\r\n      const startYear = currentYear - this.selectableYearRange;\r\n      const endYear = currentYear + this.selectableYearRange;\r\n\r\n      for (let i = startYear; i <= endYear; i++) {\r\n        years.push(i);\r\n      }\r\n\r\n      return years;\r\n    },\r\n\r\n    currentTime() {\r\n      const currentDate = this.valueDate;\r\n\r\n      return currentDate\r\n        ? {\r\n            hours: currentDate.getHours(),\r\n            minutes: currentDate.getMinutes(),\r\n            seconds: currentDate.getSeconds(),\r\n            hoursPadded: paddNum(currentDate.getHours(), 1),\r\n            minutesPadded: paddNum(currentDate.getMinutes(), 2),\r\n            secondsPadded: paddNum(currentDate.getSeconds(), 2)\r\n          }\r\n        : undefined;\r\n    },\r\n\r\n    directionClass() {\r\n      return this.direction ? `vdp${this.direction}Direction` : undefined;\r\n    },\r\n\r\n    weekdaysSorted() {\r\n      if (this.startWeekOnSunday) {\r\n        const weekdays = this.weekdays.slice();\r\n        weekdays.unshift(weekdays.pop());\r\n        return weekdays;\r\n      } else {\r\n        return this.weekdays;\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    value(value) {\r\n      if (this.isValidValue) {\r\n        this.inputValue = this.valueToInputFormat(value);\r\n        this.currentPeriod = this.getPeriodFromValue(value, this.format);\r\n      }\r\n    },\r\n\r\n    currentPeriod(currentPeriod, oldPeriod) {\r\n      const currentDate = new Date(currentPeriod.year, currentPeriod.month).getTime();\r\n      const oldDate = new Date(oldPeriod.year, oldPeriod.month).getTime();\r\n\r\n      this.direction =\r\n        currentDate !== oldDate ? (currentDate > oldDate ? \"Next\" : \"Prev\") : undefined;\r\n    }\r\n  },\r\n\r\n  beforeDestroy() {\r\n    this.removeCloseEvents();\r\n    this.teardownPosition();\r\n  },\r\n\r\n  methods: {\r\n    valueToInputFormat(value) {\r\n      return !this.displayFormat\r\n        ? value\r\n        : this.formatDateToString(this.parseDateString(value, this.format), this.displayFormat) ||\r\n            value;\r\n    },\r\n\r\n    getPeriodFromValue(dateString, format) {\r\n      const date = this.parseDateString(dateString, format) || new Date();\r\n\r\n      return { month: date.getMonth(), year: date.getFullYear() };\r\n    },\r\n\r\n    parseDateString(dateString, dateFormat) {\r\n      return !dateString\r\n        ? undefined\r\n        : this.parseDate\r\n        ? this.parseDate(dateString, dateFormat)\r\n        : this.parseSimpleDateString(dateString, dateFormat);\r\n    },\r\n\r\n    formatDateToString(date, dateFormat) {\r\n      return !date\r\n        ? \"\"\r\n        : this.formatDate\r\n        ? this.formatDate(date, dateFormat)\r\n        : this.formatSimpleDateToString(date, dateFormat);\r\n    },\r\n\r\n    parseSimpleDateString(dateString, dateFormat) {\r\n      let day, month, year, hours, minutes, seconds;\r\n\r\n      const dateParts = dateString.split(formatRE);\r\n      const formatParts = dateFormat.split(formatRE);\r\n      const partsSize = formatParts.length;\r\n\r\n      for (let i = 0; i < partsSize; i++) {\r\n        if (formatParts[i].match(dayRE)) {\r\n          day = parseInt(dateParts[i], 10);\r\n        } else if (formatParts[i].match(monthRE)) {\r\n          month = parseInt(dateParts[i], 10);\r\n        } else if (formatParts[i].match(yearRE)) {\r\n          year = parseInt(dateParts[i], 10);\r\n        } else if (formatParts[i].match(hoursRE)) {\r\n          hours = parseInt(dateParts[i], 10);\r\n        } else if (formatParts[i].match(minutesRE)) {\r\n          minutes = parseInt(dateParts[i], 10);\r\n        } else if (formatParts[i].match(secondsRE)) {\r\n          seconds = parseInt(dateParts[i], 10);\r\n        }\r\n      }\r\n\r\n      const resolvedDate = new Date(\r\n        [paddNum(year, 4), paddNum(month, 2), paddNum(day, 2)].join(\"-\")\r\n      );\r\n\r\n      if (isNaN(resolvedDate)) {\r\n        return undefined;\r\n      } else {\r\n        const date = new Date(year, month - 1, day);\r\n\r\n        [\r\n          [year, \"setFullYear\"],\r\n          [hours, \"setHours\"],\r\n          [minutes, \"setMinutes\"],\r\n          [seconds, \"setSeconds\"]\r\n        ].forEach(([value, method]) => {\r\n          typeof value !== \"undefined\" && date[method](value);\r\n        });\r\n\r\n        return date;\r\n      }\r\n    },\r\n\r\n    formatSimpleDateToString(date, dateFormat) {\r\n      return dateFormat\r\n        .replace(yearRE, match => date.getFullYear())\r\n        .replace(monthRE, match => paddNum(date.getMonth() + 1, match.length))\r\n        .replace(dayRE, match => paddNum(date.getDate(), match.length))\r\n        .replace(hoursRE, match => paddNum(date.getHours(), match.length))\r\n        .replace(minutesRE, match => paddNum(date.getMinutes(), match.length))\r\n        .replace(secondsRE, match => paddNum(date.getSeconds(), match.length));\r\n    },\r\n\r\n    incrementMonth(increment = 1) {\r\n      const refDate = new Date(this.currentPeriod.year, this.currentPeriod.month);\r\n      const incrementDate = new Date(refDate.getFullYear(), refDate.getMonth() + increment);\r\n\r\n      this.currentPeriod = {\r\n        month: incrementDate.getMonth(),\r\n        year: incrementDate.getFullYear()\r\n      };\r\n    },\r\n\r\n    processUserInput(userText) {\r\n      const userDate = this.parseDateString(userText, this.displayFormat || this.format);\r\n\r\n      this.inputValue = userText;\r\n\r\n      this.$emit(\"input\", userDate ? this.formatDateToString(userDate, this.format) : userText);\r\n    },\r\n\r\n    open() {\r\n      if (!this.opened) {\r\n        this.opened = true;\r\n        this.currentPeriod = this.getPeriodFromValue(this.value, this.format);\r\n        this.addCloseEvents();\r\n        this.setupPosition();\r\n      }\r\n      this.direction = undefined;\r\n    },\r\n\r\n    close() {\r\n      if (this.opened) {\r\n        this.opened = false;\r\n        this.direction = undefined;\r\n        this.removeCloseEvents();\r\n        this.teardownPosition();\r\n      }\r\n    },\r\n\r\n    closeViaOverlay(e) {\r\n      if (this.hasInputElement && e.target === this.$refs.outerWrap) {\r\n        this.close();\r\n      }\r\n    },\r\n\r\n    addCloseEvents() {\r\n      if (!this.closeEventListener) {\r\n        this.closeEventListener = e => this.inspectCloseEvent(e);\r\n\r\n        [\"click\", \"keyup\"].forEach(eventName =>\r\n          document.addEventListener(eventName, this.closeEventListener)\r\n        );\r\n      }\r\n    },\r\n\r\n    inspectCloseEvent(event) {\r\n      if (event.keyCode) {\r\n        event.keyCode === 27 && this.close();\r\n      } else if (!(event.target === this.$el) && !this.$el.contains(event.target)) {\r\n        this.close();\r\n      }\r\n    },\r\n\r\n    removeCloseEvents() {\r\n      if (this.closeEventListener) {\r\n        [\"click\", \"keyup\"].forEach(eventName =>\r\n          document.removeEventListener(eventName, this.closeEventListener)\r\n        );\r\n\r\n        delete this.closeEventListener;\r\n      }\r\n    },\r\n\r\n    setupPosition() {\r\n      if (!this.positionEventListener) {\r\n        this.positionEventListener = () => this.positionFloater();\r\n        window.addEventListener(\"resize\", this.positionEventListener);\r\n      }\r\n\r\n      this.positionFloater();\r\n    },\r\n\r\n    positionFloater() {\r\n      const inputRect = this.$el.getBoundingClientRect();\r\n\r\n      let verticalClass = \"vdpPositionTop\";\r\n      let horizontalClass = \"vdpPositionLeft\";\r\n\r\n      const calculate = () => {\r\n        const rect = this.$refs.outerWrap.getBoundingClientRect();\r\n        const floaterHeight = rect.height;\r\n        const floaterWidth = rect.width;\r\n\r\n        if (window.innerWidth > this.mobileBreakpointWidth) {\r\n          // vertical\r\n          if (\r\n            inputRect.top + inputRect.height + floaterHeight > window.innerHeight &&\r\n            inputRect.top - floaterHeight > 0\r\n          ) {\r\n            verticalClass = \"vdpPositionBottom\";\r\n          }\r\n\r\n          // horizontal\r\n          if (inputRect.left + floaterWidth > window.innerWidth) {\r\n            horizontalClass = \"vdpPositionRight\";\r\n          }\r\n\r\n          this.positionClass = [\"vdpPositionReady\", verticalClass, horizontalClass].join(\" \");\r\n        } else {\r\n          this.positionClass = \"vdpPositionFixed\";\r\n        }\r\n      };\r\n\r\n      this.$refs.outerWrap ? calculate() : this.$nextTick(calculate);\r\n    },\r\n\r\n    teardownPosition() {\r\n      if (this.positionEventListener) {\r\n        this.positionClass = undefined;\r\n        window.removeEventListener(\"resize\", this.positionEventListener);\r\n        delete this.positionEventListener;\r\n      }\r\n    },\r\n\r\n    clear() {\r\n      this.$emit(\"input\", \"\");\r\n    },\r\n\r\n    selectDateItem(item) {\r\n      if (!item.disabled) {\r\n        const newDate = new Date(item.date);\r\n\r\n        if (this.currentTime) {\r\n          newDate.setHours(this.currentTime.hours);\r\n          newDate.setMinutes(this.currentTime.minutes);\r\n          newDate.setSeconds(this.currentTime.seconds);\r\n        }\r\n\r\n        this.$emit(\"input\", this.formatDateToString(newDate, this.format));\r\n\r\n        if (this.hasInputElement && !this.pickTime) {\r\n          this.close();\r\n        }\r\n      }\r\n    },\r\n\r\n    inputTime(method, event) {\r\n      const currentDate = this.valueDate;\r\n      const maxValues = { setHours: 23, setMinutes: 59, setSeconds: 59 };\r\n\r\n      let numValue = parseInt(event.target.value, 10) || 0;\r\n\r\n      if (numValue > maxValues[method]) {\r\n        numValue = maxValues[method];\r\n      } else if (numValue < 0) {\r\n        numValue = 0;\r\n      }\r\n\r\n      event.target.value = paddNum(numValue, method === \"setHours\" ? 1 : 2);\r\n      currentDate[method](numValue);\r\n\r\n      this.$emit(\"input\", this.formatDateToString(currentDate, this.format));\r\n    }\r\n  }\r\n};\r\n\r\nfunction paddNum(num, padsize) {\r\n  return typeof num !== \"undefined\"\r\n    ? num.toString().length > padsize\r\n      ? num\r\n      : new Array(padsize - num.toString().length + 1).join(\"0\") + num\r\n    : undefined;\r\n}\r\n\r\nfunction chunkArray(inputArray, chunkSize) {\r\n  const results = [];\r\n\r\n  while (inputArray.length) {\r\n    results.push(inputArray.splice(0, chunkSize));\r\n  }\r\n\r\n  return results;\r\n}\r\n\r\nfunction areSameDates(date1, date2) {\r\n  return (\r\n    date1.getDate() === date2.getDate() &&\r\n    date1.getMonth() === date2.getMonth() &&\r\n    date1.getFullYear() === date2.getFullYear()\r\n  );\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"./vueDatePick.scss\";\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueDatePick.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueDatePick.vue?vue&type=script&lang=js&\"","<template>\r\n  <div :class=\"wrapperClasses\" class=\"vue-suggestion\">\r\n    <div\r\n      :class=\"[{ 'vue-suggestion-selected': value }, inputWrapperClasses]\"\r\n      class=\"vue-suggestion-input-group\"\r\n    >\r\n      <input\r\n        v-model=\"searchText\"\r\n        :class=\"inputClasses\"\r\n        :placeholder=\"placeholder\"\r\n        :disabled=\"disabled\"\r\n        type=\"search\"\r\n        class=\"vue-suggestion-input\"\r\n        @blur=\"blur\"\r\n        @focus=\"focus\"\r\n        @input=\"inputChange\"\r\n        @keydown.enter.prevent=\"keyEnter\"\r\n        @keydown.up.prevent=\"keyUp\"\r\n        @keydown.down.prevent=\"keyDown\"\r\n        ref=\"searchText\"\r\n      />\r\n      <slot name=\"searchSlot\" />\r\n    </div>\r\n    <slot v-if=\"loading\" name=\"loading\" class=\"vue-suggestion-loading\">Loading...</slot>\r\n    <slot\r\n      v-else-if=\"showList\"\r\n      :class=\"suggestionListClasses\"\r\n      name=\"suggestionList\"\r\n      class=\"vue-suggestion-list\"\r\n    >\r\n      <div class=\"vue-suggestion-list\" ref=\"vueSuggestionList\">\r\n        <div\r\n          v-for=\"(item, i) in items\"\r\n          :key=\"item.id\"\r\n          :class=\"[{ 'vue-suggestion-item-active': i === cursor }, suggestionItemWrapperClasses]\"\r\n          class=\"vue-suggestion-list-item\"\r\n          @click=\"selectItem(item)\"\r\n          @mouseover=\"cursor = i\"\r\n        >\r\n          <div\r\n            :class=\"suggestionItemClasses\"\r\n            :is=\"itemTemplate\"\r\n            :item=\"item\"\r\n            :searchText=\"searchText\"\r\n          ></div>\r\n        </div>\r\n        <div class=\"vue-suggestion-list-item load-more-item\" style=\"text-align: center\">\r\n          <button class=\"btn btn-outline-success btn-sm\" @click=\"loadMore\">Load more</button>\r\n        </div>\r\n      </div>\r\n    </slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from \"jquery\";\r\nvar hideListTimeout;\r\nvar inputChangeTimeout;\r\nexport default {\r\n  name: \"VueSuggestion\",\r\n  props: {\r\n    itemTemplate: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    minLen: { type: Number, default: 1 },\r\n    value: {\r\n      type: [Object, String, Number],\r\n      default: null\r\n    },\r\n    setLabel: { type: Function, default: item => item },\r\n    items: { type: Array, default: () => [] },\r\n    disabled: { type: Boolean, default: false },\r\n    loading: { type: Boolean, default: false },\r\n    placeholder: { type: String, default: \"\" },\r\n    inputClasses: { type: String, default: \"\" },\r\n    wrapperClasses: { type: String, default: \"\" },\r\n    inputWrapperClasses: { type: String, default: \"\" },\r\n    suggestionListClasses: { type: String, default: \"\" },\r\n    suggestionGroupClasses: { type: String, default: \"\" },\r\n    suggestionGroupHeaderClasses: { type: String, default: \"\" },\r\n    suggestionItemWrapperClasses: { type: String, default: \"\" },\r\n    suggestionItemClasses: { type: String, default: \"\" }\r\n  },\r\n  data() {\r\n    return {\r\n      searchText: \"\",\r\n      showList: false,\r\n      cursor: 0\r\n    };\r\n  },\r\n  computed: {\r\n    itemGroups() {\r\n      return this.items.reduce((prv, crr) => {\r\n        const foundGroup = prv.find(gr => gr.header === crr.suggestionGroup);\r\n        if (foundGroup) {\r\n          foundGroup.items.push(crr);\r\n        } else {\r\n          prv.push({\r\n            header: crr.suggestionGroup || \"\",\r\n            items: [crr]\r\n          });\r\n        }\r\n        return prv;\r\n      }, []);\r\n    }\r\n  },\r\n  watch: {\r\n    value: {\r\n      handler(value) {\r\n        if (!value) {\r\n          return;\r\n        }\r\n        this.searchText = this.setLabel(value);\r\n      },\r\n      deep: true\r\n    },\r\n    \"items.length\": function() {\r\n      // Items might be changed from Promise after searching\r\n      // So we need the check if we should show the suggestion list\r\n      this.showList = this.isAbleToShowList();\r\n      var self = this;\r\n      $(this.$refs.vueSuggestionList).on(\"scroll\", function() {\r\n        if ($(this).scrollTop() + $(this).innerHeight() >= $(this)[0].scrollHeight) {\r\n          self.$emit(\"scrollEnd\", self.items.length);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.checkMissingProps();\r\n  },\r\n  mounted() {\r\n    if (this.value) {\r\n      this.searchText = this.setLabel(this.value);\r\n    }\r\n  },\r\n  methods: {\r\n    inputChange() {\r\n      this.showList = this.isAbleToShowList();\r\n      this.cursor = 0;\r\n\r\n      if (inputChangeTimeout) window.clearTimeout(inputChangeTimeout);\r\n\r\n      inputChangeTimeout = window.setTimeout(() => {\r\n        this.$emit(\"onInputChange\", this.searchText);\r\n      }, 500);\r\n    },\r\n    isAbleToShowList() {\r\n      return true;\r\n      return (this.searchText || \"\").length >= this.minLen && this.items.length > 0;\r\n    },\r\n    checkMissingProps() {\r\n      if (!this.itemTemplate) {\r\n        console.warn(\"You need to pass `template` as the suggestion list item template\");\r\n      }\r\n    },\r\n    focus() {\r\n      this.$emit(\"focus\", this.searchText);\r\n      this.showList = this.isAbleToShowList();\r\n    },\r\n    blur() {\r\n      this.$emit(\"blur\", this.searchText);\r\n      // set timeout for the click event to work\r\n      hideListTimeout = setTimeout(() => {\r\n        this.showList = false;\r\n      }, 200);\r\n    },\r\n    loadMore: function() {\r\n      if (hideListTimeout) window.clearTimeout(hideListTimeout);\r\n      $(this.$refs.searchText).focus();\r\n      this.$emit(\"scrollEnd\", this.items.length);\r\n    },\r\n    selectItem(item) {\r\n      if (item) {\r\n        this.searchText = this.setLabel(item);\r\n        this.$emit(\"onItemSelected\", item);\r\n      }\r\n      this.$emit(\"input\", item);\r\n    },\r\n    keyUp() {\r\n      this.$emit(\"keyUp\", this.searchText);\r\n      if (this.cursor > 0) {\r\n        this.cursor -= 1;\r\n      }\r\n    },\r\n    keyDown() {\r\n      this.$emit(\"keyDown\", this.searchText);\r\n      if (this.cursor < this.items.length - 1) {\r\n        this.cursor += 1;\r\n      } else {\r\n        this.$emit(\"scrollEnd\", this.items.length);\r\n      }\r\n    },\r\n    keyEnter() {\r\n      if (this.showList && this.items[this.cursor]) {\r\n        this.selectItem(this.items[this.cursor]);\r\n        this.showList = false;\r\n      }\r\n      this.$emit(\"onEnter\", this.items[this.cursor]);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue-suggestion {\r\n  position: relative;\r\n}\r\n.vue-suggestion .vue-suggestion-list {\r\n  position: absolute;\r\n  z-index: 3;\r\n  overflow-x: hidden;\r\n}\r\n.vue-suggestion .vue-suggestion-list .vue-suggestion-list-item {\r\n  cursor: pointer;\r\n}\r\n.vue-suggestion .vue-suggestion-list .vue-suggestion-list-item.vue-suggestion-item-active {\r\n  background-color: #f3f6fa;\r\n}\r\n\r\n.vue-suggestion .vue-suggestion-input-group .vue-suggestion-input {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 0.5rem 0.7rem;\r\n  font-size: 0.9rem;\r\n  line-height: 1.25;\r\n  color: #464a4c;\r\n  outline: none;\r\n  background-color: #fff;\r\n  background-image: none;\r\n  background-clip: padding-box;\r\n  border: 1px solid #cecece;\r\n  border-radius: 0.25rem;\r\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\r\n}\r\n.vue-suggestion .vue-suggestion-input-group .vue-suggestion-input:focus {\r\n  border: 1px solid #023d7b;\r\n}\r\n.vue-suggestion .vue-suggestion-list {\r\n  width: 100%;\r\n  text-align: left;\r\n  border: none;\r\n  border-top: none;\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  border-bottom: 1px solid #023d7b;\r\n}\r\n.vue-suggestion .vue-suggestion-list .vue-suggestion-list-item {\r\n  cursor: pointer;\r\n  background-color: #fff;\r\n  padding: 10px;\r\n  border-left: 5px solid #023d7b;\r\n  border-right: 1px solid #023d7b;\r\n}\r\n.vue-suggestion .vue-suggestion-list .vue-suggestion-list-item:last-child {\r\n  border-bottom: none;\r\n}\r\n.vue-suggestion .vue-suggestion-list .vue-suggestion-list-item:hover {\r\n  background-color: #eee;\r\n}\r\n</style>","<template>\r\n  <vue-suggestion\r\n    :items=\"sugProducts\"\r\n    v-model=\"product\"\r\n    :item-template=\"productSugTemplate\"\r\n    :setLabel=\"setLabel\"\r\n    @focus=\"sugProductsFocused\"\r\n    @onInputChange=\"sugProductsInputChanged\"\r\n    @onItemSelected=\"sugProductsItemSelected\"\r\n    @scrollEnd=\"loadMoreSugProducts\"\r\n  ></vue-suggestion>\r\n</template>\r\n\r\n<script>\r\nimport vueSuggestion from \"../shared/vueSuggestion\";\r\nimport productSugTemplate from \"./productSugTemplate\";\r\nvar loadProductTimeout;\r\nexport default {\r\n  name: \"ProductSuggestionDropdown\",\r\n  props: [\"value\"],\r\n  components: { vueSuggestion },\r\n  data() {\r\n    return {\r\n      sugProducts: [],\r\n      product: {},\r\n      productSugTemplate: productSugTemplate\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.$nextTick(() => {\r\n      this.product = this.value;\r\n    });\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    sugProductsFocused: function() {\r\n      if (this.sugProducts.length == 0) {\r\n        //load first 5 customers\r\n        this.loadProducts().then(products => products.forEach(item => this.sugProducts.push(item)));\r\n      }\r\n    },\r\n    sugProductsInputChanged: function(searchText) {\r\n      this.productSugSearchText = searchText;\r\n      this.sugProducts = [];\r\n      this.lastSugProductVisible = undefined;\r\n\r\n      if (loadProductTimeout) window.clearTimeout(loadProductTimeout);\r\n\r\n      loadProductTimeout = this.loadProducts(searchText).then(products => {\r\n        products.forEach(item => this.sugProducts.push(item));\r\n      });\r\n    },\r\n    loadMoreSugProducts: function(itemCount) {\r\n      if (this.isLoadingMoreSugProduct) return;\r\n\r\n      this.isLoadingMoreSugProduct = true;\r\n      this.loadProducts(this.productSugSearchText, this.lastSugProductVisible).then(products => {\r\n        products.forEach(item => this.sugProducts.push(item));\r\n        this.isLoadingMoreSugProduct = false;\r\n      });\r\n    },\r\n    loadProducts: function(searchText, lastVisible) {\r\n      var query = this.$fb.productCollection.limit(5).orderBy(\"name\");\r\n      if (searchText) {\r\n        var searchTextArray = searchText\r\n          .split(\" \")\r\n          .filter(x => x != \"\")\r\n          .map(x => x.toLowerCase());\r\n        query = query.where(\"nameSearch\", \"array-contains-any\", searchTextArray);\r\n      }\r\n      if (lastVisible) query = query.startAfter(lastVisible);\r\n\r\n      return query.get().then(snapshot => {\r\n        var products = [];\r\n        if (!snapshot.empty) {\r\n          this.lastSugProductVisible = _.last(snapshot.docs);\r\n\r\n          snapshot.forEach(doc => {\r\n            products.push(doc.data());\r\n          });\r\n        }\r\n\r\n        return products;\r\n      });\r\n    },\r\n    sugProductsItemSelected: function(item) {\r\n      this.$emit(\"input\", item);\r\n      this.$emit(\"item-selected\", item);\r\n    },\r\n    setLabel: function(item) {\r\n      return item.name;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <span>\r\n              <i class=\"fa fa-book\"></i>\r\n              Inventory ({{inventoryCount}})\r\n            </span>\r\n            <div class=\"pull-right\">\r\n              <b-link @click=\"addNewItem\" class=\"ml-1\">Add New Item</b-link>\r\n            </div>\r\n          </div>\r\n          <b-row>\r\n            <b-col sm=\"12\" md=\"6\">\r\n              <b-input-group class=\"mb-5\">\r\n                <b-form-input v-model=\"searchText\" @keydown=\"seartTextKeydown($event)\"></b-form-input>\r\n\r\n                <b-input-group-append>\r\n                  <span\r\n                    id=\"searchclear\"\r\n                    class=\"fa fa-close\"\r\n                    v-if=\"searchText != ''\"\r\n                    @click=\"clearSearchText\"\r\n                  ></span>\r\n                  <b-button variant=\"outline-success\" @click=\"search()\">\r\n                    <span class=\"fa fa-search\"></span> Search\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n            </b-col>\r\n          </b-row>\r\n          <b-form-group label>\r\n            <b-form-checkbox\r\n              v-model=\"filter.showOutOfStock\"\r\n              @change=\"showOutOfStockChange\"\r\n              inline\r\n            >Show Out Of Stock</b-form-checkbox>\r\n          </b-form-group>\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <b-table\r\n                ref=\"inventoryTable\"\r\n                responsive=\"sm\"\r\n                :items=\"items\"\r\n                :fields=\"fields\"\r\n                :small=\"true\"\r\n                selectable\r\n                select-mode=\"single\"\r\n                @row-clicked=\"itemClicked\"\r\n                @row-dblclicked=\"itemDoubleClicked\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">{{data.index + 1}}</template>\r\n                <template v-slot:cell(name)=\"data\">\r\n                  <div class=\"prod-thumbnail-name\">\r\n                    <div class=\"thumbnail\">\r\n                      <img\r\n                        :src=\"data.item.product.thumbnail\"\r\n                        width=\"50px\"\r\n                        height=\"50px\"\r\n                        v-if=\"data.item.product.thumbnail\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"name-2\">\r\n                      <b-link @click=\"showProductDetail(data)\">{{data.item.product.name}}</b-link>\r\n                      <br />\r\n                      <!-- <small>CWPID: {{data.item.product.cwProductId}}</small> -->\r\n                      <b-badge variant=\"danger\" v-if=\"data.item.quantity == 0\">Out of Stock</b-badge>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n                <template v-slot:cell(weight)=\"data\">\r\n                  <strong>{{data.item.product.weight}}(g)</strong>\r\n                  - {{data.item.product.shipPrice | currency(audConfig)}}\r\n                </template>\r\n                <template v-slot:cell(rndPrice)=\"data\">\r\n                  <span class=\"price\">\r\n                    <strong>{{data.item.product.rndPrice | currency(vndConfig)}}</strong>\r\n                  </span>\r\n                  <br />\r\n                  <small>Sug. Price: {{data.item.product.sugPrice | currency(audConfig)}} - {{data.item.product.sugPrice * appSettings.vndExchangeRate | currency(vndConfig)}}</small>\r\n                </template>\r\n                <template v-slot:cell(dateIn)=\"data\">{{data.item.dateIn.toDate() | date}}</template>\r\n                <template v-slot:cell(quantity)=\"data\">\r\n                  <number-input\r\n                    v-model=\"data.item.quantity\"\r\n                    :min=\"0\"\r\n                    :max=\"9999\"\r\n                    inline\r\n                    controls\r\n                    center\r\n                    size=\"sm\"\r\n                    @change=\"quantityChange(data.item, $event)\"\r\n                  ></number-input>\r\n                </template>\r\n                <template v-slot:cell(action)=\"data\">\r\n                  <b-button\r\n                    type=\"submit\"\r\n                    class=\"mr-1\"\r\n                    size=\"sm\"\r\n                    variant=\"info\"\r\n                    @click=\"viewHistory(data)\"\r\n                  >\r\n                    <i class=\"fa fa-list\"></i> History\r\n                  </b-button>\r\n                  <b-button\r\n                    type=\"submit\"\r\n                    size=\"sm\"\r\n                    variant=\"success\"\r\n                    @click=\"editItem(data)\"\r\n                    class=\"mr-1\"\r\n                  >\r\n                    <i class=\"fa fa-edit\"></i> Edit\r\n                  </b-button>\r\n                  <b-button type=\"submit\" size=\"sm\" variant=\"danger\" @click=\"deleteItem(data)\">\r\n                    <i class=\"fa fa-remove\"></i> Delete\r\n                  </b-button>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n            <template v-slot:mobile>\r\n              <div>\r\n                <b-table\r\n                  ref=\"inventoryTable\"\r\n                  responsive=\"sm\"\r\n                  :items=\"items\"\r\n                  :fields=\"mobileFields\"\r\n                  :small=\"true\"\r\n                  selectable\r\n                  select-mode=\"single\"\r\n                  @row-clicked=\"itemClicked\"\r\n                  @row-dblclicked=\"itemDoubleClicked\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-4\" style=\"overflow: hidden\">\r\n                        <img :src=\"data.item.product.thumbnail\" width=\"150px\" height=\"150px\" />\r\n                      </div>\r\n                      <div class=\"col-8\">\r\n                        <span class=\"h5\">\r\n                          <!-- <text-highlight :queries=\"queries\">{{data.item.product.name}}</text-highlight> -->\r\n                          {{data.item.product.name}}\r\n                          <b-badge variant=\"danger\" v-if=\"data.item.quantity == 0\">Out of Stock</b-badge>\r\n                        </span>\r\n                        <br />\r\n                        <strong>Weight:</strong>\r\n                        {{data.item.product.weight}}(g)\r\n                        - {{data.item.product.shipPrice | currency(audConfig)}}\r\n                        <br />\r\n                        <show-supplier-prices :product=\"data.item.product\"></show-supplier-prices>\r\n                        <span class=\"price\">\r\n                          <strong>Price: {{data.item.product.rndPrice | currency(vndConfig)}}</strong>\r\n                          <small\r\n                            class=\"ml-3\"\r\n                          >Sug. Price: {{data.item.product.sugPrice | currency(audConfig)}} - {{data.item.product.sugPrice * appSettings.vndExchangeRate | currency(vndConfig)}}</small>\r\n                        </span>\r\n                        <br />\r\n                        <strong>Date In:</strong>\r\n                        {{data.item.dateIn.toDate() | date}}\r\n                        <br />\r\n                        <strong>Quantity:</strong>\r\n                        <number-input\r\n                          v-model=\"data.item.quantity\"\r\n                          :min=\"0\"\r\n                          :max=\"9999\"\r\n                          inline\r\n                          controls\r\n                          center\r\n                          size=\"sm\"\r\n                          @change=\"quantityChange(data.item, $event)\"\r\n                        ></number-input>\r\n                        <div class=\"mt-2\">\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            class=\"mr-1\"\r\n                            size=\"sm\"\r\n                            variant=\"info\"\r\n                            @click=\"viewHistory(data)\"\r\n                          >\r\n                            <i class=\"fa fa-list\"></i> History\r\n                          </b-button>\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            size=\"sm\"\r\n                            variant=\"success\"\r\n                            @click=\"editItem(data)\"\r\n                            class=\"mr-1\"\r\n                          >\r\n                            <i class=\"fa fa-edit\"></i> Edit\r\n                          </b-button>\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            size=\"sm\"\r\n                            variant=\"danger\"\r\n                            @click=\"deleteItem(data)\"\r\n                          >\r\n                            <i class=\"fa fa-remove\"></i> Delete\r\n                          </b-button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n          </view-port>\r\n\r\n          <b-row class=\"load-more\">\r\n            <b-button\r\n              variant=\"outline-success\"\r\n              @click=\"loadMore($event)\"\r\n              v-loading=\"isLoading\"\r\n            >Load more</b-button>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n    <inventory-edit-item\r\n      ref=\"inventoryEditItemModal\"\r\n      @item-saved=\"itemSaved\"\r\n      id=\"inventoryEditItemModal\"\r\n    ></inventory-edit-item>\r\n    <product-detail ref=\"productDetail\" :readonly=\"true\" @product-saved=\"productSaved\" />\r\n    <inventory-item-history ref=\"inventoryItemHistoryModal\" id=\"inventoryItemHistoryModal\"></inventory-item-history>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\nimport productDetail from \"./productDetail\";\r\nimport { generateSubString } from \"@/shared/utils\";\r\nimport viewPort from \"../shared/viewPort\";\r\nimport InventoryEditItem from \"./InventoryEditItem\";\r\nimport ShowSupplierPrices from \"./ShowSupplierPrices\";\r\nimport numberInput from \"../shared/numberInput\";\r\nimport InventoryItemHistory from \"./InventoryItemHistory\";\r\nvar debounceQuantitySaveFunc;\r\nexport default {\r\n  name: \"Inventory\",\r\n  components: {\r\n    productDetail,\r\n    viewPort,\r\n    InventoryEditItem,\r\n    ShowSupplierPrices,\r\n    numberInput,\r\n    InventoryItemHistory,\r\n  },\r\n  data() {\r\n    return {\r\n      items: [],\r\n      searchText: \"\",\r\n      pageSize: 10,\r\n      lastVisible: undefined,\r\n      isLoading: false,\r\n      selectedItemIndex: -1,\r\n      inventoryCount: 0,\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"i-index\" },\r\n        { key: \"name\", class: \"i-name\" },\r\n        { key: \"weight\", label: \"Weight (g)\", class: \"i-weight\" },\r\n        { key: \"rndPrice\", label: \"Price\", class: \"i-rnd-price\" },\r\n        { key: \"dateIn\", label: \"Date In\", class: \"i-date-in\" },\r\n\r\n        { key: \"quantity\", label: \"Quantity\", class: \"i-quantity\" },\r\n        { key: \"note\", label: \"Note\", class: \"i-note\" },\r\n        { key: \"action\", label: \"Action\", class: \"i-action\" },\r\n      ],\r\n      mobileFields: [{ key: \"index\", label: \"\", class: \"i-index\" }],\r\n      filter: {\r\n        showOutOfStock: false,\r\n      },\r\n    };\r\n  },\r\n  mounted: function () {\r\n    var self = this;\r\n    this.loadData();\r\n  },\r\n  watch: {\r\n    searchText: function (newValue, oldValue) {\r\n      if (oldValue != \"\" && newValue == \"\") {\r\n        this.products = [];\r\n        this.loadProducts();\r\n      }\r\n    },\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    loadData: function () {\r\n      this.isLoading = true;\r\n      var q = this.$fb.inventoryCollection;\r\n      if (this.filter.showOutOfStock) {\r\n      } else {\r\n        q = q.where(\"quantity\", \">\", 0);\r\n      }\r\n      q = q.orderBy(\"quantity\", \"desc\").orderBy(\"product.name\").orderBy(\"dateIn\").limit(20);\r\n      if (this.lastVisible) q = q.startAfter(this.lastVisible);\r\n      q = q\r\n        .get()\r\n        .then((ss) => {\r\n          this.isLoading = false;\r\n          if (ss.empty) return [];\r\n          this.lastVisible = _.last(ss.docs);\r\n          return ss.docs.map((d) => d.data());\r\n        })\r\n        .then((data) => {\r\n          data.forEach((d) => this.items.push(d));\r\n        });\r\n    },\r\n    addNewItem: function () {\r\n      this.$refs.inventoryEditItemModal.open();\r\n    },\r\n    loadMore: function () {\r\n      this.loadData();\r\n    },\r\n    search: function () {},\r\n    seartTextKeydown: function () {},\r\n    clearSearchText: function () {},\r\n    itemClicked: function () {},\r\n    itemDoubleClicked: function (item, index) {\r\n      this.selectedItemIndex = index;\r\n      this.$refs.inventoryEditItemModal.open(item);\r\n    },\r\n    quantityChange: function (item, number) {\r\n      if (item.id) {\r\n        item.quantity = number;\r\n        this.saveItem(item);\r\n      }\r\n    },\r\n    saveItem: function (item) {\r\n      if (debounceQuantitySaveFunc) window.clearTimeout(debounceQuantitySaveFunc);\r\n      debounceQuantitySaveFunc = window.setTimeout(() => {\r\n        if (item.id) {\r\n          this.$fbServices.inventoryService\r\n            .set(item)\r\n            .then(() => this.showMessage(\"Inventory item saved!\"));\r\n        }\r\n      }, 500);\r\n    },\r\n    editItem: function (data) {\r\n      this.selectedItemIndex = data.index;\r\n      this.$refs.inventoryEditItemModal.open(data.item);\r\n    },\r\n    deleteItem: function (data) {\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to delete this item?`)\r\n        .then((value) => {\r\n          if (value) {\r\n            this.$fb.inventoryCollection\r\n              .doc(data.item.id)\r\n              .delete()\r\n              .then(() => {\r\n                var index = this.items.findIndex((x) => x.id == data.item.id);\r\n                if (index > -1) this.items.splice(index, 1);\r\n                this.showMessage(\"Inventory item deleted!\");\r\n              });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    itemSaved: function (item) {\r\n      if (this.selectedItemIndex > -1) {\r\n        this.items.splice(this.selectedItemIndex, 1, item);\r\n        this.selectedItemIndex = -1;\r\n      } else {\r\n        this.items.push(item);\r\n      }\r\n    },\r\n    showProductDetail: function (data) {\r\n      var { index, item } = data;\r\n      this.selectedItemIndex = index;\r\n      this.$refs.productDetail.open(item.product);\r\n    },\r\n    productSaved: function (prod) {\r\n      if (this.selectedItemIndex > -1) {\r\n        var item = this.items[this.selectedItemIndex];\r\n        item.product = prod;\r\n        this.items.splice(this.selectedItemIndex, 1, item);\r\n        this.saveItem(item);\r\n        this.selectedItemIndex = -1;\r\n      }\r\n    },\r\n    viewHistory: function (data) {\r\n      this.$refs.inventoryItemHistoryModal.open(data.item);\r\n    },\r\n    showOutOfStockChange: function (checked) {\r\n      this.lastVisible = undefined;\r\n      this.items = [];\r\n      this.$nextTick(() => this.loadData());\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n#searchclear {\r\n  position: absolute;\r\n  right: 90px;\r\n  top: 0;\r\n  bottom: 0;\r\n  height: 14px;\r\n  margin: auto;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  color: #ccc;\r\n  z-index: 1019;\r\n}\r\n.i-index {\r\n  width: 2%;\r\n}\r\n.i-name {\r\n  width: 20%;\r\n}\r\n.i-weight {\r\n  width: 8%;\r\n}\r\n.i-temp-price {\r\n  width: 12%;\r\n}\r\n.i-rnd-price {\r\n  width: 13%;\r\n}\r\n.i-date-in {\r\n  width: 7%;\r\n}\r\n.i-quantity {\r\n  width: 10%;\r\n  text-align: center;\r\n  padding-left: 10px !important;\r\n  padding-right: 10px !important;\r\n}\r\n.i-note {\r\n  width: 10%;\r\n}\r\n.i-action {\r\n  text-align: right;\r\n}\r\n</style>\r\n","<template>\r\n  <vue-suggestion\r\n    :items=\"sugCustomers\"\r\n    v-model=\"customer\"\r\n    :item-template=\"customerSugTemplate\"\r\n    :setLabel=\"setLabel\"\r\n    @focus=\"sugCustomersFocused\"\r\n    @onInputChange=\"sugCustomersInputChanged\"\r\n    @onItemSelected=\"sugCustomersItemSelected\"\r\n    @scrollEnd=\"loadMoreSugCustomers\"\r\n  ></vue-suggestion>\r\n</template>\r\n\r\n<script>\r\nimport vueSuggestion from \"../shared/vueSuggestion\";\r\nimport customerSugTemplate from \"./customerSugTemplate\";\r\n\r\nvar loadCustomerTimeout;\r\nexport default {\r\n  name: \"CustomerSuggestionDropdown\",\r\n  props: [\"value\"],\r\n  components: { vueSuggestion },\r\n  data() {\r\n    return {\r\n      sugCustomers: [],\r\n      customerSugTemplate: customerSugTemplate,\r\n      customer: {}\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.$nextTick(() => {\r\n      this.customer = this.value;\r\n    });\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    loadCustomers: function(searchText, lastVisible) {\r\n      var query = this.$fb.customerCollection.limit(5).orderBy(\"name\");\r\n      if (searchText) {\r\n        var array = searchText\r\n          .split(\" \")\r\n          .filter(x => x != \"\")\r\n          .map(x => x.toLowerCase());\r\n        query = query.where(\"nameSearch\", \"array-contains-any\", array);\r\n      }\r\n      if (lastVisible) query = query.startAfter(lastVisible);\r\n\r\n      return query.get().then(snapshot => {\r\n        var customers = [];\r\n        if (!snapshot.empty) {\r\n          this.lastSugCustomerVisible = _.last(snapshot.docs);\r\n\r\n          snapshot.forEach(doc => {\r\n            customers.push(doc.data());\r\n          });\r\n        }\r\n\r\n        return customers;\r\n      });\r\n    },\r\n    sugCustomersFocused: function() {\r\n      if (this.sugCustomers.length == 0) {\r\n        this.loadCustomers().then(customers =>\r\n          customers.forEach(cus => this.sugCustomers.push(cus))\r\n        );\r\n      }\r\n    },\r\n    sugCustomersInputChanged: function(searchText) {\r\n      this.customerSugSearchText = searchText;\r\n      this.sugCustomers = [];\r\n      this.lastSugCustomerVisible = undefined;\r\n\r\n      if (loadCustomerTimeout) window.clearTimeout(loadCustomerTimeout);\r\n\r\n      loadCustomerTimeout = this.loadCustomers(searchText).then(customers => {\r\n        customers.forEach(item => this.sugCustomers.push(item));\r\n      });\r\n    },\r\n    loadMoreSugCustomers: function(itemCount) {\r\n      if (this.isLoadingMoreSugCustomer) return;\r\n\r\n      this.isLoadingMoreSugCustomer = true;\r\n      this.loadCustomers(this.customerSugSearchText, this.lastSugCustomerVisible).then(\r\n        customers => {\r\n          customers.forEach(item => this.sugCustomers.push(item));\r\n          this.isLoadingMoreSugCustomer = false;\r\n        }\r\n      );\r\n    },\r\n    sugCustomersItemSelected: function(item) {\r\n      this.$emit(\"input\", item);\r\n      this.$emit(\"item-changed\", item);\r\n    },\r\n    setLabel: function(item) {\r\n      return item.name;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <b-link @click=\"goToOrderList\">\r\n              <i class=\"fa fa-server\"></i> Order:\r\n            </b-link>\r\n            <strong>{{order.name}}</strong>\r\n            <div class=\"pull-right\">\r\n              <json-excel\r\n                :data=\"printData\"\r\n                :fields=\"jsonFields\"\r\n                worksheet=\"My Worksheet\"\r\n                name=\"filename.xls\"\r\n                trigger-type=\"Manual\"\r\n                ref=\"printDeliverySheetRef\"\r\n              >\r\n                <b-link @click=\"printDeliverySheet\">Print Delivery Sheet</b-link>\r\n              </json-excel>\r\n\r\n              <b-link class=\"mr-1 ml-1\">|</b-link>\r\n              <b-link @click=\"goToShipmentPage\" class=\"mr-1\">Shipment Page |</b-link>\r\n              <b-link @click=\"goToCollectionPage\" class=\"mr-1\">Collection Page |</b-link>\r\n              <b-link @click=\"addNewOrderItem\">Add New Item</b-link>\r\n            </div>\r\n          </div>\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <div class=\"order-item\">\r\n                <b-table\r\n                  foot-clone\r\n                  responsive=\"sm\"\r\n                  :items=\"order.items\"\r\n                  :fields=\"fields\"\r\n                  :small=\"true\"\r\n                  :hover=\"true\"\r\n                  selectable\r\n                  select-mode=\"single\"\r\n                  @row-clicked=\"orderItemClicked\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">{{data.index +1}}</template>\r\n                  <template v-slot:cell(product.name)=\"data\">\r\n                    <a\r\n                      href=\"javascript:void(0)\"\r\n                      @click=\"showProductDetailModal(data.item)\"\r\n                    >{{data.value}}</a>\r\n                    <b-link\r\n                      :href=\"appSettings.cwBuyProductUrl.replace('{id}', getCWPruductId(data.item.product))\"\r\n                      target=\"_blank\"\r\n                      v-if=\"getCWPruductId(data.item.product)\"\r\n                    >[Buy CW]</b-link>\r\n                    <span v-if=\"data.item.distribution\" class=\"ml-2\">\r\n                      <i>From Stock</i>\r\n                    </span>\r\n                    <br />\r\n                    <show-supplier-prices :product=\"data.item.product\"></show-supplier-prices>\r\n                  </template>\r\n                  <template v-slot:cell(price)=\"data\">\r\n                    <del\r\n                      style=\"color: darkgrey\"\r\n                      v-if=\"data.item.rndPrice != data.item.product.rndPrice\"\r\n                    >{{data.item.product.rndPrice | currency(vndConfig)}}</del>\r\n                    {{data.item.rndPrice | currency(vndConfig)}}\r\n                  </template>\r\n                  <template\r\n                    v-slot:cell(total)=\"data\"\r\n                  >{{calculateTotalOrderItem(data.item) | currency(vndConfig)}}</template>\r\n                  <template v-slot:cell(collectedQuantity)=\"data\">\r\n                    <number-input\r\n                      v-model=\"data.item.collectedQuantity\"\r\n                      :min=\"0\"\r\n                      :max=\"data.item.quantity\"\r\n                      inline\r\n                      controls\r\n                      center\r\n                      size=\"sm\"\r\n                      @change=\"collectedQuantityChanged(data.item, $event)\"\r\n                      :disabled=\"!!data.item.distribution\"\r\n                    ></number-input>\r\n                  </template>\r\n                  <template v-slot:cell(collected)=\"data\">\r\n                    <b-form-checkbox\r\n                      v-model=\"data.item.collected\"\r\n                      @change=\"collectedChanged($event, data.item)\"\r\n                      :disabled=\"!!data.item.distribution\"\r\n                    ></b-form-checkbox>\r\n                  </template>\r\n                  <template v-slot:cell(action)=\"data\">\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"success\"\r\n                      @click=\"editOrderItem(data.item)\"\r\n                      class=\"mr-1\"\r\n                    >\r\n                      <i class=\"fa fa-edit\"></i> Edit\r\n                    </b-button>\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"danger\"\r\n                      @click=\"deleteOrderItem(data.item)\"\r\n                    >\r\n                      <i class=\"fa fa-remove\"></i> Delete\r\n                    </b-button>\r\n                  </template>\r\n\r\n                  <!-- footer -->\r\n                  <template v-slot:foot()=\"data\"></template>\r\n                  <template v-slot:foot(quantity)=\"data\">{{sumQuantity}}</template>\r\n                  <template v-slot:foot(total)=\"data\">{{sumTotal | currency(vndConfig)}}</template>\r\n                  <template v-slot:foot(collectedQuantity)=\"data\">{{sumCollectedQuantity}}</template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n            <template v-slot:mobile>\r\n              <b-table\r\n                foot-clone\r\n                responsive=\"sm\"\r\n                :items=\"order.items\"\r\n                :fields=\"mobileFields\"\r\n                :small=\"true\"\r\n                selectable\r\n                select-mode=\"single\"\r\n                @row-clicked=\"orderItemClicked\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">\r\n                  <div>\r\n                    <strong>\r\n                      {{data.index +1}}.\r\n                      {{data.item.customer.name}}\r\n                    </strong>\r\n                  </div>\r\n                  <div>\r\n                    <a href=\"javascript:void(0)\" @click=\"showProductDetailModal(data.item)\">\r\n                      {{data.item.product.name}}\r\n                      <small\r\n                        v-if=\"!data.item.product.buyPrice || data.item.product.buyPrice == 0\"\r\n                      >\r\n                        <i style=\"color: red\">missing buy price</i>\r\n                      </small>\r\n                    </a>\r\n                    <b-badge v-if=\"data.item.product.bvSalePricePick\" variant=\"success\">BV Sale</b-badge>\r\n                    <b-badge v-if=\"data.item.product.cwSalePricePick\" variant=\"success\">CW Sale</b-badge>&nbsp;\r\n                    <b-link\r\n                      :href=\"appSettings.cwBuyProductUrl.replace('{id}', getCWPruductId(data.item.product))\"\r\n                      target=\"_blank\"\r\n                      v-if=\"getCWPruductId(data.item.product)\"\r\n                    >[Buy CW]</b-link>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-6\">\r\n                      <small>\r\n                        <del\r\n                          style=\"color: darkgrey\"\r\n                          v-if=\"data.item.rndPrice != data.item.product.rndPrice\"\r\n                        >{{data.item.product.rndPrice | currency(vndConfig)}}</del>\r\n                      </small>\r\n                      {{data.item.rndPrice | currency(vndConfig)}}\r\n                    </div>\r\n                    <div class=\"col-2\">{{data.item.quantity}}</div>\r\n                    <div class=\"col-4\">{{calculateTotalOrderItem(data.item) | currency(vndConfig)}}</div>\r\n                  </div>\r\n                  <div class=\"row\" style=\"margin-top: 10px\">\r\n                    <div class=\"col-6\">\r\n                      <div class=\"order-detail-mobile-collected-qty\">\r\n                        <number-input\r\n                          v-model=\"data.item.collectedQuantity\"\r\n                          :min=\"0\"\r\n                          :max=\"data.item.quantity\"\r\n                          inline\r\n                          controls\r\n                          center\r\n                          size=\"sm\"\r\n                          @change=\"collectedQuantityChanged(data.item, $event)\"\r\n                        ></number-input>\r\n                      </div>\r\n                      <div class=\"order-detail-mobile-collected-all\">\r\n                        <b-form-checkbox\r\n                          v-model=\"data.item.collected\"\r\n                          @change=\"collectedChanged($event, data.item)\"\r\n                        ></b-form-checkbox>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-6 pull-right\">\r\n                      <b-button\r\n                        type=\"submit\"\r\n                        size=\"sm\"\r\n                        variant=\"success\"\r\n                        @click=\"editOrderItem(data.item)\"\r\n                        class=\"mr-1\"\r\n                      >\r\n                        <i class=\"fa fa-edit\"></i> Edit\r\n                      </b-button>\r\n                      <b-button\r\n                        type=\"submit\"\r\n                        size=\"sm\"\r\n                        variant=\"danger\"\r\n                        @click=\"deleteOrderItem(data.item)\"\r\n                      >\r\n                        <i class=\"fa fa-remove\"></i> Delete\r\n                      </b-button>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n                <template v-slot:foot()=\"data\">\r\n                  <hr />\r\n                  <b-row>\r\n                    <b-col>Quantity</b-col>\r\n                    <b-col class=\"text-right\">{{sumQuantity}}</b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>Total</b-col>\r\n                    <b-col class=\"text-right\">{{sumTotal | currency(vndConfig)}}</b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>Collected Qty</b-col>\r\n                    <b-col class=\"text-right\">{{sumCollectedQuantity}}</b-col>\r\n                  </b-row>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n          </view-port>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <product-detail ref=\"productDetail\" @product-saved=\"productSaved\" />\r\n\r\n    <order-detail-edit-item\r\n      ref=\"editItemModal\"\r\n      id=\"editItem\"\r\n      :item=\"selectedOrderItem\"\r\n      @save-order-item=\"saveOrderItem\"\r\n    ></order-detail-edit-item>\r\n    <!--/.row-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\nimport _ from \"lodash\";\r\nimport numberInput from \"../shared/numberInput\";\r\nimport vndPrice from \"../shared/vndPrice\";\r\nimport productDetail from \"./productDetail\";\r\nimport orderDetailEditItem from \"./orderDetailEditItem\";\r\nimport viewPort from \"../shared/viewPort\";\r\nimport ShowSupplierPrices from \"./ShowSupplierPrices\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport JsonExcel from \"../shared/JsonExcel\";\r\n\r\nvar saveOrderTimeoutFunc;\r\nexport default {\r\n  name: \"OrderDetail\",\r\n  components: {\r\n    numberInput,\r\n    vndPrice,\r\n    productDetail,\r\n    orderDetailEditItem,\r\n    viewPort,\r\n    ShowSupplierPrices,\r\n    JsonExcel\r\n  },\r\n  data() {\r\n    return {\r\n      order: [],\r\n      counter: {},\r\n      selectedOrderItem: undefined,\r\n      fields: [\r\n        { key: \"index\", label: \"#\" },\r\n        { key: \"customer.name\", label: \"Customer\", sortable: true },\r\n        { key: \"product.name\", label: \"Product\" },\r\n        { key: \"price\", label: \"Price\", class: \"text-right\" },\r\n        { key: \"quantity\", label: \"Quantity\", class: \"text-right\" },\r\n        { key: \"total\", label: \"Total\", class: \"text-right\" },\r\n        {\r\n          key: \"collectedQuantity\",\r\n          label: \"Collected Qty\",\r\n          class: \"text-center order-detail-collected-quantity\"\r\n        },\r\n        { key: \"collected\", label: \"Collected\", class: \"text-center\" },\r\n        { key: \"action\", class: \"text-right\" }\r\n      ],\r\n      mobileFields: [{ key: \"index\", label: \"\" }],\r\n      product: {},\r\n      jsonFields: {\r\n        \"#\": \"index\",\r\n        Name: \"name\",\r\n        Quantity: \"quantity\",\r\n        \"Unit Price\": \"price\"\r\n      },\r\n      printData: []\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadOrder();\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    sumQuantity: function() {\r\n      if (!this.order.items || this.order.items.length == 0) return 0;\r\n      return this.order.items.reduce((s, x) => (s += x.quantity), 0);\r\n    },\r\n    sumCollectedQuantity: function() {\r\n      if (!this.order.items || this.order.items.length == 0) return 0;\r\n      return this.order.items.reduce((s, x) => (s += x.collectedQuantity || 0), 0);\r\n    },\r\n    sumTotal: function() {\r\n      if (!this.order.items || this.order.items.length == 0) return 0;\r\n      return this.order.items.reduce(\r\n        (s, x) => (s += parseFloat(x.rndPrice || x.product.rndPrice) * parseFloat(x.quantity)),\r\n        0\r\n      );\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"order\", [\"getOrderById\", \"addOrUpdateOrder\"]),\r\n    loadOrder: async function() {\r\n      let orderId = this.$route.params.id;\r\n\r\n      this.$fb.orderCollection.doc(orderId).onSnapshot(snapshot => {\r\n        if (!snapshot.empty) {\r\n          this.order = snapshot.data();\r\n          this.order.items = _.sortBy(this.order.items || [], x => x.dateCreated);\r\n        }\r\n      });\r\n    },\r\n    addNewOrderItem: function() {\r\n      this.selectedOrderItem = {\r\n        id: new Date().getTime(),\r\n        customer: { name: \"\" },\r\n        product: { name: \"\" },\r\n        quantity: 1,\r\n        collectedQuantity: 0\r\n      };\r\n      this.$refs.editItemModal.open(this.selectedOrderItem);\r\n    },\r\n    orderItemClicked: function(item) {},\r\n    editOrderItem: function(item) {\r\n      this.selectedOrderItem = { ...item };\r\n      this.selectedOrderItem.oriPrice =\r\n        this.selectedOrderItem.oriPrice || this.selectedOrderItem.product.oriPrice;\r\n      this.selectedOrderItem.rndPrice =\r\n        this.selectedOrderItem.rndPrice || this.selectedOrderItem.product.rndPrice;\r\n\r\n      this.$refs.editItemModal.open(this.selectedOrderItem);\r\n    },\r\n    deleteOrderItem: async function(item) {\r\n      var deleteItem = _.find(this.order.items, x => x.id == item.id);\r\n      if (deleteItem) {\r\n        this.$bvModal\r\n          .msgBoxConfirm(\r\n            `Are you sure you want to delete [${deleteItem.quantity} - ${deleteItem.product.name}] of [${deleteItem.customer.name}]?`\r\n          )\r\n          .then(async value => {\r\n            if (value) {\r\n              if (item.distribution) {\r\n                //stock in this item\r\n                var inventoryItem = await this.$fbServices.inventoryService.get(\r\n                  item.distribution.inventoryId\r\n                );\r\n                inventoryItem.quantity += parseFloat(item.quantity);\r\n                await this.$fbServices.inventoryService.set(inventoryItem);\r\n                this.showMessage(\"Inventory updated!\");\r\n\r\n                //delete distribution\r\n                await this.$fbServices.distributionService.delete(item.distribution.id);\r\n                this.showMessage(\"Distribution deleted!\");\r\n              }\r\n\r\n              //delete order item + update order\r\n              var index = _.findIndex(this.order.items, x => x.id == item.id);\r\n              this.order.items.splice(index, 1);\r\n              this.saveOrder();\r\n\r\n              this.selectedOrderItem = undefined;\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n    saveOrderItem: async function(orderItem, inventoryItem) {\r\n      if (!orderItem.product) return;\r\n      if (!orderItem.customer) return;\r\n\r\n      delete orderItem.customer.nameSearch;\r\n      delete orderItem.product.nameSearch;\r\n\r\n      orderItem.quantity = parseFloat(orderItem.quantity);\r\n\r\n      this.order.items = this.order.items || [];\r\n\r\n      if (inventoryItem) {\r\n        //set distribution information\r\n        var distribution = await this.$fbServices.distributionService.set(\r\n          inventoryItem,\r\n          this.order,\r\n          orderItem\r\n        );\r\n        this.showMessage(\"Distribution created!\");\r\n\r\n        //assign distribution information into Order Detail and Inventory Item also\r\n        orderItem.distribution = distribution;\r\n        if (!inventoryItem.distributions) inventoryItem.distributions = [];\r\n        inventoryItem.distributions.push(distribution);\r\n\r\n        // deduct remaining product quantity in Inventory\r\n        inventoryItem.quantity -= distribution.quantity;\r\n        await this.$fbServices.inventoryService.set(inventoryItem, distribution);\r\n        this.showMessage(\"Inventory item quantity updated!\");\r\n\r\n        // assign product from Inventory into Order detail\r\n        // change\r\n        orderItem.product = inventoryItem.product;\r\n        orderItem.collectedQuantity = orderItem.quantity;\r\n        orderItem.collected = true;\r\n      }\r\n\r\n      var index = this.order.items.findIndex(x => x.id == orderItem.id);\r\n      if (index > -1) {\r\n        orderItem.dateModified = new Date();\r\n        this.order.items.splice(index, 1, orderItem);\r\n      } else {\r\n        orderItem.dateCreated = new Date();\r\n        this.order.items.push(orderItem);\r\n      }\r\n\r\n      await this.$fb.orderCollection.doc(this.order.id).set(this.order);\r\n\r\n      this.selectedOrderItem = undefined;\r\n      this.showMessage(\"Order saved!\");\r\n    },\r\n    calculateTotalOrderItem: function(item) {\r\n      return parseFloat(item.quantity) * parseFloat(item.rndPrice || item.product.rndPrice);\r\n    },\r\n    collectedChanged: function(checked, item) {\r\n      item.collected = checked;\r\n      if (checked) {\r\n        item.collectedQuantity = item.quantity;\r\n      } else {\r\n        item.collectedQuantity = 0;\r\n      }\r\n      var index = this.order.items.findIndex(x => x.id == item.id);\r\n\r\n      if (index > -1) {\r\n        item.dateModified = new Date();\r\n        this.order.items.splice(index, 1, item);\r\n        this.saveOrder();\r\n      }\r\n    },\r\n    goToCollectionPage: function() {\r\n      this.$router.push({\r\n        name: \"OrderDetailCollection\",\r\n        params: { id: this.order.id }\r\n      });\r\n    },\r\n    goToShipmentPage: function() {\r\n      this.$router.push({\r\n        name: \"OrderDetailShipment\",\r\n        params: { id: this.order.id }\r\n      });\r\n    },\r\n    goToOrderList: function() {\r\n      this.$router.push({\r\n        name: \"Orders\"\r\n      });\r\n    },\r\n    collectedQuantityChanged: function(item, qty) {\r\n      item.collectedQuantity = qty;\r\n      item.collected = item.collectedQuantity == item.quantity;\r\n      this.saveOrder();\r\n    },\r\n    saveOrder: function() {\r\n      if (saveOrderTimeoutFunc) window.clearTimeout(saveOrderTimeoutFunc);\r\n\r\n      saveOrderTimeoutFunc = window.setTimeout(\r\n        () =>\r\n          this.$fb.orderCollection\r\n            .doc(this.order.id)\r\n            .set(this.order)\r\n            .then(() => this.showMessage(\"Order saved!\")),\r\n        700\r\n      );\r\n    },\r\n    showProductDetailModal: function(item) {\r\n      this.selectedOrderItem = item;\r\n      var productId = item.product.id;\r\n      this.$fb.productCollection\r\n        .doc(productId)\r\n        .get()\r\n        .then(doc => {\r\n          this.product = doc.data();\r\n          this.$refs.productDetail.open(this.product);\r\n        });\r\n    },\r\n    productSaved: async function(prod) {\r\n      if (this.selectedOrderItem) {\r\n        this.selectedOrderItem.product = prod;\r\n\r\n        var index = this.order.items.findIndex(x => x.id == this.selectedOrderItem.id);\r\n        if (index > -1) {\r\n          this.order.items.splice(index, 1, this.selectedOrderItem);\r\n          await this.saveOrder();\r\n        }\r\n\r\n        this.selectedOrderItem = undefined;\r\n      }\r\n    },\r\n    printDeliverySheet: function() {\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Do you want to exclude From Stock items?`, {\r\n          cancelTitle: \"No\",\r\n          okTitle: \"Yes\"\r\n        })\r\n        .then(async value => {\r\n          this.printData = this.getPrintData(value);\r\n          this.$nextTick(() => {\r\n            this.$refs.printDeliverySheetRef.generate();\r\n          });\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    getPrintData: function(excludeFromStockItem) {\r\n      if (!this.order || !this.order.items || this.order.items.length == 0) return [];\r\n      var items = !excludeFromStockItem\r\n        ? this.order.items\r\n        : this.order.items.filter(x => !x.distribution);\r\n\r\n      var data = _.chain(items)\r\n        .map(x => {\r\n          var supPrice =\r\n            x.product.supplierPrices.length > 1\r\n              ? this.getProductPrice(x.product, \"CW\")\r\n              : x.product.supplierPrices[0];\r\n          var price = supPrice.salePricePick ? supPrice.salePrice : supPrice.price;\r\n          return {\r\n            name: x.product.name,\r\n            quantity: x.quantity,\r\n            price: parseFloat(price)\r\n          };\r\n        })\r\n        .groupBy(x => x.name)\r\n        .mapValues((val, index) => {\r\n          return {\r\n            name: _.first(val).name,\r\n            quantity: _.sumBy(val, x => x.quantity),\r\n            price: _.first(val).price\r\n          };\r\n        })\r\n        .values()\r\n        .orderBy(x => x.name)\r\n        .map((x, i) => {\r\n          return { ...x, index: i + 1 };\r\n        })\r\n        .value();\r\n\r\n      data.push({\r\n        name: \"Total\",\r\n        quantity: _.sumBy(data, x => x.quantity)\r\n      });\r\n\r\n      return data;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.order-detail-mobile-collected-qty {\r\n  width: 120px;\r\n  max-width: 120px;\r\n  float: left;\r\n}\r\n\r\n.order-detail-mobile-collected-all {\r\n  padding-top: 5px;\r\n  margin-left: 10px;\r\n  float: left;\r\n}\r\n</style>","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <b-link @click=\"goToOrderList\">\r\n              <i class=\"fa fa-server\"></i> Order:\r\n            </b-link>\r\n            <strong>{{order.name}}</strong>\r\n            <div class=\"pull-right\">\r\n              <b-link @click=\"goToOrderDetailPage\">Order Detail Page</b-link>\r\n            </div>\r\n          </div>\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <div>\r\n                <b-table\r\n                  foot-clone\r\n                  responsive=\"sm\"\r\n                  :items=\"items\"\r\n                  :fields=\"fields\"\r\n                  :small=\"true\"\r\n                  :hover=\"true\"\r\n                  selectable\r\n                  select-mode=\"single\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">{{data.index +1}}</template>\r\n                  <template\r\n                    v-slot:cell(total)=\"data\"\r\n                  >{{calculateTotalOrderItem(data.item) | currency(vndConfig)}}</template>\r\n                  <template v-slot:cell(name)=\"data\">\r\n                    {{data.item.name}}\r\n                    <b-link\r\n                      :href=\"appSettings.cwBuyProductUrl.replace('{id}', getCWPruductId(data.item))\"\r\n                      target=\"_blank\"\r\n                      v-if=\"getCWPruductId(data.item)\"\r\n                    >[Buy CW]</b-link>\r\n                    <br />\r\n                    <show-supplier-prices :product=\"data.item.product\"></show-supplier-prices>\r\n                  </template>\r\n                  <template v-slot:cell(collectedQuantity)=\"data\">\r\n                    <number-input\r\n                      v-model=\"data.item.collectedQuantity\"\r\n                      :min=\"0\"\r\n                      :max=\"data.item.quantity\"\r\n                      inline\r\n                      controls\r\n                      center\r\n                      size=\"sm\"\r\n                      @change=\"collectedQuantityChanged(data.item, $event)\"\r\n                    ></number-input>\r\n                  </template>\r\n                  <template v-slot:cell(collected)=\"data\">\r\n                    <b-form-checkbox\r\n                      v-model=\"data.item.collected\"\r\n                      @change=\"collectedChanged($event, data.item)\"\r\n                    ></b-form-checkbox>\r\n                  </template>\r\n                  <template v-slot:cell(action)=\"data\">\r\n                    <b-button type=\"submit\" size=\"sm\" variant=\"success\" class=\"mr-1\">\r\n                      <i class=\"fa fa-edit\"></i> Edit\r\n                    </b-button>\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"danger\"\r\n                      @click=\"deleteOrderItem(data.item)\"\r\n                    >\r\n                      <i class=\"fa fa-remove\"></i> Delete\r\n                    </b-button>\r\n                  </template>\r\n\r\n                  <!-- footer -->\r\n                  <template v-slot:foot()=\"data\"></template>\r\n                  <template v-slot:foot(quantity)=\"data\">{{sumQuantity}}</template>\r\n                  <template v-slot:foot(collectedQuantity)=\"data\">{{sumCollectedQuantity}}</template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n            <template v-slot:mobile>\r\n              <b-table\r\n                foot-clone\r\n                responsive=\"sm\"\r\n                :items=\"items\"\r\n                :fields=\"mobileFields\"\r\n                :small=\"true\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">\r\n                  <b-row>\r\n                    <b-col>\r\n                      <strong>{{data.index +1}}. {{data.item.name}}</strong>\r\n                      <b-link\r\n                        class=\"ml-1\"\r\n                        :href=\"appSettings.cwBuyProductUrl.replace('{id}', getCWPruductId(data.item))\"\r\n                        target=\"_blank\"\r\n                        v-if=\"getCWPruductId(data.item)\"\r\n                      >[Buy CW]</b-link>\r\n                      <br />\r\n                      <div class=\"row\">\r\n                        <div class=\"col-3\" style=\"overflow: hidden\">\r\n                          <img\r\n                            :src=\"data.item.product.thumbnail\"\r\n                            width=\"100px\"\r\n                            height=\"100px\"\r\n                            style=\"margin-left: -15px\"\r\n                          />\r\n                        </div>\r\n                        <div class=\"col-9\">\r\n                          <b-row>\r\n                            <b-col>\r\n                              <show-supplier-prices :product=\"data.item.product\"></show-supplier-prices>\r\n                            </b-col>\r\n                          </b-row>\r\n                          <b-row>\r\n                            <b-col>\r\n                              Quantity:\r\n                              <strong>{{data.item.quantity}}</strong>\r\n                              ({{data.item.customerNameQty}})\r\n                            </b-col>\r\n                          </b-row>\r\n                          <b-row class=\"mt-2\">\r\n                            <b-col cols=\"6\">\r\n                              <number-input\r\n                                v-model=\"data.item.collectedQuantity\"\r\n                                :min=\"0\"\r\n                                :max=\"data.item.quantity\"\r\n                                inline\r\n                                controls\r\n                                center\r\n                                size=\"sm\"\r\n                                @change=\"collectedQuantityChanged(data.item, $event)\"\r\n                              ></number-input>\r\n                            </b-col>\r\n                            <b-col cols=\"4\" class=\"text-center\" style=\"padding-top: 5px\">\r\n                              <b-form-checkbox\r\n                                v-model=\"data.item.collected\"\r\n                                @change=\"collectedChanged($event, data.item)\"\r\n                              ></b-form-checkbox>\r\n                            </b-col>\r\n                          </b-row>\r\n                        </div>\r\n                      </div>\r\n                      <br />\r\n                    </b-col>\r\n                  </b-row>\r\n                </template>\r\n\r\n                <!-- footer -->\r\n                <template v-slot:foot()=\"data\">\r\n                  <hr />\r\n                  <b-row>\r\n                    <b-col>Quantity</b-col>\r\n                    <b-col class=\"text-right\">{{sumQuantity}}</b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>Collected Qty</b-col>\r\n                    <b-col class=\"text-right\">{{sumCollectedQuantity}}</b-col>\r\n                  </b-row>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n          </view-port>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\nimport numberInput from \"../shared/numberInput\";\r\nimport viewPort from \"../shared/viewPort\";\r\nimport ShowSupplierPrices from \"./ShowSupplierPrices\";\r\nvar saveOrderTimeoutFunc;\r\nexport default {\r\n  name: \"OrderDetail\",\r\n  components: { numberInput, viewPort, ShowSupplierPrices },\r\n  data() {\r\n    return {\r\n      order: {},\r\n      items: [],\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"collection-index\" },\r\n        { key: \"name\", label: \"Product\", class: \"collection-name\" },\r\n        { key: \"customerNameQty\", label: \"Detail\", class: \"collection-detail\" },\r\n        {\r\n          key: \"quantity\",\r\n          label: \"Quantity\",\r\n          class: \"text-right collection-qty\"\r\n        },\r\n        {\r\n          key: \"collectedQuantity\",\r\n          label: \"Collected Qty\",\r\n          class: \"text-center collection-collected-qty\"\r\n        },\r\n        {\r\n          key: \"collected\",\r\n          label: \"Collected\",\r\n          class: \"text-center collection-collected\"\r\n        }\r\n      ],\r\n      mobileFields: [{ key: \"index\", label: \"\" }]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadOrder();\r\n  },\r\n  computed: {\r\n    sumQuantity: function() {\r\n      if (!this.items || this.items.length === 0) return 0;\r\n      return _.sumBy(this.items, x => x.quantity);\r\n    },\r\n    sumCollectedQuantity: function() {\r\n      if (!this.items || this.items.length === 0) return 0;\r\n      return _.sumBy(this.items, x => x.collectedQuantity);\r\n    }\r\n  },\r\n  methods: {\r\n    loadOrder: function() {\r\n      this.$fb.orderCollection.doc(this.$route.params.id).onSnapshot(snapshot => {\r\n        if (!snapshot.empty) {\r\n          this.order = snapshot.data();\r\n          this.items = _.chain(this.order.items)\r\n            .map(x => {\r\n              return {\r\n                id: x.id,\r\n                name: x.product.name,\r\n                cwProductId: x.product.cwProductId,\r\n                quantity: x.quantity,\r\n                collectedQuantity: x.collectedQuantity,\r\n                product: x.product,\r\n                collected: x.collected,\r\n                customerName: x.customer.name\r\n              };\r\n            })\r\n            .groupBy(x => x.name)\r\n            .mapValues(val => {\r\n              var re = {\r\n                name: _.first(val).name,\r\n                product: _.first(val).product,\r\n                cwProductId: _.first(val).cwProductId,\r\n                quantity: _.sumBy(val, x => parseFloat(x.quantity)),\r\n                collectedQuantity: _.sumBy(val, x => parseFloat(x.collectedQuantity)),\r\n                orderItemIds: _.reduce(val, (s, x) => s.concat(x.id), []),\r\n                customerNameQty: _.map(val, item => item.customerName + \": \" + item.quantity).join(\r\n                  \", \"\r\n                )\r\n              };\r\n              re.collected = re.quantity == re.collectedQuantity;\r\n\r\n              return re;\r\n            })\r\n            .values()\r\n            .orderBy(\"name\")\r\n            .value();\r\n        }\r\n      });\r\n    },\r\n    goToOrderDetailPage: function() {\r\n      this.$router.push({ name: \"OrderDetail\", params: { id: this.order.id } });\r\n    },\r\n    collectedChanged: function(checked, item) {\r\n      if (checked) {\r\n        item.collectedQuantity = item.quantity;\r\n      } else {\r\n        item.collectedQuantity = 0;\r\n      }\r\n      this.setCollectedItem(item);\r\n    },\r\n    setCollectedItem: function(item) {\r\n      var { orderItemIds } = item;\r\n      var collectedQuantity = item.collectedQuantity;\r\n      this.order.items\r\n        .filter(x => orderItemIds.indexOf(x.id) > -1)\r\n        .forEach(x => {\r\n          x.collectedQuantity = 0;\r\n          x.collected = false;\r\n          if (collectedQuantity > 0) {\r\n            if (collectedQuantity > x.quantity) {\r\n              x.collectedQuantity = x.quantity;\r\n              x.collected = true;\r\n              collectedQuantity -= x.quantity;\r\n            } else {\r\n              x.collectedQuantity = collectedQuantity;\r\n              collectedQuantity = 0;\r\n              x.collected = x.collectedQuantity == x.quantity;\r\n            }\r\n          }\r\n        });\r\n\r\n      this.debounceSaveOrder();\r\n    },\r\n    goToOrderList: function() {\r\n      this.$router.push({\r\n        name: \"Orders\"\r\n      });\r\n    },\r\n    collectedQuantityChanged: function(item, qty) {\r\n      item.collectedQuantity = qty;\r\n      this.setCollectedItem(item);\r\n    },\r\n    debounceSaveOrder: function() {\r\n      if (saveOrderTimeoutFunc) window.clearTimeout(saveOrderTimeoutFunc);\r\n\r\n      saveOrderTimeoutFunc = window.setTimeout(\r\n        () => this.$fb.orderCollection.doc(this.order.id).set(this.order),\r\n        500\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <b-link @click=\"goToOrderList\">\r\n              <i class=\"fa fa-server\"></i> Order:\r\n            </b-link>\r\n            <strong>{{order.name}}</strong>\r\n            <div class=\"pull-right\" v-if=\"isAdmin\">\r\n              <b-link @click=\"updateCustomerInformation\" class=\"mr-1\">Update Customer Information |</b-link>\r\n              <b-link @click=\"goToOrderDetailPage\">Order Detail Page</b-link>\r\n            </div>\r\n          </div>\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <div>\r\n                <b-table\r\n                  foot-clone\r\n                  responsive=\"sm\"\r\n                  :items=\"items\"\r\n                  :fields=\"fields\"\r\n                  :small=\"true\"\r\n                  :hover=\"true\"\r\n                  selectable\r\n                  select-mode=\"single\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">{{data.index +1}}</template>\r\n                  <template v-slot:cell(customerName)=\"data\">\r\n                    <b-link @click=\"editCustomer(data)\">{{data.value}}</b-link>\r\n                    <b-link\r\n                      v-if=\"!data.item.customerId\"\r\n                      class=\"ml-1\"\r\n                      @click=\"updateCustomer(data.item)\"\r\n                    >[Update Info]</b-link>\r\n                    <b-link class=\"ml-1\" @click=\"goToCustomerOrder(data.item)\">[Orders]</b-link>\r\n                  </template>\r\n                  <template v-slot:cell(products)=\"data\">\r\n                    <table class=\"table table-borderless product-table\">\r\n                      <tr v-for=\"(item, index) in data.item.products\" :key=\"index\">\r\n                        <td>{{item.productName}}</td>\r\n                        <td class=\"text-right\" style=\"width: 5%\">{{item.quantity}}</td>\r\n                        <td\r\n                          class=\"text-right\"\r\n                          style=\"width: 25%\"\r\n                        >{{item.total |currency(vndConfig)}}</td>\r\n                      </tr>\r\n                    </table>\r\n                  </template>\r\n                  <template v-slot:cell(productPrice)=\"data\">\r\n                    <div v-for=\"(item, index) in data.item.products\" :key=\"index\">\r\n                      <span>{{item.total | currency(vndConfig)}}</span>\r\n                    </div>\r\n                  </template>\r\n\r\n                  <template v-slot:cell(quantity)=\"data\">\r\n                    <strong>{{data.value}}</strong>\r\n                  </template>\r\n                  <template v-slot:cell(total)=\"data\">\r\n                    <strong>{{data.value | currency(vndConfig)}}</strong>\r\n                  </template>\r\n                  <template v-slot:cell(purchased)=\"data\">\r\n                    <b-form-checkbox\r\n                      v-model=\"data.item.purchased\"\r\n                      @change=\"purchasedChanged($event, data)\"\r\n                    ></b-form-checkbox>\r\n                  </template>\r\n                  <template v-slot:cell(action)=\"data\">\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"success\"\r\n                      @click=\"editShipmentItem(data)\"\r\n                    >\r\n                      <i class=\"fa fa-edit\"></i> Edit\r\n                    </b-button>\r\n                  </template>\r\n                  <!-- footer -->\r\n                  <template v-slot:foot()=\"data\"></template>\r\n                  <template v-slot:foot(quantity)=\"data\">{{sumQuantity}}</template>\r\n                  <template v-slot:foot(total)=\"data\">{{sumTotal | currency(vndConfig)}}</template>\r\n                  <template v-slot:foot(purchased)=\"data\">{{sumPurchased | currency(vndConfig)}}</template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n            <template v-slot:mobile>\r\n              <b-table\r\n                foot-clone\r\n                responsive=\"sm\"\r\n                :items=\"items\"\r\n                :fields=\"mobileFields\"\r\n                :small=\"true\"\r\n                :hover=\"true\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">\r\n                  <b-row>\r\n                    <b-col>\r\n                      <strong>{{data.index + 1}}. {{data.item.customerName}}</strong>\r\n                      <b-link @click=\"editCustomer(data)\" class=\"ml-1\">[Edit]</b-link>\r\n                      <b-link\r\n                        v-if=\"!data.item.customerId\"\r\n                        class=\"ml-1\"\r\n                        @click=\"updateCustomer(data.item)\"\r\n                      >[Update Info]</b-link>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>\r\n                      <table class=\"table table-borderless product-table\">\r\n                        <tr v-for=\"(item, index) in data.item.products\" :key=\"index\">\r\n                          <td>{{item.productName}}</td>\r\n                          <td class=\"text-right\" style=\"width: 5%\">{{item.quantity}}</td>\r\n                          <td\r\n                            class=\"text-right\"\r\n                            style=\"width: 30%\"\r\n                          >{{item.total |currency(vndConfig)}}</td>\r\n                        </tr>\r\n                        <tr style=\"border-top: 1px dashed #e4e7ea !important\">\r\n                          <td>Total</td>\r\n                          <td class=\"text-right\" style=\"width: 5%\">{{data.item.quantity}}</td>\r\n                          <td\r\n                            class=\"text-right\"\r\n                            style=\"width: 30%\"\r\n                          >{{data.item.total |currency(vndConfig)}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>Purchased</td>\r\n                          <td class=\"text-right\" style=\"width: 5%\"></td>\r\n                          <td class=\"text-center\" style=\"width: 30%\">\r\n                            <b-form-checkbox\r\n                              v-model=\"data.item.purchased\"\r\n                              @change=\"purchasedChanged($event, data)\"\r\n                            ></b-form-checkbox>\r\n                          </td>\r\n                        </tr>\r\n                      </table>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <fieldset class=\"my-fieldset\" style=\"margin-top: 10px\">\r\n                    <b-row>\r\n                      <b-col>\r\n                        Note: {{data.item.note}}\r\n                        <br />\r\n                        Address: {{data.item.address}}\r\n                        <br />\r\n                        Phone: {{data.item.phone}}\r\n                        <br />\r\n                        <b-link @click=\"editShipmentItem(data)\">\r\n                          <i class=\"fa fa-edit\"></i> Edit\r\n                        </b-link>\r\n                      </b-col>\r\n                    </b-row>\r\n                  </fieldset>\r\n                </template>\r\n\r\n                <!-- footer -->\r\n                <template v-slot:foot()=\"data\">\r\n                  <hr />\r\n                  <b-row>\r\n                    <b-col>Quantity</b-col>\r\n                    <b-col class=\"text-right\">{{sumQuantity}}</b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>Total</b-col>\r\n                    <b-col class=\"text-right\">{{sumTotal | currency(vndConfig)}}</b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>Purchased</b-col>\r\n                    <b-col class=\"text-right\">{{sumPurchased | currency(vndConfig)}}</b-col>\r\n                  </b-row>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n          </view-port>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n\r\n    <order-detail-shipment-edit-item\r\n      id=\"shipmentEditItem\"\r\n      :item=\"selectedShipmentItem\"\r\n      @saveShipmentItem=\"saveShipmentItem\"\r\n    ></order-detail-shipment-edit-item>\r\n\r\n    <customer-edit id=\"customerEdit\" :item=\"this.selectedCustomer\"></customer-edit>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport _ from \"lodash\";\r\nimport numberInput from \"../shared/numberInput\";\r\nimport orderDetailShipmentEditItem from \"./orderDetailShipmentEditItem\";\r\nimport customerEdit from \"./customerEdit\";\r\nimport viewPort from \"../shared/viewPort\";\r\nvar saveOrderTimeoutFunc;\r\n\r\nexport default {\r\n  name: \"OrderDetail\",\r\n  components: { numberInput, orderDetailShipmentEditItem, customerEdit, viewPort },\r\n  data() {\r\n    return {\r\n      isAdmin: false,\r\n      order: {},\r\n      items: [],\r\n      selectedShipmentItem: {},\r\n      selectedCustomer: {},\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"shipment-index-col\" },\r\n        {\r\n          key: \"customerName\",\r\n          label: \"Customer\",\r\n          class: \"shipment-customer-col\"\r\n        },\r\n        { key: \"products\", label: \"Products\", class: \"shipment-product-col\" },\r\n\r\n        {\r\n          key: \"quantity\",\r\n          label: \"Total Qty\",\r\n          class: \"text-center shipment-quantity-col\",\r\n          tdClass: \"vertical-middle\"\r\n        },\r\n        {\r\n          key: \"total\",\r\n          label: \"Total Price\",\r\n          class: \"text-right shipment-price-col\"\r\n        },\r\n        {\r\n          key: \"purchased\",\r\n          label: \"Purchased\",\r\n          class: \"text-center shipment-purchased-col\"\r\n        },\r\n        {\r\n          key: \"note\",\r\n          label: \"Note\",\r\n          class: \"shipment-note-col\"\r\n        },\r\n        { key: \"address\", label: \"Address\", class: \"shipment-address-col\" },\r\n        { key: \"phone\", label: \"Phone\", class: \"shipment-phone-col\" },\r\n        {\r\n          key: \"action\",\r\n          label: \"Action\",\r\n          class: \"text-right shipment-action-col\"\r\n        }\r\n      ],\r\n      mobileFields: [{ key: \"index\", label: \"\" }]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.isAdmin = this.$fb.isAdmin();\r\n    this.loadOrder();\r\n  },\r\n  computed: {\r\n    sumQuantity: function() {\r\n      if (!this.items || this.items.length === 0) return 0;\r\n      return _.sumBy(this.items, x => x.quantity);\r\n    },\r\n    sumTotal: function() {\r\n      if (!this.items || this.items.length === 0) return 0;\r\n      return _.sumBy(this.items, x => x.total);\r\n    },\r\n    sumPurchased: function() {\r\n      if (!this.items || this.items.length === 0) return 0;\r\n      return _.chain(this.items)\r\n        .filter(x => x.purchased)\r\n        .sumBy(x => x.total)\r\n        .value();\r\n    }\r\n  },\r\n  methods: {\r\n    loadOrder: function() {\r\n      this.$fb.orderCollection.doc(this.$route.params.id).onSnapshot(snapshot => {\r\n        if (!snapshot.empty) {\r\n          this.order = snapshot.data();\r\n          this.buildItems(this.order);\r\n        }\r\n      });\r\n    },\r\n    buildItems: function(order) {\r\n      this.items = _.chain(order.items)\r\n        .map(x => {\r\n          return {\r\n            id: x.id,\r\n            customerId: x.customer.id,\r\n            note: x.note,\r\n            customerName: x.customer.name,\r\n            address: x.customer.address,\r\n            phone: x.customer.phone,\r\n            purchased: x.purchased,\r\n            productName: x.product.name,\r\n            quantity: x.quantity,\r\n            rndPrice: x.rndPrice || x.product.rndPrice,\r\n            total: parseFloat(x.quantity || 0) * parseFloat(x.rndPrice || x.product.rndPrice || 0)\r\n          };\r\n        })\r\n        .groupBy(x => x.customerName)\r\n        .mapValues(val => {\r\n          var re = {\r\n            note: _.first(val).note,\r\n            customerId: _.first(val).customerId,\r\n            customerName: _.first(val).customerName,\r\n            address: _.first(val).address,\r\n            phone: _.first(val).phone,\r\n            purchased: _.first(val).purchased,\r\n            quantity: _.sumBy(val, x => x.quantity),\r\n            total: _.sumBy(val, x => x.total),\r\n            products: _.reduce(val, (s, x) => s.concat(x), [])\r\n          };\r\n          return re;\r\n        })\r\n        .values()\r\n        .sortBy(x => x.customerName)\r\n        .value();\r\n    },\r\n\r\n    goToOrderDetailPage: function() {\r\n      this.$router.push({ name: \"OrderDetail\", params: { id: this.order.id } });\r\n    },\r\n    collectedChanged: function(checked, item) {\r\n      if (checked) {\r\n        item.collectedQuantity = item.quantity;\r\n      } else {\r\n        item.collectedQuantity = 0;\r\n      }\r\n      this.setCollectedItem(item);\r\n    },\r\n    setCollectedItem: function(item) {\r\n      var { orderItemIds } = item;\r\n      var collectedQuantity = item.collectedQuantity;\r\n      this.order.items\r\n        .filter(x => orderItemIds.indexOf(x.id) > -1)\r\n        .forEach(x => {\r\n          x.collectedQuantity = 0;\r\n          x.collected = false;\r\n          if (collectedQuantity > 0) {\r\n            if (collectedQuantity > x.quantity) {\r\n              x.collectedQuantity = x.quantity;\r\n              x.collected = true;\r\n              collectedQuantity -= x.quantity;\r\n            } else {\r\n              x.collectedQuantity = collectedQuantity;\r\n              collectedQuantity = 0;\r\n              x.collected = x.collectedQuantity == x.quantity;\r\n            }\r\n          }\r\n        });\r\n\r\n      this.debounceSaveOrder();\r\n    },\r\n    goToOrderList: function() {\r\n      this.$router.push({\r\n        name: \"Orders\"\r\n      });\r\n    },\r\n    collectedQuantityChanged: function(item, qty) {\r\n      item.collectedQuantity = qty;\r\n      this.setCollectedItem(item);\r\n    },\r\n    debounceSaveOrder: function() {\r\n      console.log(this.order);\r\n      if (saveOrderTimeoutFunc) window.clearTimeout(saveOrderTimeoutFunc);\r\n\r\n      saveOrderTimeoutFunc = window.setTimeout(\r\n        () => this.$fb.orderCollection.doc(this.order.id).set(this.order),\r\n        500\r\n      );\r\n    },\r\n    updateCustomerInformation: function() {\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to update all Customer's informations?`)\r\n        .then(value => {\r\n          if (value) {\r\n            this.items.forEach(this.updateCustomer);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    updateCustomer: function(item) {\r\n      var query = this.$fb.customerCollection;\r\n      if (item.customerId) {\r\n        query = query.doc(item.customerId);\r\n      } else {\r\n        query = query.where(\"name\", \"==\", item.customerName);\r\n      }\r\n\r\n      query\r\n        .get()\r\n        .then(snapshot => {\r\n          var newCus;\r\n          if (item.customerId) {\r\n            newCus = snapshot.data();\r\n          } else {\r\n            newCus = _.first(snapshot.docs).data();\r\n          }\r\n\r\n          delete newCus.nameSearch;\r\n          return newCus;\r\n        })\r\n        .then(newCus => {\r\n          var indices = _.keys(\r\n            _.pickBy(this.order.items, item => {\r\n              return item.customer.id == newCus.id || item.customer.name == newCus.name;\r\n            })\r\n          );\r\n          indices.forEach(index => {\r\n            var item = this.order.items[index];\r\n            item.customer = newCus;\r\n            this.order.items.splice(index, 1, item);\r\n          });\r\n\r\n          this.$fb.orderCollection.doc(this.order.id).set(this.order);\r\n          return this.order;\r\n        })\r\n        .then(this.buildItems);\r\n    },\r\n    purchasedChanged: function(checked, data) {\r\n      var { index, item } = data;\r\n      item.purchased = checked;\r\n      this.items.splice(index, 1, item);\r\n\r\n      var indices = _.keys(\r\n        _.pickBy(this.order.items, x => {\r\n          return x.customer.id == item.customerId || x.customer.name == item.customerName;\r\n        })\r\n      );\r\n      indices.forEach(index => (this.order.items[index].purchased = checked));\r\n\r\n      this.debounceSaveOrder();\r\n    },\r\n    editShipmentItem: function(data) {\r\n      var { index, item } = data;\r\n      this.selectedShipmentItem = { ...item };\r\n      this.selectedShipmentItemIndex = index;\r\n      this.$bvModal.show(\"shipmentEditItem\");\r\n    },\r\n    saveShipmentItem: function(item) {\r\n      this.items.splice(this.selectedShipmentItemIndex, 1, item);\r\n\r\n      var indices = _.keys(\r\n        _.pickBy(this.order.items, x => {\r\n          return x.customer.id == item.customerId || x.customer.name == item.customerName;\r\n        })\r\n      );\r\n      indices.forEach(index => {\r\n        this.order.items[index].note = item.note || \"\";\r\n        this.order.items[index].customer.address = item.address || \"\";\r\n        this.order.items[index].customer.phone = item.phone || \"\";\r\n      });\r\n      this.debounceSaveOrder();\r\n    },\r\n    editCustomer: function(data) {\r\n      var { index, item } = data;\r\n      var { customerId, customerName, address, phone } = item;\r\n      this.selectedCustomer = {\r\n        id: customerId,\r\n        name: customerName,\r\n        address: address,\r\n        phone: phone\r\n      };\r\n      this.$bvModal.show(\"customerEdit\");\r\n    },\r\n    goToCustomerOrder: function(item) {\r\n      this.$router.push({\r\n        name: \"CustomerOrders\",\r\n        params: { id: item.customerId }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.product-display {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.product-table {\r\n  margin-bottom: 0;\r\n}\r\n.product-table tr:hover {\r\n  background-color: inherit;\r\n}\r\n</style>","import { render, staticRenderFns } from \"./vueDatePick.vue?vue&type=template&id=0802d984&\"\nimport script from \"./vueDatePick.vue?vue&type=script&lang=js&\"\nexport * from \"./vueDatePick.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vueDatePick.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-modal\r\n    :id=\"intId\"\r\n    :title=\"'Product Detail - ' + (prod.id || '')\"\r\n    @ok=\"saveProduct\"\r\n    size=\"lg\"\r\n    modal-class=\"product-detail-modal\"\r\n  >\r\n    <b-alert\r\n      show\r\n      variant=\"warning\"\r\n    >{{readonly ? \"It will not update into Product master data.\" : \"Product master data will be updated.\"}}</b-alert>\r\n    <cw-product-predictive\r\n      @productMatched=\"updateMatchedProduct\"\r\n      ref=\"cwProductPredictive\"\r\n      v-show=\"supplierPredictive == 'CW'\"\r\n    ></cw-product-predictive>\r\n    <pa-product-predictive\r\n      @productMatched=\"updateMatchedProduct\"\r\n      ref=\"paProductPredictive\"\r\n      v-show=\"supplierPredictive == 'PA'\"\r\n    ></pa-product-predictive>\r\n    <b-row>\r\n      <b-col sm=\"8\">\r\n        <b-form-group>\r\n          <label for=\"name\">\r\n            Name\r\n            <b-link\r\n              :href=\"appSettings.cwBuyProductUrl.replace('{id}', getCWPruductId(prod))\"\r\n              target=\"_blank\"\r\n              v-if=\"getCWPruductId(prod)\"\r\n            >[Buy CW]</b-link>\r\n          </label>\r\n          <b-form-input type=\"text\" placeholder=\"Enter product name\" v-model=\"prod.name\"></b-form-input>\r\n\r\n          <b-link @click=\"checkCwMatchedProduct(true)\">Chemist Warehouse Search</b-link>\r\n          <b-link class=\"mr-1 ml-1\">|</b-link>\r\n          <b-link @click=\"checkPaMatchedProduct(true)\">Pandora Search</b-link>\r\n          <div v-if=\"existedProduct\">\r\n            <i style=\"color: red\">\r\n              * Product existed:\r\n              <b-link @click=\"openExistedProduct\">{{existedProduct.name}}</b-link>\r\n            </i>\r\n          </div>\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <label for=\"name\">Thumbnail Url</label>\r\n          <b-form-input type=\"text\" placeholder=\"Enter product image url\" v-model=\"prod.thumbnail\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"4\">\r\n        <div class=\"card\">\r\n          <img\r\n            :src=\"prod.thumbnail\"\r\n            :alt=\"prod.name\"\r\n            width=\"150px\"\r\n            height=\"150px\"\r\n            style=\"margin: auto\"\r\n          />\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n    <template v-for=\"(sp, index) in prod.supplierPrices\">\r\n      <b-form-group :key=\"index\">\r\n        <b-row>\r\n          <b-col sm=\"3\">\r\n            <b-form-select v-model=\"sp.supplier\" :options=\"suppliers\"></b-form-select>\r\n          </b-col>\r\n          <b-col sm=\"2\">\r\n            <b-form-input type=\"number\" placeholder=\"Price (A$)\" v-model=\"sp.price\"></b-form-input>\r\n          </b-col>\r\n          <b-col sm=\"3\">\r\n            <b-input-group>\r\n              <b-form-input type=\"number\" placeholder=\"Sale Price (A$)\" v-model=\"sp.salePrice\"></b-form-input>\r\n              <b-input-group-append is-text>\r\n                <b-form-checkbox\r\n                  v-model=\"sp.salePricePick\"\r\n                  @change=\"(checked) => salePricePickChanged(index, checked)\"\r\n                ></b-form-checkbox>\r\n              </b-input-group-append>\r\n            </b-input-group>\r\n          </b-col>\r\n          <b-col sm=\"1\">\r\n            <b-link @click=\"removeSupplierPrice(index)\">\r\n              <i\r\n                class=\"fa fa-times text-danger fa-lg\"\r\n                style=\"padding-top: 12px;\"\r\n                aria-hidden=\"true\"\r\n              ></i>\r\n            </b-link>\r\n          </b-col>\r\n          <b-col sm=\"1\" style=\"padding-top: 7px\">\r\n            <strong v-if=\"sp.id\">#{{sp.id}}</strong>\r\n          </b-col>\r\n        </b-row>\r\n      </b-form-group>\r\n    </template>\r\n    <b-form-group>\r\n      <b-link @click=\"addSuppplierPrice\">Add Supplier Price</b-link>\r\n    </b-form-group>\r\n    <b-row>\r\n      <b-col sm=\"2\">\r\n        <b-form-group>\r\n          <label for=\"weight\">Weight (g)</label>\r\n          <b-link class=\"ml-2\" @click=\"searchShipppingWeight\">Search</b-link>\r\n          <b-form-input type=\"number\" id=\"weight\" placeholder=\"0\" v-model=\"prod.weight\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"2\">\r\n        <b-form-group>\r\n          <label for=\"shipprice\">Shipment Price (A$)</label>\r\n          <b-form-input\r\n            type=\"number\"\r\n            id=\"shipprice\"\r\n            placeholder=\"0.00\"\r\n            v-model=\"prod.shipPrice\"\r\n            :disabled=\"true\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"4\">\r\n        <b-form-group>\r\n          <label for=\"selprice\">Selling Price (A$)</label>\r\n          <b-form-input\r\n            type=\"number\"\r\n            id=\"selprice\"\r\n            placeholder=\"0.00\"\r\n            v-model=\"prod.selPrice\"\r\n            :disabled=\"true\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n\r\n      <b-col sm=\"4\">\r\n        <b-form-group>\r\n          <label for=\"buyprice\">Buying Price (A$)</label>\r\n          <b-form-input\r\n            type=\"number\"\r\n            id=\"buyprice\"\r\n            placeholder=\"0.00\"\r\n            v-model=\"prod.buyPrice\"\r\n            :disabled=\"true\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col sm=\"4\">\r\n        <b-form-group description=\"Buy. Price + Ship\">\r\n          <label for=\"oriprice\">Ori. Price (A$)</label> -\r\n          <vnd-price :value=\"prod.oriPrice\"></vnd-price>\r\n          <b-form-input\r\n            type=\"number\"\r\n            id=\"oriprice\"\r\n            placeholder=\"0.00\"\r\n            v-model=\"prod.oriPrice\"\r\n            :disabled=\"true\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"4\">\r\n        <b-form-group description=\"Sel. Price + Commission(10%) + Ship + $2\">\r\n          <label for=\"sugprice\">\r\n            Sug. Price (A$) -\r\n            <vnd-price :value=\"prod.sugPrice\"></vnd-price>\r\n          </label>\r\n          <b-form-input placeholder=\"0.00\" v-model=\"prod.sugPrice\" :disabled=\"true\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"4\">\r\n        <b-form-group>\r\n          <label for=\"rndprice\">\r\n            Rnd. Price (VND) -\r\n            <i style=\"color: red\">{{prod.rndPrice | currency(vndConfig)}}</i>\r\n          </label>\r\n          <b-form-input type=\"number\" placeholder=\"0.00\" v-model=\"prod.rndPrice\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\nimport vndPrice from \"../shared/vndPrice\";\r\nimport { generateSubString } from \"@/shared/utils\";\r\nimport cwProductPredictive from \"./cwProductPredictive\";\r\nimport paProductPredictive from \"./PAProductPredictive\";\r\nimport DatePick from \"../shared/vueDatePick\";\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"ProductDetail\",\r\n  components: { vndPrice, cwProductPredictive, DatePick, paProductPredictive },\r\n  props: [\"id\", \"readonly\"],\r\n  data() {\r\n    return {\r\n      prod: {},\r\n      cwMatchedProduct: {},\r\n      cwMatchedProductChange: false,\r\n      isCheckingCwPrice: false,\r\n      settings: {},\r\n      supplierPredictive: \"\",\r\n      existedProduct: undefined\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.settings = this.appSettings;\r\n  },\r\n  watch: {\r\n    \"prod.supplierPrices\": {\r\n      deep: true,\r\n      handler: function(value) {\r\n        this.calculatePrices(value);\r\n      }\r\n    },\r\n    \"prod.weight\": function(value) {\r\n      if (value && parseFloat(value) >= 0) {\r\n        this.prod.shipPrice = ((parseFloat(value) * this.settings.shipPricePerKg) / 1000).roundTo(\r\n          2\r\n        );\r\n        this.calculateItself();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    intId: function() {\r\n      return this.id || \"productdetail\";\r\n    },\r\n    suppliers: function() {\r\n      if (!this.settings || !this.settings.suppliers || this.settings.suppliers.length == 0)\r\n        return [];\r\n      return this.settings.suppliers.map(x => {\r\n        return { text: x.name, value: x.code };\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(\"counter\", [\"increaseProductCount\"]),\r\n    open: function(product) {\r\n      //reset\r\n      this.existedProduct = undefined;\r\n      //product: {name, thumbnail, supplierPrices, weight, shipPrice, oriPrice, selPrice, sugPrice, rndPrice}\r\n      if (!product)\r\n        this.prod = {\r\n          name: \"\",\r\n          thumbnail: \"\",\r\n          weight: 0,\r\n          shipPrice: 0,\r\n          selPrice: 0,\r\n          buyPrice: 0,\r\n          oriPrice: 0,\r\n          sugPrice: 0,\r\n          rndPrice: 0,\r\n          supplierPrices: []\r\n        };\r\n      else {\r\n        this.prod = { ...product };\r\n        this.prod.supplierPrices = [];\r\n        if (product.supplierPrices && product.supplierPrices.length > 0) {\r\n          product.supplierPrices.forEach(x => this.prod.supplierPrices.push(x));\r\n        }\r\n      }\r\n\r\n      this.$bvModal.show(this.intId);\r\n      this.$nextTick(() => {\r\n        if (this.prod.supplierPrices) {\r\n          var cwSupPrice = this.prod.supplierPrices.find(x => x.supplier == \"CW\");\r\n          if (cwSupPrice && cwSupPrice.id) this.checkCwMatchedProduct();\r\n\r\n          var paSupPrice = this.prod.supplierPrices.find(x => x.supplier == \"PA\");\r\n          if (paSupPrice && paSupPrice.id) this.checkPaMatchedProduct();\r\n        }\r\n      });\r\n    },\r\n    saveProduct: async function() {\r\n      var prod = this.prod;\r\n\r\n      if (!prod.name) return;\r\n\r\n      prod.nameSearch = generateSubString(prod.name);\r\n\r\n      if (this.readonly) {\r\n        this.$emit(\"productSaved\", { ...prod });\r\n        this.$bvModal.hide(this.intId);\r\n        return;\r\n      }\r\n\r\n      if (prod.id) {\r\n        return this.$fb.productCollection\r\n          .doc(prod.id)\r\n          .set(prod)\r\n          .then(() => {\r\n            this.$emit(\"product-saved\", { ...prod });\r\n            this.$bvModal.hide(this.intId);\r\n            this.showMessage(\"Product updated!\");\r\n            return prod;\r\n          });\r\n      } else {\r\n        var newProd = this.$fb.productCollection.doc();\r\n        prod.id = newProd.id;\r\n        return newProd.set(prod).then(() => {\r\n          this.increaseProductCount();\r\n          this.$emit(\"product-saved\", { ...prod });\r\n          this.$bvModal.hide(this.intId);\r\n          this.showMessage(\"Product created!\");\r\n          return prod;\r\n        });\r\n      }\r\n    },\r\n    getExistingProductByName: async function(name) {\r\n      return this.$fb.productCollection\r\n        .where(\"name\", \"==\", name)\r\n        .limit(1)\r\n        .get()\r\n        .then(ss => {\r\n          if (!ss.empty) {\r\n            return ss.docs[0].data();\r\n          } else return undefined;\r\n        });\r\n    },\r\n    calculatePrices: function(supplierPrices) {\r\n      console.log(\"calculate Prices\");\r\n      var { weight } = this.prod;\r\n      this.prod.shipPrice = (\r\n        (parseFloat(weight || 0) * this.settings.shipPricePerKg) /\r\n        1000\r\n      ).roundTo(2);\r\n      if (!supplierPrices || supplierPrices.length == 0) return;\r\n      this.prod.selPrice = _.maxBy(supplierPrices, sp => parseFloat(sp.price || 0)).price;\r\n      this.prod.buyPrice = _.minBy(supplierPrices, sp => parseFloat(sp.price || 9999)).price;\r\n\r\n      this.calculateItself();\r\n\r\n      // //override if using sale price\r\n\r\n      var salePricePickSup = this.prod.supplierPrices.find(x => x.salePricePick);\r\n      if (salePricePickSup) {\r\n        this.prod.selPrice = salePricePickSup.salePrice;\r\n        this.prod.buyPrice = salePricePickSup.salePrice;\r\n\r\n        this.calculateItself();\r\n      }\r\n    },\r\n    calculateItself: function() {\r\n      console.log(\"calculate itself\");\r\n      this.prod.oriPrice = (\r\n        parseFloat(this.prod.shipPrice) + parseFloat(this.prod.buyPrice)\r\n      ).toFixed(2);\r\n      this.prod.sugPrice = parseFloat(\r\n        this.prod.shipPrice +\r\n          this.prod.selPrice * this.settings.commissionRate +\r\n          this.settings.buyingFee\r\n      ).toFixed(2);\r\n      this.prod.sugPriceVND = parseFloat(this.prod.sugPrice * this.settings.vndExchageRate).toFixed(\r\n        2\r\n      );\r\n    },\r\n\r\n    salePricePickChanged: function(index, checked) {\r\n      console.log(\"sale price pick change\");\r\n      if (checked) {\r\n        //reset all salePricePick to false\r\n        this.prod.supplierPrices.forEach((x, i) => {\r\n          x.salePricePick = false;\r\n          this.prod.supplierPrices.splice(i, 1, x);\r\n        });\r\n      }\r\n\r\n      var sp = this.prod.supplierPrices[index];\r\n      sp.salePricePick = checked;\r\n      this.prod.supplierPrices.splice(index, 1, sp);\r\n    },\r\n    updateMatchedProduct: async function(item) {\r\n      var { thumbnail, id, priceStatus, price, label, supplier } = item;\r\n\r\n      this.prod.name = label;\r\n\r\n      if (!this.prod.thumbnail) this.$set(this.prod, \"thumbnail\", thumbnail);\r\n      else if (thumbnail && thumbnail != this.prod.thumbnail) {\r\n        this.prod.thumbnail = thumbnail;\r\n      }\r\n\r\n      if (!this.prod.supplierPrices) this.$set(this.prod, \"supplierPrices\", new Array());\r\n      var index = this.prod.supplierPrices.findIndex(x => x.supplier == supplier);\r\n      if (index == -1) {\r\n        this.prod.supplierPrices.push({\r\n          supplier: supplier,\r\n          id: id,\r\n          price: price,\r\n          salePrice: \"\",\r\n          salePricePick: false\r\n        });\r\n      } else {\r\n        var supplierPrice = this.prod.supplierPrices[index];\r\n        supplierPrice.price = price;\r\n        supplierPrice.id = id;\r\n        this.prod.supplierPrices.splice(index, 1, supplierPrice);\r\n      }\r\n\r\n      this.existedProduct = !this.prod.id && (await this.getExistingProductByName(this.prod.name));\r\n    },\r\n    checkCwMatchedProduct: function(forceCheckAgain) {\r\n      this.existedProduct = undefined;\r\n      this.supplierPredictive = \"CW\";\r\n      this.$refs.cwProductPredictive.checkPrice(this.prod, forceCheckAgain);\r\n    },\r\n    checkPaMatchedProduct: function(forceCheckAgain) {\r\n      this.existedProduct = undefined;\r\n      this.supplierPredictive = \"PA\";\r\n      this.$refs.paProductPredictive.checkPrice(this.prod, forceCheckAgain);\r\n    },\r\n    searchShipppingWeight: function() {\r\n      var url =\r\n        \"https://www.google.com.au/search?source=hp&ei=b54BXsjALoiW4-EPl8izwA4&q={term}&oq={term}&gs_l=psy-ab.3...9077.14394..15665...1.0..0.238.3323.0j15j3......0....2j1..gws-wiz.......33i21j33i10.9gohnIlLrZE&ved=0ahUKEwiItLOew83mAhUIyzgGHRfkDOgQ4dUDCAg&uact=5\";\r\n      var term = this.prod.name + \" \" + \"shipping weight\";\r\n      var encodedTerm = window.encodeURIComponent(term);\r\n      url = url.replace(\"{term}\", encodedTerm);\r\n      var win = window.open(url, \"_blank\");\r\n      win.focus();\r\n    },\r\n    addSuppplierPrice: function() {\r\n      if (!this.prod.supplierPrices) this.$set(this.prod, \"supplierPrices\", new Array());\r\n      this.prod.supplierPrices.push({\r\n        supplier: \"\",\r\n        price: \"\",\r\n        salePrice: \"\"\r\n      });\r\n    },\r\n    removeSupplierPrice: function(index) {\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to delete this supplier price ?`)\r\n        .then(async value => {\r\n          if (value) {\r\n            this.prod.supplierPrices.splice(index, 1);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    openExistedProduct: function() {\r\n      this.open(this.existedProduct);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productDetail.vue?vue&type=template&id=649021e8&scoped=true&\"\nimport script from \"./productDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./productDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"649021e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-table',{ref:\"productTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.productClicked,\"row-dblclicked\":_vm.productDoubleClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(name)\",fn:function(data){return [_c('div',{staticClass:\"prod-thumbnail-name\"},[_c('div',{staticClass:\"thumbnail\"},[(data.item.thumbnail)?_c('img',{attrs:{\"src\":data.item.thumbnail,\"width\":\"50px\",\"height\":\"50px\"}}):_vm._e()]),_c('div',{staticClass:\"name-2\"},[_c('text-highlight',{attrs:{\"queries\":_vm.queries}},[_vm._v(_vm._s(data.value))])],1)])]}},{key:\"cell(weight)\",fn:function(data){return [_c('strong',[_vm._v(_vm._s(data.item.weight)+\"(g)\")]),_vm._v(\" - \"+_vm._s(_vm._f(\"currency\")(data.item.shipPrice,_vm.audConfig))+\" \")]}},{key:\"cell(tempPrices)\",fn:function(data){return [_c('show-supplier-prices',{attrs:{\"product\":data.item}})]}},{key:\"cell(rndPrice)\",fn:function(data){return [_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.rndPrice,_vm.vndConfig)))]),(data.item.bvSalePricePick)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"BV Sale\")]):_vm._e(),(data.item.cwSalePricePick)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"CW Sale\")]):_vm._e(),((data.item.sugPrice * _vm.appSettings.vndExchangeRate) >data.item.rndPrice )?_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\"Recheck\")]):_vm._e(),_c('br'),_c('small',[_vm._v(\"Sug. Price: \"+_vm._s(_vm._f(\"currency\")(data.item.sugPrice,_vm.audConfig))+\" - \"+_vm._s(_vm._f(\"currency\")(data.item.sugPrice * _vm.appSettings.vndExchangeRate,_vm.vndConfig)))])]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editProduct(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteProduct(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.product.supplierPrices || _vm.product.supplierPrices.length == 0)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Missing supplier prices\")]):_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_vm._l((_vm.product.supplierPrices),function(sp,index){return [(index > 0)?_c('span',{staticClass:\"price-gutter\"},[(!!_vm.breakline)?_c('br'):_vm._e(),(!_vm.breakline)?_c('span'):_vm._e()]):_vm._e(),_c('span',{key:index},[(!sp.salePricePick)?_c('span',[_c('strong',[_vm._v(_vm._s(sp.supplier)+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(sp.price,_vm.audConfig))+\" \")]):_vm._e(),(sp.salePricePick)?_c('span',[_c('strong',[_vm._v(_vm._s(sp.supplier)+\":\")]),_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(sp.price,_vm.audConfig)))]),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(sp.salePrice,_vm.audConfig)))]),_c('b-badge',{staticStyle:{\"margin-left\":\"3px\"},attrs:{\"variant\":\"success\"}},[_vm._v(\"Sale\")])],1):_vm._e()])]})]},proxy:true},{key:\"mobile\",fn:function(){return [_vm._l((_vm.product.supplierPrices),function(sp,index){return [_c('div',{key:index},[(!sp.salePricePick)?_c('span',[_c('strong',[_vm._v(_vm._s(sp.supplier)+\":\")]),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(sp.price,_vm.audConfig))+\" \")]):_vm._e(),(sp.salePricePick)?_c('span',[_c('strong',[_vm._v(_vm._s(sp.supplier)+\":\")]),_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(sp.price,_vm.audConfig)))]),_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(sp.salePrice,_vm.audConfig)))]),_c('b-badge',{staticStyle:{\"margin-left\":\"3px\"},attrs:{\"variant\":\"success\"}},[_vm._v(\"Sale\")])],1):_vm._e()])]})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <span\r\n      style=\"color: red\"\r\n      v-if=\"!product.supplierPrices || product.supplierPrices.length == 0\"\r\n    >Missing supplier prices</span>\r\n    <view-port v-else>\r\n      <template v-slot:desktop>\r\n        <template v-for=\"(sp, index) in product.supplierPrices\">\r\n          <span class=\"price-gutter\" v-if=\"index > 0\">\r\n            <br v-if=\"!!breakline\" />\r\n            <span v-if=\"!breakline\">&nbsp;&nbsp;</span>\r\n          </span>\r\n\r\n          <span :key=\"index\">\r\n            <span v-if=\"!sp.salePricePick\">\r\n              <strong>{{sp.supplier}}:</strong>\r\n              {{sp.price | currency(audConfig)}}\r\n            </span>\r\n\r\n            <span v-if=\"sp.salePricePick\">\r\n              <strong>{{sp.supplier}}:</strong>\r\n              <del>{{sp.price | currency(audConfig)}}</del>\r\n              <span>{{sp.salePrice | currency(audConfig)}}</span>\r\n              <b-badge variant=\"success\" style=\"margin-left: 3px;\">Sale</b-badge>\r\n            </span>\r\n          </span>\r\n        </template>\r\n      </template>\r\n      <template v-slot:mobile>\r\n        <template v-for=\"(sp, index) in product.supplierPrices\">\r\n          <div :key=\"index\">\r\n            <span v-if=\"!sp.salePricePick\">\r\n              <strong>{{sp.supplier}}:</strong>\r\n              {{sp.price | currency(audConfig)}}\r\n            </span>\r\n            <span v-if=\"sp.salePricePick\">\r\n              <strong>{{sp.supplier}}:</strong>\r\n              <del>{{sp.price | currency(audConfig)}}</del>\r\n              <span>{{sp.salePrice | currency(audConfig)}}</span>\r\n              <b-badge variant=\"success\" style=\"margin-left: 3px;\">Sale</b-badge>\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </template>\r\n    </view-port>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport viewPort from \"../shared/viewPort\";\r\nexport default {\r\n  name: \"ShowSupplierPrices\",\r\n  components: { viewPort },\r\n  props: [\"product\", \"breakline\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  mounted: function() {},\r\n  watch: {},\r\n  computed: {},\r\n  methods: {}\r\n};\r\n</script>\r\n<style scoped>\r\n.sp-item:not(:first-child) {\r\n  margin-left: 10px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowSupplierPrices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowSupplierPrices.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShowSupplierPrices.vue?vue&type=template&id=2283091b&scoped=true&\"\nimport script from \"./ShowSupplierPrices.vue?vue&type=script&lang=js&\"\nexport * from \"./ShowSupplierPrices.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShowSupplierPrices.vue?vue&type=style&index=0&id=2283091b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2283091b\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-table\r\n    ref=\"productTable\"\r\n    responsive=\"sm\"\r\n    :items=\"items\"\r\n    :fields=\"fields\"\r\n    :small=\"true\"\r\n    selectable\r\n    select-mode=\"single\"\r\n    @row-clicked=\"productClicked\"\r\n    @row-dblclicked=\"productDoubleClicked\"\r\n  >\r\n    <template v-slot:cell(index)=\"data\">{{data.index + 1}}</template>\r\n    <template v-slot:cell(name)=\"data\">\r\n      <div class=\"prod-thumbnail-name\">\r\n        <div class=\"thumbnail\">\r\n          <img :src=\"data.item.thumbnail\" width=\"50px\" height=\"50px\" v-if=\"data.item.thumbnail\" />\r\n        </div>\r\n        <div class=\"name-2\">\r\n          <text-highlight :queries=\"queries\">{{data.value}}</text-highlight>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <template v-slot:cell(weight)=\"data\">\r\n      <strong>{{data.item.weight}}(g)</strong>\r\n      - {{data.item.shipPrice | currency(audConfig)}}\r\n    </template>\r\n    <template v-slot:cell(tempPrices)=\"data\">\r\n      <show-supplier-prices :product=\"data.item\"></show-supplier-prices>\r\n    </template>\r\n    <template v-slot:cell(rndPrice)=\"data\">\r\n      <span class=\"price\">{{data.item.rndPrice | currency(vndConfig)}}</span>\r\n      <b-badge v-if=\"data.item.bvSalePricePick\" variant=\"success\">BV Sale</b-badge>\r\n      <b-badge v-if=\"data.item.cwSalePricePick\" variant=\"success\">CW Sale</b-badge>\r\n      <b-badge\r\n        v-if=\"(data.item.sugPrice * appSettings.vndExchangeRate) >data.item.rndPrice \"\r\n        variant=\"warning\"\r\n      >Recheck</b-badge>\r\n      <br />\r\n      <small>Sug. Price: {{data.item.sugPrice | currency(audConfig)}} - {{data.item.sugPrice * appSettings.vndExchangeRate | currency(vndConfig)}}</small>\r\n    </template>\r\n    <template v-slot:cell(action)=\"data\">\r\n      <b-button type=\"submit\" size=\"sm\" variant=\"success\" @click=\"editProduct(data)\" class=\"mr-1\">\r\n        <i class=\"fa fa-edit\"></i> Edit\r\n      </b-button>\r\n      <b-button type=\"submit\" size=\"sm\" variant=\"danger\" @click=\"deleteProduct(data)\">\r\n        <i class=\"fa fa-remove\"></i> Delete\r\n      </b-button>\r\n    </template>\r\n  </b-table>\r\n</template>\r\n\r\n<script>\r\nimport TextHighlight from \"vue-text-highlight\";\r\nimport ShowSupplierPrices from \"./ShowSupplierPrices\";\r\n\r\nexport default {\r\n  name: \"ProductsListMobile\",\r\n  components: { TextHighlight, ShowSupplierPrices },\r\n  props: [\"products\", \"searchText\"],\r\n  data() {\r\n    return {\r\n      fields: [\r\n        { key: \"index\", label: \"#\" },\r\n        { key: \"name\", class: \"name\" },\r\n        { key: \"weight\", label: \"Weight (g)\", class: \"weight\" },\r\n        { key: \"tempPrices\", label: \"Temp. Prices\", class: \"temp-price\" },\r\n        { key: \"rndPrice\", label: \"Price\", class: \"rnd-price\" },\r\n        { key: \"action\", label: \"Action\", class: \"action\" },\r\n      ],\r\n    };\r\n  },\r\n  mounted: function () {},\r\n  computed: {\r\n    items: function () {\r\n      return this.products || [];\r\n    },\r\n    queries: function () {\r\n      var searchTextArray = this.searchText.split(\" \").filter((x) => x != \"\");\r\n      return searchTextArray;\r\n    },\r\n  },\r\n  methods: {\r\n    productClicked: function (prod) {\r\n      this.$emit(\"productClicked\", prod);\r\n    },\r\n    deleteProduct: function (data) {\r\n      this.$emit(\"deleteProduct\", data);\r\n    },\r\n    editProduct: function (data) {\r\n      this.$emit(\"editProduct\", data);\r\n      this.$refs.productTable.selectRow(data.index);\r\n    },\r\n    productDoubleClicked: function (item, index) {\r\n      var data = { item: item, index: index };\r\n      this.editProduct(data);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.prod-thumbnail-name {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n.prod-thumbnail-name .name-2 {\r\n  margin-left: 5px;\r\n}\r\n.prod-thumbnail-name .thumbnail {\r\n  width: 50px;\r\n  min-width: 50px;\r\n  height: 50px;\r\n  min-height: 50px;\r\n}\r\n.label {\r\n  font-weight: bold;\r\n}\r\n\r\n.name {\r\n  width: 40%;\r\n}\r\n.weight {\r\n  width: 10%;\r\n}\r\n.temp-price {\r\n  width: 20%;\r\n}\r\n.rnd-price {\r\n  width: 20%;\r\n}\r\n.rnd-price .price {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-right: 5px;\r\n}\r\n\r\n.action {\r\n  width: 10%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productsList.vue?vue&type=template&id=1a4525b9&\"\nimport script from \"./productsList.vue?vue&type=script&lang=js&\"\nexport * from \"./productsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productsList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-table',{ref:\"productTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.fields,\"small\":true},on:{\"row-clicked\":_vm.productClicked,\"row-dblclicked\":_vm.productDoubleClicked},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(data){return [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\",staticStyle:{\"overflow\":\"hidden\"}},[_c('img',{staticStyle:{\"margin-left\":\"-30px\"},attrs:{\"src\":data.item.thumbnail,\"width\":\"150px\",\"height\":\"150px\"}})]),_c('div',{staticClass:\"col-8\"},[_c('strong',[_c('text-highlight',{attrs:{\"queries\":_vm.queries}},[_vm._v(_vm._s(data.item.name))])],1),_c('br'),_c('strong',[_vm._v(\"Weight:\")]),_vm._v(\" \"+_vm._s(data.item.weight)+\"(g) - \"+_vm._s(_vm._f(\"currency\")(data.item.shipPrice,_vm.audConfig))+\" \"),_c('br'),_c('show-supplier-prices',{attrs:{\"product\":data.item}}),_c('span',{staticClass:\"h4\"},[_c('strong',[_vm._v(\"Price\")]),_vm._v(\" : \"+_vm._s(_vm._f(\"currency\")(data.item.rndPrice,_vm.vndConfig))+\" \")]),_c('div',{staticStyle:{\"margin-top\":\"7px\"}},[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editProduct(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteProduct(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])],1)],1)])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-table\r\n    ref=\"productTable\"\r\n    responsive=\"sm\"\r\n    :items=\"items\"\r\n    :fields=\"fields\"\r\n    :small=\"true\"\r\n    @row-clicked=\"productClicked\"\r\n    @row-dblclicked=\"productDoubleClicked\"\r\n  >\r\n    <template v-slot:cell(name)=\"data\">\r\n      <div class=\"row\">\r\n        <div class=\"col-4\" style=\"overflow: hidden\">\r\n          <img :src=\"data.item.thumbnail\" width=\"150px\" height=\"150px\" style=\"margin-left: -30px\" />\r\n        </div>\r\n        <div class=\"col-8\">\r\n          <strong>\r\n            <text-highlight :queries=\"queries\">{{data.item.name}}</text-highlight>\r\n          </strong>\r\n          <br />\r\n          <strong>Weight:</strong>\r\n          {{data.item.weight}}(g)\r\n          - {{data.item.shipPrice | currency(audConfig)}}\r\n          <br />\r\n          <show-supplier-prices :product=\"data.item\"></show-supplier-prices>\r\n          <span class=\"h4\">\r\n            <strong>Price</strong>\r\n            : {{data.item.rndPrice | currency(vndConfig)}}\r\n          </span>\r\n\r\n          <div style=\"margin-top: 7px\">\r\n            <b-button\r\n              type=\"submit\"\r\n              size=\"sm\"\r\n              variant=\"success\"\r\n              @click=\"editProduct(data)\"\r\n              class=\"mr-1\"\r\n            >\r\n              <i class=\"fa fa-edit\"></i> Edit\r\n            </b-button>\r\n            <b-button type=\"submit\" size=\"sm\" variant=\"danger\" @click=\"deleteProduct(data)\">\r\n              <i class=\"fa fa-remove\"></i> Delete\r\n            </b-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </b-table>\r\n</template>\r\n\r\n<script>\r\nimport productList from \"./productsList\";\r\nimport ShowSupplierPrices from \"./ShowSupplierPrices\";\r\n\r\nexport default {\r\n  name: \"ProductsList\",\r\n  components: { ShowSupplierPrices },\r\n  props: [],\r\n  extends: productList,\r\n  data() {\r\n    return {\r\n      fields: [{ key: \"name\", label: \"\", class: \"\" }]\r\n    };\r\n  },\r\n  mounted: function() {},\r\n  computed: {},\r\n  methods: {}\r\n};\r\n</script>\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productsListMobile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productsListMobile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productsListMobile.vue?vue&type=template&id=2d625de2&\"\nimport script from \"./productsListMobile.vue?vue&type=script&lang=js&\"\nexport * from \"./productsListMobile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"id\":_vm.idName},on:{\"click\":_vm.click}},[_vm._t(\"default\",[_vm._v(\"Download \"+_vm._s(_vm.name))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span :id=\"idName\" @click=\"click\">\r\n    <slot>Download {{name}}</slot>\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nimport download from \"downloadjs\";\r\n\r\nexport default {\r\n  props: {\r\n    // mime type [xls, csv]\r\n    type: {\r\n      type: String,\r\n      default: \"xls\"\r\n    },\r\n    // Json to download\r\n    data: {\r\n      type: Array,\r\n      required: false,\r\n      default: null\r\n    },\r\n    // fields inside the Json Object that you want to export\r\n    // if no given, all the properties in the Json are exported\r\n    fields: {\r\n      type: Object,\r\n      required: false\r\n    },\r\n    // this prop is used to fix the problem with other components that use the\r\n    // variable fields, like vee-validate. exportFields works exactly like fields\r\n    exportFields: {\r\n      type: Object,\r\n      required: false\r\n    },\r\n    // Use as fallback when the row has no field values\r\n    defaultValue: {\r\n      type: String,\r\n      required: false,\r\n      default: \"\"\r\n    },\r\n    // Title(s) for the data, could be a string or an array of strings (multiple titles)\r\n    title: {\r\n      default: null\r\n    },\r\n    // Footer(s) for the data, could be a string or an array of strings (multiple footers)\r\n    footer: {\r\n      default: null\r\n    },\r\n    // filename to export\r\n    name: {\r\n      type: String,\r\n      default: \"data.xls\"\r\n    },\r\n    fetch: {\r\n      type: Function\r\n    },\r\n    meta: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    worksheet: {\r\n      type: String,\r\n      default: \"Sheet1\"\r\n    },\r\n    //event before generate was called\r\n    beforeGenerate: {\r\n      type: Function\r\n    },\r\n    //event before download pops up\r\n    beforeFinish: {\r\n      type: Function\r\n    },\r\n    triggerType: {\r\n      type: String,\r\n      default: \"Auto\"\r\n    }\r\n  },\r\n  computed: {\r\n    // unique identifier\r\n    idName() {\r\n      var now = new Date().getTime();\r\n      return \"export_\" + now;\r\n    },\r\n\r\n    downloadFields() {\r\n      if (this.fields !== undefined) return this.fields;\r\n\r\n      if (this.exportFields !== undefined) return this.exportFields;\r\n    }\r\n  },\r\n  methods: {\r\n    async click() {\r\n      if (this.triggerType == \"Auto\") await this.generate();\r\n      //do nothing\r\n    },\r\n    async generate() {\r\n      if (typeof this.beforeGenerate === \"function\") {\r\n        await this.beforeGenerate();\r\n      }\r\n      let data = this.data;\r\n      if (typeof this.fetch === \"function\" || !data) data = await this.fetch();\r\n\r\n      if (!data || !data.length) {\r\n        return;\r\n      }\r\n\r\n      let json = this.getProcessedJson(data, this.downloadFields);\r\n      if (this.type === \"html\") {\r\n        // this is mainly for testing\r\n        return this.export(this.jsonToXLS(json), this.name.replace(\".xls\", \".html\"), \"text/html\");\r\n      } else if (this.type === \"csv\") {\r\n        return this.export(\r\n          this.jsonToCSV(json),\r\n          this.name.replace(\".xls\", \".csv\"),\r\n          \"application/csv\"\r\n        );\r\n      }\r\n      return this.export(this.jsonToXLS(json), this.name, \"application/vnd.ms-excel\");\r\n    },\r\n    /*\r\n\t\tUse downloadjs to generate the download link\r\n\t\t*/\r\n    export: async function(data, filename, mime) {\r\n      let blob = this.base64ToBlob(data, mime);\r\n      if (typeof this.beforeFinish === \"function\") await this.beforeFinish();\r\n      download(blob, filename, mime);\r\n    },\r\n    /*\r\n\t\tjsonToXLS\r\n\t\t---------------\r\n\t\tTransform json data into an xml document with MS Excel format, sadly\r\n\t\tit shows a prompt when it opens, that is a default behavior for\r\n\t\tMicrosoft office and cannot be avoided. It's recommended to use CSV format instead.\r\n\t\t*/\r\n    jsonToXLS(data) {\r\n      let xlsTemp =\r\n        '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><meta name=ProgId content=Excel.Sheet> <meta name=Generator content=\"Microsoft Excel 11\"><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>${worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>br {mso-data-placement: same-cell;}</style></head><body><table>${table}</table></body></html>';\r\n      let xlsData = \"<thead>\";\r\n      const colspan = Object.keys(data[0]).length;\r\n      let _self = this;\r\n\r\n      //Header\r\n      if (this.title != null) {\r\n        xlsData += this.parseExtraData(\r\n          this.title,\r\n          '<tr><th colspan=\"' + colspan + '\">${data}</th></tr>'\r\n        );\r\n      }\r\n\r\n      //Fields\r\n      xlsData += \"<tr>\";\r\n      for (let key in data[0]) {\r\n        xlsData += \"<th>\" + key + \"</th>\";\r\n      }\r\n      xlsData += \"</tr>\";\r\n      xlsData += \"</thead>\";\r\n\r\n      //Data\r\n      xlsData += \"<tbody>\";\r\n      data.map(function(item, index) {\r\n        xlsData += \"<tr>\";\r\n        for (let key in item) {\r\n          xlsData += `<td>` + _self.valueReformattedForMultilines(item[key]) + \"</td>\";\r\n        }\r\n        xlsData += \"</tr>\";\r\n      });\r\n      xlsData += \"</tbody>\";\r\n\r\n      //Footer\r\n      if (this.footer != null) {\r\n        xlsData += \"<tfoot>\";\r\n        xlsData += this.parseExtraData(\r\n          this.footer,\r\n          '<tr><td colspan=\"' + colspan + '\">${data}</td></tr>'\r\n        );\r\n        xlsData += \"</tfoot>\";\r\n      }\r\n\r\n      return xlsTemp.replace(\"${table}\", xlsData).replace(\"${worksheet}\", this.worksheet);\r\n    },\r\n    /*\r\n\t\tjsonToCSV\r\n\t\t---------------\r\n\t\tTransform json data into an CSV file.\r\n\t\t*/\r\n    jsonToCSV(data) {\r\n      var csvData = [];\r\n      //Header\r\n      if (this.title != null) {\r\n        csvData.push(this.parseExtraData(this.title, \"${data}\\r\\n\"));\r\n      }\r\n      //Fields\r\n      for (let key in data[0]) {\r\n        csvData.push(key);\r\n        csvData.push(\",\");\r\n      }\r\n      csvData.pop();\r\n      csvData.push(\"\\r\\n\");\r\n      //Data\r\n      data.map(function(item) {\r\n        for (let key in item) {\r\n          let escapedCSV = '=\"' + item[key] + '\"'; // cast Numbers to string\r\n          if (escapedCSV.match(/[,\"\\n]/)) {\r\n            escapedCSV = '\"' + escapedCSV.replace(/\\\"/g, '\"\"') + '\"';\r\n          }\r\n          csvData.push(escapedCSV);\r\n          csvData.push(\",\");\r\n        }\r\n        csvData.pop();\r\n        csvData.push(\"\\r\\n\");\r\n      });\r\n      //Footer\r\n      if (this.footer != null) {\r\n        csvData.push(this.parseExtraData(this.footer, \"${data}\\r\\n\"));\r\n      }\r\n      return csvData.join(\"\");\r\n    },\r\n    /*\r\n\t\tgetProcessedJson\r\n\t\t---------------\r\n\t\tGet only the data to export, if no fields are set return all the data\r\n\t\t*/\r\n    getProcessedJson(data, header) {\r\n      let keys = this.getKeys(data, header);\r\n      let newData = [];\r\n      let _self = this;\r\n      data.map(function(item, index) {\r\n        let newItem = {};\r\n        for (let label in keys) {\r\n          let property = keys[label];\r\n          newItem[label] = _self.getValue(property, item);\r\n        }\r\n        newData.push(newItem);\r\n      });\r\n\r\n      return newData;\r\n    },\r\n    getKeys(data, header) {\r\n      if (header) {\r\n        return header;\r\n      }\r\n\r\n      let keys = {};\r\n      for (let key in data[0]) {\r\n        keys[key] = key;\r\n      }\r\n      return keys;\r\n    },\r\n    /*\r\n\t\tparseExtraData\r\n\t\t---------------\r\n\t\tParse title and footer attribute to the csv format\r\n\t\t*/\r\n    parseExtraData(extraData, format) {\r\n      let parseData = \"\";\r\n      if (Array.isArray(extraData)) {\r\n        for (var i = 0; i < extraData.length; i++) {\r\n          parseData += format.replace(\"${data}\", extraData[i]);\r\n        }\r\n      } else {\r\n        parseData += format.replace(\"${data}\", extraData);\r\n      }\r\n      return parseData;\r\n    },\r\n\r\n    getValue(key, item) {\r\n      const field = typeof key !== \"object\" ? key : key.field;\r\n      let indexes = typeof field !== \"string\" ? [] : field.split(\".\");\r\n      let value = this.defaultValue;\r\n\r\n      if (!field) value = item;\r\n      else if (indexes.length > 1) value = this.getValueFromNestedItem(item, indexes);\r\n      else value = this.parseValue(item[field]);\r\n\r\n      if (key.hasOwnProperty(\"callback\")) value = this.getValueFromCallback(value, key.callback);\r\n\r\n      return value;\r\n    },\r\n\r\n    /*\r\n    convert values with newline \\n characters into <br/>\r\n    */\r\n    valueReformattedForMultilines(value) {\r\n      if (typeof value == \"string\") return value.replace(/\\n/gi, \"<br/>\");\r\n      else return value;\r\n    },\r\n\r\n    getValueFromNestedItem(item, indexes) {\r\n      let nestedItem = item;\r\n      for (let index of indexes) {\r\n        if (nestedItem) nestedItem = nestedItem[index];\r\n      }\r\n      return this.parseValue(nestedItem);\r\n    },\r\n\r\n    getValueFromCallback(item, callback) {\r\n      if (typeof callback !== \"function\") return this.defaultValue;\r\n      const value = callback(item);\r\n      return this.parseValue(value);\r\n    },\r\n    parseValue(value) {\r\n      return value || value === 0 || typeof value === \"boolean\" ? value : this.defaultValue;\r\n    },\r\n    base64ToBlob(data, mime) {\r\n      let base64 = window.btoa(window.unescape(encodeURIComponent(data)));\r\n      let bstr = atob(base64);\r\n      let n = bstr.length;\r\n      let u8arr = new Uint8ClampedArray(n);\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      return new Blob([u8arr], { type: mime });\r\n    }\r\n  } // end methods\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JsonExcel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./JsonExcel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JsonExcel.vue?vue&type=template&id=41f4bf8e&\"\nimport script from \"./JsonExcel.vue?vue&type=script&lang=js&\"\nexport * from \"./JsonExcel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <span>\r\n              <i class=\"fa fa-book\"></i>\r\n              Products ({{productCount}})\r\n            </span>\r\n            <div class=\"pull-right\">\r\n              <!-- <b-link @click=\"updateDataBatches\">Update Data (remove after usage)</b-link>\r\n              <b-link class=\"mr-1 ml-1\">|</b-link>-->\r\n              <json-excel\r\n                :data=\"printData\"\r\n                :fields=\"printJsonFields\"\r\n                worksheet=\"Products\"\r\n                name=\"ProductList.xls\"\r\n                trigger-type=\"Manual\"\r\n                ref=\"printProductListRef\"\r\n              >\r\n                <b-link @click=\"printProductList\">Print Product List</b-link>\r\n              </json-excel>\r\n              <b-link class=\"mr-1 ml-1\">|</b-link>\r\n              <b-link @click=\"clearAllSalePrices\">Clear Sale Prices</b-link>\r\n              <b-link class=\"mr-1 ml-1\">|</b-link>\r\n              <b-link @click=\"addNewProduct\">Add New Product</b-link>\r\n            </div>\r\n          </div>\r\n          <b-row>\r\n            <b-col sm=\"12\" md=\"6\">\r\n              <b-input-group class=\"mb-5\">\r\n                <b-form-input v-model=\"searchText\" @keyup.13=\"seartTextKeydown($event)\"></b-form-input>\r\n\r\n                <b-input-group-append>\r\n                  <span\r\n                    id=\"searchclear\"\r\n                    class=\"fa fa-close\"\r\n                    v-if=\"searchText != ''\"\r\n                    @click=\"clearSearchText\"\r\n                  ></span>\r\n                  <b-button variant=\"outline-success\" @click=\"clickSearchProduct()\">\r\n                    <span class=\"fa fa-search\"></span> Search\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n            </b-col>\r\n          </b-row>\r\n          <view-port>\r\n            <template v-slot:mobile>\r\n              <products-list-mobile\r\n                :products=\"products\"\r\n                :search-text=\"searchText\"\r\n                @productClicked=\"productClicked\"\r\n                @deleteProduct=\"deleteProduct\"\r\n                @editProduct=\"editProduct\"\r\n              ></products-list-mobile>\r\n            </template>\r\n            <template v-slot:desktop>\r\n              <div>\r\n                <products-list\r\n                  :products=\"products\"\r\n                  :search-text=\"searchText\"\r\n                  @productClicked=\"productClicked\"\r\n                  @deleteProduct=\"deleteProduct\"\r\n                  @editProduct=\"editProduct\"\r\n                ></products-list>\r\n              </div>\r\n            </template>\r\n          </view-port>\r\n\r\n          <b-row class=\"load-more\">\r\n            <b-button\r\n              variant=\"outline-success\"\r\n              @click=\"loadMoreProduct($event)\"\r\n              v-loading=\"isLoadingMore\"\r\n            >Load more</b-button>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n\r\n    <product-detail ref=\"productDetail\" @product-saved=\"productSaved\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\nimport productDetail from \"./productDetail\";\r\nimport productsList from \"./productsList\";\r\nimport productsListMobile from \"./productsListMobile\";\r\nimport { generateSubString } from \"@/shared/utils\";\r\nimport viewPort from \"../shared/viewPort\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport JsonExcel from \"../shared/JsonExcel\";\r\nexport default {\r\n  name: \"Products\",\r\n  components: {\r\n    productDetail,\r\n    productsList,\r\n    productsListMobile,\r\n    viewPort,\r\n    JsonExcel\r\n  },\r\n  data() {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      productBatches: \"\",\r\n      useMobileView: false,\r\n      searchText: \"\",\r\n      pageSize: 20,\r\n      lastVisible: undefined,\r\n      isLoadingMore: false,\r\n      saleProductCount: 0,\r\n      saleProducts: [],\r\n      printData: [],\r\n      printJsonFields: {\r\n        \"#\": \"index\",\r\n        Name: \"name\",\r\n        \"Suggest Price\": \"sugPrice\",\r\n        \"Final Price\": \"rndPrice\"\r\n      }\r\n    };\r\n  },\r\n  mounted: function() {\r\n    var self = this;\r\n    self.useMobileView = window.innerWidth < 700;\r\n    window.addEventListener(\"resize\", function() {\r\n      self.useMobileView = window.innerWidth < 700;\r\n    });\r\n    this.loadProducts();\r\n  },\r\n  watch: {\r\n    searchText: function(newValue, oldValue) {\r\n      if (oldValue != \"\" && newValue == \"\") {\r\n        this.products = [];\r\n        this.loadProducts();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(\"counter\", {\r\n      productCount: state => state.counter && state.counter.productCount\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions(\"counter\", [\"increaseProductCount\", \"decreaseProductCount\"]),\r\n    loadProducts: function(lastVisible) {\r\n      this.isLoadingMore = true;\r\n      var q = this.$fb.productCollection.orderBy(\"name\");\r\n      if (lastVisible) q = q.startAfter(this.lastVisible || 0);\r\n      return q\r\n        .limit(this.pageSize)\r\n        .get()\r\n        .then(ss => {\r\n          this.isLoadingMore = false;\r\n          if (!ss.empty) {\r\n            this.lastVisible = _.last(ss.docs);\r\n            ss.forEach(doc => {\r\n              this.products.push(doc.data());\r\n            });\r\n          }\r\n        });\r\n    },\r\n    loadMoreProduct: function(e) {\r\n      this.isLoadingMore = true;\r\n      if (this.searchText) {\r\n        this.searchProduct(this.lastVisible).then(() => (this.isLoadingMore = false));\r\n      } else {\r\n        this.loadProducts(this.lastVisible).then(() => (this.isLoadingMore = false));\r\n      }\r\n    },\r\n    productClicked: function(product) {\r\n      this.product = { ...product };\r\n    },\r\n    deleteProduct: function(data) {\r\n      var product = data.item;\r\n      var index = data.index;\r\n\r\n      if (!product) return;\r\n\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to delete [${product.name}]?`)\r\n        .then(value => {\r\n          if (value) {\r\n            this.$fb.productCollection\r\n              .doc(product.id)\r\n              .delete()\r\n              .then(() => {\r\n                this.products.splice(index, 1);\r\n                this.decreaseProductCount();\r\n              });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    addNewProduct: function() {\r\n      this.product = undefined;\r\n      this.selectedIndex = undefined;\r\n      this.$refs.productDetail.open(undefined);\r\n    },\r\n    productSaved: function(prod) {\r\n      if (this.selectedIndex != undefined) {\r\n        //edit\r\n        this.products.splice(this.selectedIndex, 1, prod);\r\n      } else {\r\n        this.products.push(prod);\r\n      }\r\n    },\r\n    editProduct: function(data) {\r\n      var { index, item } = data;\r\n      this.product = { ...item };\r\n      this.selectedIndex = index;\r\n      this.$refs.productDetail.open(this.product);\r\n    },\r\n    updateDataBatches: async function() {\r\n      var allProds = await this.$fb.productCollection\r\n        .get()\r\n        .then(ss => ss.docs.map(doc => doc.data()));\r\n      console.log(allProds);\r\n\r\n      //modify each product\r\n      allProds.forEach(prod => {\r\n        if (prod.cwProductId) {\r\n          var cwIndex =\r\n            prod.supplierPrices && prod.supplierPrices.findIndex(x => x.supplier == \"CW\");\r\n          if (cwIndex > -1) {\r\n            prod.supplierPrices[cwIndex].id = prod.cwProductId;\r\n            delete prod.cwProductId;\r\n          }\r\n        }\r\n        if (prod.paProductId) {\r\n          var paIndex =\r\n            prod.supplierPrices && prod.supplierPrices.findIndex(x => x.supplier == \"PA\");\r\n          if (paIndex > -1) {\r\n            prod.supplierPrices[paIndex].id = prod.paProductId;\r\n            delete prod.paProductId;\r\n          }\r\n        }\r\n      });\r\n      console.log(allProds);\r\n      // // Get a new write batch\r\n      // var batch = this.$fb.db.batch();\r\n\r\n      // allProds.forEach(prod => {\r\n      //   var prodRef = this.$fb.productCollection.doc(prod.id);\r\n      //   batch.set(prodRef, prod);\r\n      // });\r\n\r\n      // Commit the batch\r\n      // batch.commit().then(function() {\r\n      //   console.log(\"Finish Update Data Batches\");\r\n      // });\r\n    },\r\n    clickSearchProduct: function() {\r\n      this.products = [];\r\n      this.searchProduct();\r\n    },\r\n    searchProduct: function(lastVisible) {\r\n      if (!this.searchText) return;\r\n\r\n      var searchTextArray = this.searchText\r\n        .split(\" \")\r\n        .filter(x => x != \"\")\r\n        .map(x => x.toLowerCase());\r\n\r\n      var q = this.$fb.productCollection\r\n        .where(\"nameSearch\", \"array-contains-any\", searchTextArray)\r\n        .orderBy(\"name\");\r\n      if (lastVisible) q = q.startAfter(lastVisible);\r\n      q = q.limit(this.pageSize).get();\r\n\r\n      return q.then(ss => {\r\n        if (!ss.empty) {\r\n          this.lastVisible = _.last(ss.docs);\r\n          ss.forEach(doc => {\r\n            this.products.push(doc.data());\r\n          });\r\n        }\r\n      });\r\n    },\r\n    seartTextKeydown: function(e) {\r\n      this.products = [];\r\n      this.searchProduct();\r\n    },\r\n    clearSearchText: function() {\r\n      this.searchText = \"\";\r\n    },\r\n    checkCwPrice: function() {},\r\n    clearAllSalePrices: function() {\r\n      this.$fb.productCollection\r\n        //.where(\"cwSalePricePick\", \"==\", true)\r\n        .get()\r\n        .then(ss => {\r\n          if (!ss.empty) {\r\n            var saleProducts = ss.docs\r\n              .map(x => x.data())\r\n              .filter(x => {\r\n                return x.supplierPrices.some(x => x.salePricePick == true) || false;\r\n              });\r\n\r\n            if (saleProducts.length > 0) {\r\n              this.$bvModal\r\n                .msgBoxConfirm(\r\n                  `Are you sure you want to remove sale price for [${saleProducts.length}] products?`\r\n                )\r\n                .then(value => {\r\n                  if (value) {\r\n                    var races = [];\r\n                    saleProducts.forEach(item => {\r\n                      item.supplierPrices\r\n                        .filter(x => x.salePricePick == true)\r\n                        .forEach(x => (x.salePricePick = false));\r\n\r\n                      races.push(this.$fb.productCollection.doc(item.id).set(item));\r\n                    });\r\n                    Promise.race(races).then(() => {\r\n                      this.showMessage(\"Sale Prices are unapplied successfully!\");\r\n                      this.lastVisible = null;\r\n                      this.products = [];\r\n                      this.loadProducts();\r\n                    });\r\n                  }\r\n                })\r\n                .catch(err => {\r\n                  console.log(err);\r\n                });\r\n            } else {\r\n              this.$bvModal.msgBoxOk(`There are no product on sale price applied!`);\r\n            }\r\n          }\r\n        });\r\n    },\r\n    printProductList: async function() {\r\n      this.printData = await this.getPrintData();\r\n      this.$nextTick(() => {\r\n        this.$refs.printProductListRef.generate();\r\n      });\r\n    },\r\n    getPrintData: async function() {\r\n      var allProducts = await this.$fb.productCollection\r\n        .orderBy(\"name\")\r\n        .get()\r\n        .then(ss => {\r\n          if (ss.empty) return [];\r\n          return ss.docs.map(d => d.data());\r\n        });\r\n      return allProducts.map((x, i) => {\r\n        var sugPriceVND = parseFloat(x.sugPrice || 0) * this.appSettings.vndExchangeRate;\r\n        var sugPriceVNDFormat = this.$options.filters.currency(sugPriceVND, this.vndConfigNoSymbol);\r\n        var rndPriceFormat = this.$options.filters.currency(x.rndPrice, this.vndConfigNoSymbol);\r\n        return {\r\n          index: i + 1,\r\n          name: x.name,\r\n          sugPrice: sugPriceVNDFormat,\r\n          rndPrice: rndPriceFormat\r\n        };\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n#searchclear {\r\n  position: absolute;\r\n  right: 90px;\r\n  top: 0;\r\n  bottom: 0;\r\n  height: 14px;\r\n  margin: auto;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  color: #ccc;\r\n  z-index: 1019;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./products.vue?vue&type=template&id=25ec1c9f&\"\nimport script from \"./products.vue?vue&type=script&lang=js&\"\nexport * from \"./products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./products.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"fa fa-book\"}),_vm._v(\" Inventory (\"+_vm._s(_vm.inventoryCount)+\") \")]),_c('div',{staticClass:\"pull-right\"},[_c('b-link',{staticClass:\"ml-1\",on:{\"click\":_vm.addNewItem}},[_vm._v(\"Add New Item\")])],1)]),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('b-input-group',{staticClass:\"mb-5\"},[_c('b-form-input',{on:{\"keydown\":function($event){return _vm.seartTextKeydown($event)}},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_c('b-input-group-append',[(_vm.searchText != '')?_c('span',{staticClass:\"fa fa-close\",attrs:{\"id\":\"searchclear\"},on:{\"click\":_vm.clearSearchText}}):_vm._e(),_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.search()}}},[_c('span',{staticClass:\"fa fa-search\"}),_vm._v(\" Search \")])],1)],1)],1)],1),_c('b-form-group',{attrs:{\"label\":\"\"}},[_c('b-form-checkbox',{attrs:{\"inline\":\"\"},on:{\"change\":_vm.showOutOfStockChange},model:{value:(_vm.filter.showOutOfStock),callback:function ($$v) {_vm.$set(_vm.filter, \"showOutOfStock\", $$v)},expression:\"filter.showOutOfStock\"}},[_vm._v(\"Show Out Of Stock\")])],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('b-table',{ref:\"inventoryTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.itemClicked,\"row-dblclicked\":_vm.itemDoubleClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(name)\",fn:function(data){return [_c('div',{staticClass:\"prod-thumbnail-name\"},[_c('div',{staticClass:\"thumbnail\"},[(data.item.product.thumbnail)?_c('img',{attrs:{\"src\":data.item.product.thumbnail,\"width\":\"50px\",\"height\":\"50px\"}}):_vm._e()]),_c('div',{staticClass:\"name-2\"},[_c('b-link',{on:{\"click\":function($event){return _vm.showProductDetail(data)}}},[_vm._v(_vm._s(data.item.product.name))]),_c('br'),(data.item.quantity == 0)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Out of Stock\")]):_vm._e()],1)])]}},{key:\"cell(weight)\",fn:function(data){return [_c('strong',[_vm._v(_vm._s(data.item.product.weight)+\"(g)\")]),_vm._v(\" - \"+_vm._s(_vm._f(\"currency\")(data.item.product.shipPrice,_vm.audConfig))+\" \")]}},{key:\"cell(rndPrice)\",fn:function(data){return [_c('span',{staticClass:\"price\"},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.product.rndPrice,_vm.vndConfig)))])]),_c('br'),_c('small',[_vm._v(\"Sug. Price: \"+_vm._s(_vm._f(\"currency\")(data.item.product.sugPrice,_vm.audConfig))+\" - \"+_vm._s(_vm._f(\"currency\")(data.item.product.sugPrice * _vm.appSettings.vndExchangeRate,_vm.vndConfig)))])]}},{key:\"cell(dateIn)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"date\")(data.item.dateIn.toDate())))]}},{key:\"cell(quantity)\",fn:function(data){return [_c('number-input',{attrs:{\"min\":0,\"max\":9999,\"inline\":\"\",\"controls\":\"\",\"center\":\"\",\"size\":\"sm\"},on:{\"change\":function($event){return _vm.quantityChange(data.item, $event)}},model:{value:(data.item.quantity),callback:function ($$v) {_vm.$set(data.item, \"quantity\", $$v)},expression:\"data.item.quantity\"}})]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"info\"},on:{\"click\":function($event){return _vm.viewHistory(data)}}},[_c('i',{staticClass:\"fa fa-list\"}),_vm._v(\" History \")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editItem(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])]}}])})]},proxy:true},{key:\"mobile\",fn:function(){return [_c('div',[_c('b-table',{ref:\"inventoryTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.mobileFields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.itemClicked,\"row-dblclicked\":_vm.itemDoubleClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\",staticStyle:{\"overflow\":\"hidden\"}},[_c('img',{attrs:{\"src\":data.item.product.thumbnail,\"width\":\"150px\",\"height\":\"150px\"}})]),_c('div',{staticClass:\"col-8\"},[_c('span',{staticClass:\"h5\"},[_vm._v(\" \"+_vm._s(data.item.product.name)+\" \"),(data.item.quantity == 0)?_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"Out of Stock\")]):_vm._e()],1),_c('br'),_c('strong',[_vm._v(\"Weight:\")]),_vm._v(\" \"+_vm._s(data.item.product.weight)+\"(g) - \"+_vm._s(_vm._f(\"currency\")(data.item.product.shipPrice,_vm.audConfig))+\" \"),_c('br'),_c('show-supplier-prices',{attrs:{\"product\":data.item.product}}),_c('span',{staticClass:\"price\"},[_c('strong',[_vm._v(\"Price: \"+_vm._s(_vm._f(\"currency\")(data.item.product.rndPrice,_vm.vndConfig)))]),_c('small',{staticClass:\"ml-3\"},[_vm._v(\"Sug. Price: \"+_vm._s(_vm._f(\"currency\")(data.item.product.sugPrice,_vm.audConfig))+\" - \"+_vm._s(_vm._f(\"currency\")(data.item.product.sugPrice * _vm.appSettings.vndExchangeRate,_vm.vndConfig)))])]),_c('br'),_c('strong',[_vm._v(\"Date In:\")]),_vm._v(\" \"+_vm._s(_vm._f(\"date\")(data.item.dateIn.toDate()))+\" \"),_c('br'),_c('strong',[_vm._v(\"Quantity:\")]),_c('number-input',{attrs:{\"min\":0,\"max\":9999,\"inline\":\"\",\"controls\":\"\",\"center\":\"\",\"size\":\"sm\"},on:{\"change\":function($event){return _vm.quantityChange(data.item, $event)}},model:{value:(data.item.quantity),callback:function ($$v) {_vm.$set(data.item, \"quantity\", $$v)},expression:\"data.item.quantity\"}}),_c('div',{staticClass:\"mt-2\"},[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"info\"},on:{\"click\":function($event){return _vm.viewHistory(data)}}},[_c('i',{staticClass:\"fa fa-list\"}),_vm._v(\" History \")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editItem(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])],1)],1)])]}}])})],1)]},proxy:true}])}),_c('b-row',{staticClass:\"load-more\"},[_c('b-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.loadMore($event)}}},[_vm._v(\"Load more\")])],1)],1)],1)],1),_c('inventory-edit-item',{ref:\"inventoryEditItemModal\",attrs:{\"id\":\"inventoryEditItemModal\"},on:{\"item-saved\":_vm.itemSaved}}),_c('product-detail',{ref:\"productDetail\",attrs:{\"readonly\":true},on:{\"product-saved\":_vm.productSaved}}),_c('inventory-item-history',{ref:\"inventoryItemHistoryModal\",attrs:{\"id\":\"inventoryItemHistoryModal\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.modalId,\"title\":_vm.modalTitle,\"size\":\"lg\"},on:{\"ok\":_vm.save}},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Product\")]),_c('product-suggestion-dropdown',{on:{\"item-selected\":_vm.sugProductsItemSelected},model:{value:(_vm.item.product),callback:function ($$v) {_vm.$set(_vm.item, \"product\", $$v)},expression:\"item.product\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Quantity\")]),_c('number-input',{attrs:{\"min\":1,\"max\":9999,\"inline\":\"\",\"controls\":\"\",\"center\":\"\"},model:{value:(_vm.item.quantity),callback:function ($$v) {_vm.$set(_vm.item, \"quantity\", $$v)},expression:\"item.quantity\"}})],1)],1)],1),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Note\")]),_c('b-form-textarea',{attrs:{\"placeholder\":\"Enter something...\",\"rows\":\"5\"},model:{value:(_vm.item.note),callback:function ($$v) {_vm.$set(_vm.item, \"note\", $$v)},expression:\"item.note\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g({staticClass:\"input-group\",class:{'input-group-sm': _vm.size == 'sm', 'input-group-lg': _vm.size == 'lg'}},_vm.listeners),[_c('div',{staticClass:\"input-group-prepend\"},[(_vm.controls)?_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled || _vm.readonly || !_vm.decreasable},on:{\"click\":_vm.decrease}},[_c('i',{staticClass:\"fa fa-minus\"})]):_vm._e()]),_c('input',_vm._b({ref:\"input\",staticClass:\"form-control\",class:{'text-center': _vm.center},attrs:{\"type\":\"text\",\"name\":_vm.name,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step,\"readonly\":_vm.readonly || !_vm.inputtable,\"disabled\":_vm.disabled || (!_vm.decreasable && !_vm.increasable),\"placeholder\":_vm.placeholder,\"autocomplete\":\"off\"},domProps:{\"value\":_vm.currentValue},on:{\"change\":_vm.change,\"paste\":_vm.paste}},'input',_vm.attrs,false)),_c('div',{staticClass:\"input-group-append\"},[(_vm.controls)?_c('button',{staticClass:\"btn btn-outline-secondary\",attrs:{\"type\":\"button\",\"disabled\":_vm.disabled || _vm.readonly || !_vm.increasable},on:{\"click\":_vm.increase}},[_c('i',{staticClass:\"fa fa-plus\"})]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"input-group\"\r\n    :class=\"{'input-group-sm': size == 'sm', 'input-group-lg': size == 'lg'}\"\r\n    v-on=\"listeners\"\r\n  >\r\n    <div class=\"input-group-prepend\">\r\n      <button\r\n        v-if=\"controls\"\r\n        class=\"btn btn-outline-secondary\"\r\n        type=\"button\"\r\n        :disabled=\"disabled || readonly || !decreasable\"\r\n        @click=\"decrease\"\r\n      >\r\n        <i class=\"fa fa-minus\"></i>\r\n      </button>\r\n    </div>\r\n    <input\r\n      ref=\"input\"\r\n      class=\"form-control\"\r\n      :class=\"{'text-center': center}\"\r\n      v-bind=\"attrs\"\r\n      type=\"text\"\r\n      :name=\"name\"\r\n      :value=\"currentValue\"\r\n      :min=\"min\"\r\n      :max=\"max\"\r\n      :step=\"step\"\r\n      :readonly=\"readonly || !inputtable\"\r\n      :disabled=\"disabled || (!decreasable && !increasable)\"\r\n      :placeholder=\"placeholder\"\r\n      autocomplete=\"off\"\r\n      @change=\"change\"\r\n      @paste=\"paste\"\r\n    />\r\n    <div class=\"input-group-append\">\r\n      <button\r\n        v-if=\"controls\"\r\n        class=\"btn btn-outline-secondary\"\r\n        type=\"button\"\r\n        :disabled=\"disabled || readonly || !increasable\"\r\n        @click=\"increase\"\r\n      >\r\n        <i class=\"fa fa-plus\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst isNaN = Number.isNaN || window.isNaN;\r\nconst REGEXP_NUMBER = /^-?(?:\\d+|\\d+\\.\\d+|\\.\\d+)(?:[eE][-+]?\\d+)?$/;\r\nconst REGEXP_DECIMALS = /\\.\\d*(?:0|9){10}\\d*$/;\r\nconst normalizeDecimalNumber = (value, times = 100000000000) =>\r\n  REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\r\n\r\nexport default {\r\n  name: \"NumberInput\",\r\n\r\n  model: {\r\n    event: \"change\"\r\n  },\r\n\r\n  props: {\r\n    attrs: {\r\n      type: Object,\r\n      default: undefined\r\n    },\r\n\r\n    center: Boolean,\r\n    controls: Boolean,\r\n    disabled: Boolean,\r\n\r\n    inputtable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n\r\n    inline: Boolean,\r\n\r\n    max: {\r\n      type: Number,\r\n      default: Infinity\r\n    },\r\n\r\n    min: {\r\n      type: Number,\r\n      default: -Infinity\r\n    },\r\n\r\n    name: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n\r\n    placeholder: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n\r\n    readonly: Boolean,\r\n    rounded: Boolean,\r\n\r\n    size: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n\r\n    step: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n\r\n    value: {\r\n      type: Number,\r\n      default: NaN\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      currentValue: NaN\r\n    };\r\n  },\r\n  mouted: function() {},\r\n  computed: {\r\n    /**\r\n     * Indicate if the value is increasable.\r\n     * @returns {boolean} Return `true` if it is decreasable, else `false`.\r\n     */\r\n    increasable() {\r\n      const num = this.currentValue;\r\n\r\n      return isNaN(num) || num < this.max;\r\n    },\r\n\r\n    /**\r\n     * Indicate if the value is decreasable.\r\n     * @returns {boolean} Return `true` if it is decreasable, else `false`.\r\n     */\r\n    decreasable() {\r\n      const num = this.currentValue;\r\n\r\n      return isNaN(num) || num > this.min;\r\n    },\r\n\r\n    /**\r\n     * Filter listeners\r\n     * @returns {Object} Return filtered listeners.\r\n     */\r\n    listeners() {\r\n      const listeners = { ...this.$listeners };\r\n\r\n      delete listeners.change;\r\n\r\n      return listeners;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newValue, oldValue) {\r\n        if (!isNaN(newValue) && !oldValue) {\r\n          this.currentValue = newValue;\r\n        } else if (\r\n          // Avoid triggering change event when created\r\n          !(isNaN(newValue) && typeof oldValue === \"undefined\") &&\r\n          // Avoid infinite loop\r\n          newValue !== this.currentValue\r\n        ) {\r\n          this.setValue(newValue);\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Change event handler.\r\n     * @param {string} value - The new value.\r\n     */\r\n    change(event) {\r\n      this.setValue(Math.min(this.max, Math.max(this.min, event.target.value)));\r\n    },\r\n\r\n    /**\r\n     * Paste event handler.\r\n     * @param {Event} event - Event object.\r\n     */\r\n    paste(event) {\r\n      const clipboardData = event.clipboardData || window.clipboardData;\r\n\r\n      if (clipboardData && !REGEXP_NUMBER.test(clipboardData.getData(\"text\"))) {\r\n        event.preventDefault();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Decrease the value.\r\n     */\r\n    decrease() {\r\n      if (this.decreasable) {\r\n        let { currentValue } = this;\r\n\r\n        if (isNaN(currentValue)) {\r\n          currentValue = 0;\r\n        }\r\n\r\n        this.setValue(\r\n          Math.min(this.max, Math.max(this.min, normalizeDecimalNumber(currentValue - this.step)))\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Increase the value.\r\n     */\r\n    increase() {\r\n      if (this.increasable) {\r\n        let { currentValue } = this;\r\n\r\n        if (isNaN(currentValue)) {\r\n          currentValue = 0;\r\n        }\r\n\r\n        this.setValue(\r\n          Math.min(this.max, Math.max(this.min, normalizeDecimalNumber(currentValue + this.step)))\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Set new value and dispatch change event.\r\n     * @param {number} value - The new value to set.\r\n     */\r\n    setValue(value) {\r\n      const oldValue = this.currentValue;\r\n      let newValue = this.rounded ? Math.round(value) : value;\r\n\r\n      if (this.min <= this.max) {\r\n        newValue = Math.min(this.max, Math.max(this.min, newValue));\r\n      }\r\n\r\n      this.currentValue = newValue;\r\n\r\n      if (newValue === oldValue) {\r\n        // Force to override the number in the input box (#13).\r\n        this.$refs.input.value = newValue;\r\n      }\r\n\r\n      this.$emit(\"change\", newValue, oldValue);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn:not(:disabled) i.fa {\r\n  color: #1f2124;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numberInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numberInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./numberInput.vue?vue&type=template&id=d6cfd592&scoped=true&\"\nimport script from \"./numberInput.vue?vue&type=script&lang=js&\"\nexport * from \"./numberInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./numberInput.vue?vue&type=style&index=0&id=d6cfd592&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6cfd592\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vue-suggestion',{attrs:{\"items\":_vm.sugProducts,\"item-template\":_vm.productSugTemplate,\"setLabel\":_vm.setLabel},on:{\"focus\":_vm.sugProductsFocused,\"onInputChange\":_vm.sugProductsInputChanged,\"onItemSelected\":_vm.sugProductsItemSelected,\"scrollEnd\":_vm.loadMoreSugProducts},model:{value:(_vm.product),callback:function ($$v) {_vm.product=$$v},expression:\"product\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vue-suggestion\",class:_vm.wrapperClasses},[_c('div',{staticClass:\"vue-suggestion-input-group\",class:[{ 'vue-suggestion-selected': _vm.value }, _vm.inputWrapperClasses]},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],ref:\"searchText\",staticClass:\"vue-suggestion-input\",class:_vm.inputClasses,attrs:{\"placeholder\":_vm.placeholder,\"disabled\":_vm.disabled,\"type\":\"search\"},domProps:{\"value\":(_vm.searchText)},on:{\"blur\":_vm.blur,\"focus\":_vm.focus,\"input\":[function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value},_vm.inputChange],\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.keyEnter($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.keyUp($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.keyDown($event)}]}}),_vm._t(\"searchSlot\")],2),(_vm.loading)?_vm._t(\"loading\",[_vm._v(\"Loading...\")]):(_vm.showList)?_vm._t(\"suggestionList\",[_c('div',{ref:\"vueSuggestionList\",staticClass:\"vue-suggestion-list\"},[_vm._l((_vm.items),function(item,i){return _c('div',{key:item.id,staticClass:\"vue-suggestion-list-item\",class:[{ 'vue-suggestion-item-active': i === _vm.cursor }, _vm.suggestionItemWrapperClasses],on:{\"click\":function($event){return _vm.selectItem(item)},\"mouseover\":function($event){_vm.cursor = i}}},[_c(_vm.itemTemplate,{tag:\"div\",class:_vm.suggestionItemClasses,attrs:{\"item\":item,\"searchText\":_vm.searchText}})],1)}),_c('div',{staticClass:\"vue-suggestion-list-item load-more-item\",staticStyle:{\"text-align\":\"center\"}},[_c('button',{staticClass:\"btn btn-outline-success btn-sm\",on:{\"click\":_vm.loadMore}},[_vm._v(\"Load more\")])])],2)]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueSuggestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueSuggestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vueSuggestion.vue?vue&type=template&id=e57d14ca&\"\nimport script from \"./vueSuggestion.vue?vue&type=script&lang=js&\"\nexport * from \"./vueSuggestion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vueSuggestion.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{staticStyle:{\"overflow\":\"hidden\"},attrs:{\"sm\":\"3\"}},[_c('img',{attrs:{\"src\":_vm.item.thumbnail,\"alt\":_vm.item.name.substring(0,20),\"width\":\"50px\",\"height\":\"50px\"}})]),_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('text-highlight',{attrs:{\"queries\":_vm.searchTextArray}},[_vm._v(_vm._s(_vm.item.name))]),_c('br'),_c('span',{staticClass:\"h5\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.item.rndPrice,_vm.vndConfig)))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col sm=\"3\" style=\"overflow: hidden\">\r\n        <img :src=\"item.thumbnail\" :alt=\"item.name.substring(0,20)\" width=\"50px\" height=\"50px\" />\r\n      </b-col>\r\n      <b-col sm=\"8\">\r\n        <text-highlight :queries=\"searchTextArray\">{{item.name}}</text-highlight>\r\n        <br />\r\n        <span class=\"h5\">{{item.rndPrice | currency(vndConfig)}}</span>\r\n      </b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TextHighlight from \"vue-text-highlight\";\r\nexport default {\r\n  components: { TextHighlight },\r\n  props: {\r\n    item: { required: true },\r\n    searchText: \"\"\r\n  },\r\n  computed: {\r\n    searchTextArray: function() {\r\n      if (!this.searchText) return [];\r\n      return this.searchText.split(\" \").filter(x => x != \"\");\r\n    },\r\n    address: function() {\r\n      return (this.item.address || \"Not Provided\").substring(0, 100);\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productSugTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productSugTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productSugTemplate.vue?vue&type=template&id=ab4aa62e&\"\nimport script from \"./productSugTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./productSugTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductSuggestionDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductSuggestionDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductSuggestionDropdown.vue?vue&type=template&id=eb656b22&\"\nimport script from \"./ProductSuggestionDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductSuggestionDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-modal :id=\"modalId\" :title=\"modalTitle\" @ok=\"save\" size=\"lg\">\r\n    <b-row>\r\n      <b-col sm=\"8\">\r\n        <b-form-group>\r\n          <label>Product</label>\r\n          <product-suggestion-dropdown\r\n            v-model=\"item.product\"\r\n            @item-selected=\"sugProductsItemSelected\"\r\n          ></product-suggestion-dropdown>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"4\">\r\n        <b-form-group>\r\n          <label>Quantity</label>\r\n          <number-input v-model=\"item.quantity\" :min=\"1\" :max=\"9999\" inline controls center></number-input>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Note</label>\r\n          <b-form-textarea v-model=\"item.note\" placeholder=\"Enter something...\" rows=\"5\"></b-form-textarea>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport numberInput from \"../shared/numberInput\";\r\nimport ProductSuggestionDropdown from \"./ProductSuggestionDropdown\";\r\n\r\nvar loadProductTimeout;\r\nexport default {\r\n  name: \"InventoryEditItem\",\r\n  props: [\"id\"],\r\n  components: { numberInput, ProductSuggestionDropdown },\r\n  data() {\r\n    return {\r\n      item: {},\r\n      sugProducts: [],\r\n      modalTitle: \"\",\r\n      modalId: \"\"\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.modalId = this.id || \"inventoryEditItemModal\";\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    open: function(item) {\r\n      if (!item)\r\n        this.item = {\r\n          quantity: 1,\r\n          note: \"\",\r\n          product: {},\r\n          dateIn: new Date()\r\n        };\r\n      else this.item = { ...item };\r\n      this.modalTitle = item ? \"Edit Order Item\" : \"Add Order Item\";\r\n      this.$nextTick(() => this.$bvModal.show(this.modalId));\r\n    },\r\n    sugProductsItemSelected: function(item) {},\r\n    save: async function() {\r\n      //handle saving data\r\n      if (this.item.id) {\r\n        if (!this.item.audit) this.item.audit = [];\r\n        this.item.audit.push(this.$fbServices.inventoryService.buildAuditItem(this.item, \"Update\"));\r\n        await this.$fb.inventoryCollection.doc(this.item.id).set(this.item);\r\n      } else {\r\n        var docRef = this.$fb.inventoryCollection.doc();\r\n        this.item.id = docRef.id;\r\n        if (!this.item.audit) this.item.audit = [];\r\n        this.item.audit.push(this.$fbServices.inventoryService.buildAuditItem(this.item, \"Init\"));\r\n        await docRef.set(this.item);\r\n        this.item = await docRef.get().then(ss => ss.data());\r\n      }\r\n      this.showMessage(\"Item saved!\");\r\n      this.$emit(\"item-saved\", this.item);\r\n      this.$bvModal.hide(this.id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryEditItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryEditItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InventoryEditItem.vue?vue&type=template&id=7eff06e4&\"\nimport script from \"./InventoryEditItem.vue?vue&type=script&lang=js&\"\nexport * from \"./InventoryEditItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.modalId,\"title\":_vm.modalTitle,\"size\":\"lg\"}},[_c('b-table',{ref:\"inventoryTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.audit,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(date)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"datetime\")(data.value.toDate())))]}},{key:\"cell(distribution)\",fn:function(data){return [(data.item.distributionId)?_c('div',[_vm._v(_vm._s(\"distribute: [{0}] to order: {1} - order iten: {2}\".format(data.item.distribution.quantity, data.item.distribution.orderId, data.item.distribution.orderItemId)))]):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal :id=\"modalId\" :title=\"modalTitle\" size=\"lg\">\r\n    <b-table\r\n      ref=\"inventoryTable\"\r\n      responsive=\"sm\"\r\n      :items=\"audit\"\r\n      :fields=\"fields\"\r\n      :small=\"true\"\r\n      selectable\r\n      select-mode=\"single\"\r\n    >\r\n      <template v-slot:cell(index)=\"data\">{{data.index + 1}}</template>\r\n      <template v-slot:cell(date)=\"data\">{{data.value.toDate() | datetime}}</template>\r\n      <template v-slot:cell(distribution)=\"data\">\r\n        <div\r\n          v-if=\"data.item.distributionId\"\r\n        >{{\"distribute: [{0}] to order: {1} - order iten: {2}\".format(data.item.distribution.quantity, data.item.distribution.orderId, data.item.distribution.orderItemId)}}</div>\r\n      </template>\r\n    </b-table>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"InventoryItemHistory\",\r\n  props: [\"id\"],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      item: {},\r\n      audit: [],\r\n      modalTitle: \"\",\r\n      modalId: \"\",\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"i-index\" },\r\n        { key: \"message\", label: \"Event\", class: \"ih-event\" },\r\n        { key: \"date\", label: \"Date\", class: \"ih-date\" },\r\n        { key: \"product.price\", label: \"Price\", class: \"ih-price\" },\r\n        { key: \"quantity\", label: \"Quantity\", class: \"ih-quantity\" },\r\n        { key: \"distribution\", class: \"ih-distribution\" }\r\n      ]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.modalId = this.id || \"inventoryEditItemModal\";\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n    open: async function(item) {\r\n      this.item = await this.$fbServices.inventoryService.get(item.id);\r\n      var { name, rndPrice } = this.item.product;\r\n      var { quantity } = this.item;\r\n      this.modalTitle = \"Inventory: {0} - Price: {1} - Qty: {2}\".format(name, rndPrice, quantity);\r\n      this.audit = _.orderBy(this.item.audit, x => x.date, \"desc\");\r\n      this.audit.forEach(x => {\r\n        if (x.distributionId) {\r\n          x.distribution = this.item.distributions.find(y => (y.id = x.distributionId));\r\n        }\r\n      });\r\n      this.$nextTick(() => this.$bvModal.show(this.modalId));\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryItemHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InventoryItemHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InventoryItemHistory.vue?vue&type=template&id=22973600&\"\nimport script from \"./InventoryItemHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./InventoryItemHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Inventory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Inventory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Inventory.vue?vue&type=template&id=31d3a488&\"\nimport script from \"./Inventory.vue?vue&type=script&lang=js&\"\nexport * from \"./Inventory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Inventory.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"fa fa-user-o\"}),_vm._v(\" Customers (\"+_vm._s(_vm.count)+\") \")]),_c('div',{staticClass:\"pull-right\"},[_c('b-link',{on:{\"click\":_vm.calculateTotalBuying}},[_vm._v(\"Calculate Total Buying | \")]),_c('b-link',{on:{\"click\":_vm.addNewCustomer}},[_vm._v(\"Add New Customer\")])],1)]),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('b-input-group',{staticClass:\"mb-5\"},[_c('b-form-input',{on:{\"keydown\":function($event){return _vm.seartTextKeydown($event)}},model:{value:(_vm.searchText),callback:function ($$v) {_vm.searchText=$$v},expression:\"searchText\"}}),_c('b-input-group-append',[(_vm.searchText != '')?_c('span',{staticClass:\"fa fa-close\",attrs:{\"id\":\"searchclear\"},on:{\"click\":_vm.clearSearchText}}):_vm._e(),_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.clickSearchCustomer()}}},[_c('span',{staticClass:\"fa fa-search\"}),_vm._v(\" Search \")])],1)],1),_c('b-form-group',[_c('b-form-checkbox',{attrs:{\"inline\":\"\"},on:{\"change\":_vm.showOnlyDebtChange},model:{value:(_vm.filter.showOnlyDebt),callback:function ($$v) {_vm.$set(_vm.filter, \"showOnlyDebt\", $$v)},expression:\"filter.showOnlyDebt\"}},[_vm._v(\"Show Only Debt\")])],1)],1)],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('b-table',{ref:\"customerTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.customers,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.customerClicked,\"row-dblclicked\":_vm.customerDoubleClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(name)\",fn:function(data){return [(data.item.isEditing)?[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter customer name\"},model:{value:(data.item.name),callback:function ($$v) {_vm.$set(data.item, \"name\", $$v)},expression:\"data.item.name\"}})]:_vm._e(),(!data.item.isEditing)?[_c('text-highlight',{attrs:{\"queries\":_vm.queries}},[_vm._v(_vm._s(data.value))])]:_vm._e()]}},{key:\"cell(address)\",fn:function(data){return [(data.item.isEditing)?[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter customer address\"},model:{value:(data.item.address),callback:function ($$v) {_vm.$set(data.item, \"address\", $$v)},expression:\"data.item.address\"}})]:_vm._e(),(!data.item.isEditing)?[_vm._v(_vm._s(data.value))]:_vm._e()]}},{key:\"cell(phone)\",fn:function(data){return [(data.item.isEditing)?[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter customer phone\"},model:{value:(data.item.phone),callback:function ($$v) {_vm.$set(data.item, \"phone\", $$v)},expression:\"data.item.phone\"}})]:_vm._e(),(!data.item.isEditing)?[_vm._v(_vm._s(data.value))]:_vm._e()]}},{key:\"cell(statistic.totalBuying)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(data.value,_vm.vndConfig)))]}},{key:\"cell(statistic.purchased)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(data.value,_vm.vndConfig)))]}},{key:\"cell(statistic.debt)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(data.value,_vm.vndConfig)))]}},{key:\"cell(action)\",fn:function(data){return [(!data.item.isEditing)?[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"info\"},on:{\"click\":function($event){return _vm.viewOrders(data)}}},[_c('i',{staticClass:\"fa fa-list\"}),_vm._v(\" Orders \")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editCustomer(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteCustomer(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])]:_vm._e(),(data.item.isEditing)?[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.saveCustomer(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Save \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.cancelEditCustomer(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Cancel \")])]:_vm._e()]}}])})]},proxy:true},{key:\"mobile\",fn:function(){return [_c('div',[_c('b-table',{ref:\"customerTable\",attrs:{\"responsive\":\"sm\",\"items\":_vm.customers,\"fields\":_vm.mobileFields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.customerClicked,\"row-dblclicked\":_vm.customerDoubleClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(name)\",fn:function(data){return [_c('b-row',[_c('b-col',[(data.item.isEditing)?[_c('b-form-group',{attrs:{\"label-size\":\"sm\",\"label\":\"Name\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"type\":\"text\",\"placeholder\":\"Enter customer name\"},model:{value:(data.item.name),callback:function ($$v) {_vm.$set(data.item, \"name\", $$v)},expression:\"data.item.name\"}})],1)]:_vm._e(),(!data.item.isEditing)?[_c('strong',[_c('text-highlight',{attrs:{\"queries\":_vm.queries}},[_vm._v(_vm._s(data.value))])],1)]:_vm._e()],2)],1),_c('b-row',[_c('b-col',[(data.item.isEditing)?[_c('b-form-group',{attrs:{\"label-size\":\"sm\",\"label\":\"Address\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"type\":\"text\",\"placeholder\":\"Enter customer address\"},model:{value:(data.item.address),callback:function ($$v) {_vm.$set(data.item, \"address\", $$v)},expression:\"data.item.address\"}})],1)]:_vm._e(),(!data.item.isEditing)?[_vm._v(\"Address: \"+_vm._s(data.item.address))]:_vm._e()],2)],1),_c('b-row',[_c('b-col',[(data.item.isEditing)?[_c('b-form-group',{attrs:{\"label-size\":\"sm\",\"label\":\"Phone\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"type\":\"text\",\"placeholder\":\"Enter customer phone\"},model:{value:(data.item.phone),callback:function ($$v) {_vm.$set(data.item, \"phone\", $$v)},expression:\"data.item.phone\"}})],1)]:_vm._e(),(!data.item.isEditing)?[_vm._v(\"Phone: \"+_vm._s(data.item.phone))]:_vm._e()],2)],1),_c('b-row',{staticClass:\"mt-2 mb-2\"},[_c('b-col',[(!data.item.isEditing)?[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"info\"},on:{\"click\":function($event){return _vm.viewOrders(data)}}},[_c('i',{staticClass:\"fa fa-list\"}),_vm._v(\" Orders \")]),_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editCustomer(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteCustomer(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])]:_vm._e(),(data.item.isEditing)?[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.saveCustomer(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Save \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.cancelEditCustomer(data)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Cancel \")])]:_vm._e()],2)],1)]}}])})],1)]},proxy:true}])}),_c('b-row',{staticClass:\"load-more\"},[_c('b-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.loadMore}},[_vm._v(\"Load more\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <span>\r\n              <i class=\"fa fa-user-o\"></i>\r\n              Customers ({{count}})\r\n            </span>\r\n            <div class=\"pull-right\">\r\n              <b-link @click=\"calculateTotalBuying\">Calculate Total Buying |&nbsp;</b-link>\r\n              <b-link @click=\"addNewCustomer\">Add New Customer</b-link>\r\n            </div>\r\n            <!-- <b-link class=\"pull-right\" @click=\"correctData\">Correct data</b-link> -->\r\n          </div>\r\n\r\n          <b-row>\r\n            <b-col sm=\"12\" md=\"6\">\r\n              <b-input-group class=\"mb-5\">\r\n                <b-form-input v-model=\"searchText\" @keydown=\"seartTextKeydown($event)\"></b-form-input>\r\n\r\n                <b-input-group-append>\r\n                  <span\r\n                    id=\"searchclear\"\r\n                    class=\"fa fa-close\"\r\n                    v-if=\"searchText != ''\"\r\n                    @click=\"clearSearchText\"\r\n                  ></span>\r\n                  <b-button variant=\"outline-success\" @click=\"clickSearchCustomer()\">\r\n                    <span class=\"fa fa-search\"></span> Search\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n\r\n              <b-form-group>\r\n                <b-form-checkbox\r\n                  v-model=\"filter.showOnlyDebt\"\r\n                  @change=\"showOnlyDebtChange\"\r\n                  inline\r\n                >Show Only Debt</b-form-checkbox>\r\n              </b-form-group>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <b-table\r\n                ref=\"customerTable\"\r\n                responsive=\"sm\"\r\n                :items=\"customers\"\r\n                :fields=\"fields\"\r\n                :small=\"true\"\r\n                selectable\r\n                select-mode=\"single\"\r\n                @row-clicked=\"customerClicked\"\r\n                @row-dblclicked=\"customerDoubleClicked\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">{{data.index + 1}}</template>\r\n                <template v-slot:cell(name)=\"data\">\r\n                  <template v-if=\"data.item.isEditing\">\r\n                    <b-form-input\r\n                      type=\"text\"\r\n                      v-model=\"data.item.name\"\r\n                      placeholder=\"Enter customer name\"\r\n                    ></b-form-input>\r\n                  </template>\r\n                  <template v-if=\"!data.item.isEditing\">\r\n                    <text-highlight :queries=\"queries\">{{data.value}}</text-highlight>\r\n                  </template>\r\n                </template>\r\n                <template v-slot:cell(address)=\"data\">\r\n                  <template v-if=\"data.item.isEditing\">\r\n                    <b-form-input\r\n                      type=\"text\"\r\n                      v-model=\"data.item.address\"\r\n                      placeholder=\"Enter customer address\"\r\n                    ></b-form-input>\r\n                  </template>\r\n                  <template v-if=\"!data.item.isEditing\">{{data.value}}</template>\r\n                </template>\r\n                <template v-slot:cell(phone)=\"data\">\r\n                  <template v-if=\"data.item.isEditing\">\r\n                    <b-form-input\r\n                      type=\"text\"\r\n                      v-model=\"data.item.phone\"\r\n                      placeholder=\"Enter customer phone\"\r\n                    ></b-form-input>\r\n                  </template>\r\n                  <template v-if=\"!data.item.isEditing\">{{data.value}}</template>\r\n                </template>\r\n                <template\r\n                  v-slot:cell(statistic.totalBuying)=\"data\"\r\n                >{{data.value | currency(vndConfig)}}</template>\r\n                <template\r\n                  v-slot:cell(statistic.purchased)=\"data\"\r\n                >{{data.value | currency(vndConfig)}}</template>\r\n                <template v-slot:cell(statistic.debt)=\"data\">{{data.value | currency(vndConfig)}}</template>\r\n                <template v-slot:cell(action)=\"data\">\r\n                  <template v-if=\"!data.item.isEditing\">\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      class=\"mr-1\"\r\n                      size=\"sm\"\r\n                      variant=\"info\"\r\n                      @click=\"viewOrders(data)\"\r\n                    >\r\n                      <i class=\"fa fa-list\"></i> Orders\r\n                    </b-button>\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      class=\"mr-1\"\r\n                      size=\"sm\"\r\n                      variant=\"success\"\r\n                      @click=\"editCustomer(data)\"\r\n                    >\r\n                      <i class=\"fa fa-edit\"></i> Edit\r\n                    </b-button>\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"danger\"\r\n                      @click=\"deleteCustomer(data)\"\r\n                    >\r\n                      <i class=\"fa fa-remove\"></i> Delete\r\n                    </b-button>\r\n                  </template>\r\n                  <template v-if=\"data.item.isEditing\">\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      class=\"mr-1\"\r\n                      size=\"sm\"\r\n                      variant=\"success\"\r\n                      @click=\"saveCustomer(data)\"\r\n                    >\r\n                      <i class=\"fa fa-edit\"></i> Save\r\n                    </b-button>\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"danger\"\r\n                      @click=\"cancelEditCustomer(data)\"\r\n                    >\r\n                      <i class=\"fa fa-remove\"></i> Cancel\r\n                    </b-button>\r\n                  </template>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n\r\n            <template v-slot:mobile>\r\n              <div>\r\n                <b-table\r\n                  ref=\"customerTable\"\r\n                  responsive=\"sm\"\r\n                  :items=\"customers\"\r\n                  :fields=\"mobileFields\"\r\n                  :small=\"true\"\r\n                  selectable\r\n                  select-mode=\"single\"\r\n                  @row-clicked=\"customerClicked\"\r\n                  @row-dblclicked=\"customerDoubleClicked\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">{{data.index + 1}}</template>\r\n                  <template v-slot:cell(name)=\"data\">\r\n                    <b-row>\r\n                      <b-col>\r\n                        <strong>\r\n                          {{data.index + 1}}.\r\n                          <text-highlight :queries=\"queries\">{{data.item.name}}</text-highlight>\r\n                        </strong>\r\n                      </b-col>\r\n                    </b-row>\r\n                  </template>\r\n\r\n                  <template v-slot:cell(name)=\"data\">\r\n                    <b-row>\r\n                      <b-col>\r\n                        <template v-if=\"data.item.isEditing\">\r\n                          <b-form-group label-size=\"sm\" label=\"Name\">\r\n                            <b-form-input\r\n                              size=\"sm\"\r\n                              type=\"text\"\r\n                              v-model=\"data.item.name\"\r\n                              placeholder=\"Enter customer name\"\r\n                            ></b-form-input>\r\n                          </b-form-group>\r\n                        </template>\r\n\r\n                        <template v-if=\"!data.item.isEditing\">\r\n                          <strong>\r\n                            <text-highlight :queries=\"queries\">{{data.value}}</text-highlight>\r\n                          </strong>\r\n                        </template>\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col>\r\n                        <template v-if=\"data.item.isEditing\">\r\n                          <b-form-group label-size=\"sm\" label=\"Address\">\r\n                            <b-form-input\r\n                              size=\"sm\"\r\n                              type=\"text\"\r\n                              v-model=\"data.item.address\"\r\n                              placeholder=\"Enter customer address\"\r\n                            ></b-form-input>\r\n                          </b-form-group>\r\n                        </template>\r\n                        <template v-if=\"!data.item.isEditing\">Address: {{data.item.address}}</template>\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row>\r\n                      <b-col>\r\n                        <template v-if=\"data.item.isEditing\">\r\n                          <b-form-group label-size=\"sm\" label=\"Phone\">\r\n                            <b-form-input\r\n                              size=\"sm\"\r\n                              type=\"text\"\r\n                              v-model=\"data.item.phone\"\r\n                              placeholder=\"Enter customer phone\"\r\n                            ></b-form-input>\r\n                          </b-form-group>\r\n                        </template>\r\n                        <template v-if=\"!data.item.isEditing\">Phone: {{data.item.phone}}</template>\r\n                      </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"mt-2 mb-2\">\r\n                      <b-col>\r\n                        <template v-if=\"!data.item.isEditing\">\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            class=\"mr-1\"\r\n                            size=\"sm\"\r\n                            variant=\"info\"\r\n                            @click=\"viewOrders(data)\"\r\n                          >\r\n                            <i class=\"fa fa-list\"></i> Orders\r\n                          </b-button>\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            class=\"mr-1\"\r\n                            size=\"sm\"\r\n                            variant=\"success\"\r\n                            @click=\"editCustomer(data)\"\r\n                          >\r\n                            <i class=\"fa fa-edit\"></i> Edit\r\n                          </b-button>\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            size=\"sm\"\r\n                            variant=\"danger\"\r\n                            @click=\"deleteCustomer(data)\"\r\n                          >\r\n                            <i class=\"fa fa-remove\"></i> Delete\r\n                          </b-button>\r\n                        </template>\r\n                        <template v-if=\"data.item.isEditing\">\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            class=\"mr-1\"\r\n                            size=\"sm\"\r\n                            variant=\"success\"\r\n                            @click=\"saveCustomer(data)\"\r\n                          >\r\n                            <i class=\"fa fa-edit\"></i> Save\r\n                          </b-button>\r\n                          <b-button\r\n                            type=\"submit\"\r\n                            size=\"sm\"\r\n                            variant=\"danger\"\r\n                            @click=\"cancelEditCustomer(data)\"\r\n                          >\r\n                            <i class=\"fa fa-remove\"></i> Cancel\r\n                          </b-button>\r\n                        </template>\r\n                      </b-col>\r\n                    </b-row>\r\n                  </template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n          </view-port>\r\n\r\n          <b-row class=\"load-more\">\r\n            <b-button variant=\"outline-success\" @click=\"loadMore\" v-loading=\"isLoading\">Load more</b-button>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\nimport { generateSubString } from \"@/shared/utils\";\r\nimport viewPort from \"../shared/viewPort\";\r\nimport TextHighlight from \"vue-text-highlight\";\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Customers\",\r\n  components: { viewPort, TextHighlight },\r\n  data() {\r\n    return {\r\n      customers: [],\r\n      customer: {},\r\n      searchText: \"\",\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"customer-index-col\" },\r\n        { key: \"name\", class: \"customer-name-col\" },\r\n        { key: \"address\", class: \"customer-address-col\" },\r\n        { key: \"phone\", class: \"customer-phone-col\" },\r\n        { key: \"statistic.totalBuying\", label: \"Total Buying\", class: \"customer-phone-col\" },\r\n        { key: \"statistic.purchased\", label: \"Purchased\", class: \"customer-phone-col\" },\r\n        { key: \"statistic.debt\", label: \"Debt\", class: \"customer-phone-col\" },\r\n        { key: \"action\", class: \"customer-action-col\" }\r\n      ],\r\n      mobileFields: [\r\n        { key: \"index\", label: \"#\" },\r\n        { key: \"name\", label: \"Details\" }\r\n      ],\r\n      paging: {\r\n        total: 0,\r\n        page: 1,\r\n        size: 20\r\n      },\r\n      lastVisible: undefined,\r\n      filter: {\r\n        showOnlyDebt: false\r\n      },\r\n      isLoading: true\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadCustomers();\r\n  },\r\n  watch: {\r\n    searchText: function(newValue, oldValue) {\r\n      if (oldValue != \"\" && newValue == \"\") {\r\n        this.customers = [];\r\n        this.lastVisible = undefined;\r\n        this.loadCustomers();\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    queries: function() {\r\n      return this.searchText.split(\" \").filter(x => x != \"\");\r\n    },\r\n    ...mapState(\"counter\", {\r\n      count: state => state.counter && state.counter.customerCount\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions(\"counter\", [\"increaseCustomerCount\", \"decreaseCustomerCount\"]),\r\n    ...mapActions(\"order\", [\"getAllOrders\"]),\r\n    loadCustomers: function() {\r\n      this.isLoading = true;\r\n      var query = this.$fb.customerCollection.limit(this.paging.size);\r\n\r\n      if (this.filter && this.filter.showOnlyDebt) {\r\n        query = query.where(\"statistic.debt\", \">\", 0).orderBy(\"statistic.debt\", \"desc\");\r\n      } else {\r\n        query = query.orderBy(\"name\");\r\n      }\r\n\r\n      if (this.lastVisible) query = query.startAfter(this.lastVisible);\r\n\r\n      return query.get().then(snapshot => {\r\n        this.isLoading = false;\r\n        if (!snapshot.empty) {\r\n          this.lastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n\r\n          snapshot.forEach(doc => {\r\n            var data = doc.data();\r\n            data.id = doc.id;\r\n            this.customers.push(data);\r\n          });\r\n        }\r\n      });\r\n    },\r\n    customerClicked: function(customer) {\r\n      this.customer = { ...customer };\r\n    },\r\n    correctData: function() {\r\n      // this.customers.forEach(\r\n      //   cus => (cus.nameSearch = generateSubString(cus.name))\r\n      // );\r\n      // this.customers.forEach(cus =>\r\n      //   this.$fb.customerCollection.doc(cus.id).set(cus)\r\n      // );\r\n    },\r\n    deleteCustomer: function(data) {\r\n      var customer = data.item;\r\n      var index = data.index;\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to delete customer: [${customer.name}]?`)\r\n        .then(value => {\r\n          if (value) {\r\n            this.$fb.customerCollection\r\n              .doc(customer.id)\r\n              .delete()\r\n              .then(() => {\r\n                this.customers.splice(index, 1);\r\n                this.decreaseCustomerCount();\r\n              });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    loadMore: function() {\r\n      this.isLoading = true;\r\n      if (this.queries.length > 0) {\r\n        this.searchCustomer(this.lastVisible).then(() => (this.isLoading = false));\r\n      } else {\r\n        this.loadCustomers().then(() => (this.isLoading = false));\r\n      }\r\n    },\r\n    seartTextKeydown: function(e) {\r\n      if (e.keyCode === 13) {\r\n        this.customers = [];\r\n        this.searchCustomer();\r\n      }\r\n    },\r\n    clickSearchCustomer: function() {\r\n      this.customers = [];\r\n      this.searchCustomer();\r\n    },\r\n    clearSearchText: function() {\r\n      this.searchText = \"\";\r\n    },\r\n    searchCustomer: function(lastVisible) {\r\n      if (!this.searchText) return;\r\n      var q = this.$fb.customerCollection\r\n        .where(\"nameSearch\", \"array-contains-any\", this.queries)\r\n        .orderBy(\"name\");\r\n\r\n      if (lastVisible) q = q.startAfter(lastVisible);\r\n\r\n      return q\r\n        .limit(20)\r\n        .get()\r\n        .then(snapshot => {\r\n          if (!snapshot.empty) {\r\n            this.lastVisible = _.last(snapshot.docs);\r\n            snapshot.forEach(doc => {\r\n              var data = doc.data();\r\n              data.id = doc.id;\r\n              this.customers.push(data);\r\n            });\r\n          }\r\n        });\r\n    },\r\n    editCustomer: function(data) {\r\n      var { item, index } = data;\r\n      item.backup = { ...item };\r\n      item.isEditing = true;\r\n      this.customers.splice(index, 1, item);\r\n    },\r\n    saveCustomer: function(data) {\r\n      var customer = data.item;\r\n      var index = data.index;\r\n      if (!customer.name) return;\r\n      delete customer.backup;\r\n      delete customer.isEditing;\r\n      return this.submitCustomer(customer).then(cus => {\r\n        this.customers.splice(index, 1, cus);\r\n      });\r\n    },\r\n    submitCustomer: function(customer) {\r\n      customer.nameSearch = generateSubString(customer.name);\r\n      customer.version = (customer.version || 0) + 1;\r\n      if (customer.id) {\r\n        //update\r\n        return this.$fb.customerCollection\r\n          .doc(customer.id)\r\n          .set(customer)\r\n          .then(() => {\r\n            return customer;\r\n          });\r\n      } else {\r\n        var cusRef = this.$fb.customerCollection.doc();\r\n        customer.id = cusRef.id;\r\n        return cusRef.set(customer).then(() => {\r\n          this.increaseCustomerCount();\r\n          return customer;\r\n        });\r\n      }\r\n    },\r\n    cancelEditCustomer: function(data) {\r\n      var { item, index } = data;\r\n      if (item.id) {\r\n        this.customers.splice(index, 1, item.backup);\r\n      } else {\r\n        this.customers.splice(index, 1);\r\n      }\r\n    },\r\n    addNewCustomer: function() {\r\n      var newCus = {\r\n        name: \"\",\r\n        address: \"\",\r\n        phone: \"\",\r\n        isEditing: true\r\n      };\r\n      this.customers.unshift(newCus);\r\n    },\r\n    customerDoubleClicked: function(item, index, event) {\r\n      this.editCustomer({ index: index, item: item });\r\n    },\r\n    viewOrders: function(data) {\r\n      var { index, item } = data;\r\n      this.$router.push({\r\n        name: \"CustomerOrders\",\r\n        params: { id: item.id }\r\n      });\r\n    },\r\n    calculateTotalBuying: async function() {\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to calculate total buying?`)\r\n        .then(async value => {\r\n          if (value) {\r\n            var orders = await this.loadOrders();\r\n            var customers = await this.loadAllCustomers();\r\n\r\n            await Promise.all(\r\n              customers.map(async customer => {\r\n                var obj = this.calculateTotalBuyingForCustomer(customer, orders);\r\n                customer.statistic = obj;\r\n                console.log(customer);\r\n                await this.$fb.customerCollection.doc(customer.id).set(customer);\r\n              })\r\n            );\r\n\r\n            this.$bvModal\r\n              .msgBoxConfirm(`Calculate successfully, Click Ok to refresh page!`)\r\n              .then(v => {\r\n                if (v) {\r\n                  this.customers = [];\r\n                  this.lastVisible = undefined;\r\n                  this.loadCustomers();\r\n                }\r\n              });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    calculateTotalBuyingForCustomer: function(customer, orders) {\r\n      var customerOrderItems = orders\r\n        .filter(\r\n          x =>\r\n            x.items &&\r\n            x.items.length > 0 &&\r\n            x.items.find(i => i.customer && i.customer.id == customer.id) != undefined\r\n        )\r\n        .reduce((m, i) => m.concat(i.items), [])\r\n        .filter(x => x.customer && x.customer.id == customer.id);\r\n\r\n      return {\r\n        totalBuying: _.sumBy(\r\n          customerOrderItems,\r\n          x => parseFloat(x.rndPrice) * parseFloat(x.quantity)\r\n        ),\r\n        purchased: _.sumBy(\r\n          customerOrderItems.filter(x => x.purchased),\r\n          x => parseFloat(x.rndPrice) * parseFloat(x.quantity)\r\n        ),\r\n        debt: _.sumBy(\r\n          customerOrderItems.filter(x => !x.purchased),\r\n          x => parseFloat(x.rndPrice) * parseFloat(x.quantity)\r\n        )\r\n      };\r\n    },\r\n    loadOrders: async function() {\r\n      return await this.getAllOrders();\r\n    },\r\n    loadAllCustomers: async function() {\r\n      return this.$fb.customerCollection.get().then(ss => {\r\n        if (ss.empty) return [];\r\n        else {\r\n          return ss.docs.map(doc => doc.data());\r\n        }\r\n      });\r\n    },\r\n    showOnlyDebtChange: function(checked) {\r\n      this.customers = [];\r\n      this.lastVisible = undefined;\r\n      this.$nextTick(() => {\r\n        this.loadCustomers();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customers.vue?vue&type=template&id=3153f858&\"\nimport script from \"./customers.vue?vue&type=script&lang=js&\"\nexport * from \"./customers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('b-link',{on:{\"click\":_vm.goToCustomers}},[_c('i',{staticClass:\"fa fa-user-o\"}),_vm._v(\" Customers: \")]),_c('strong',[_vm._v(_vm._s(_vm.customer.name))]),_vm._v(\"'s Orders \")],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\",\"lg\":\"1\"}},[_vm._v(\"Total Buying\")]),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"6\",\"lg\":\"2\"}},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalBuying,_vm.vndConfig)))])])],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\",\"lg\":\"1\"}},[_vm._v(\"Purchased\")]),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"6\",\"lg\":\"2\"}},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.purchased,_vm.vndConfig)))])])],1),_c('b-row',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('b-col',{attrs:{\"cols\":\"6\",\"lg\":\"1\"}},[_vm._v(\"Debt\")]),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"6\",\"lg\":\"2\"}},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.debt,_vm.vndConfig)))])])],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('div',[_c('b-table',{attrs:{\"responsive\":\"sm\",\"items\":_vm.customerOrders,\"fields\":_vm.fields,\"small\":true,\"hover\":true},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index +1))]}},{key:\"cell(name)\",fn:function(data){return [_c('a',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"href\":_vm.buildRoute(data.item),\"variant\":\"link\"}},[_vm._v(_vm._s(data.item.name))])]}},{key:\"cell(products)\",fn:function(data){return [_c('table',{staticClass:\"table table-borderless product-table\"},_vm._l((data.item.items),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.product.name))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}},[_vm._v(_vm._s(item.quantity))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"25%\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(item.rndPrice,_vm.vndConfig)))])])}),0)]}},{key:\"cell(totalQuantity)\",fn:function(data){return [_c('strong',[_vm._v(_vm._s(data.value))])]}},{key:\"cell(totalPrice)\",fn:function(data){return [_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(data.value,_vm.vndConfig)))])]}},{key:\"cell(purchased)\",fn:function(data){return [_c('b-form-checkbox',{model:{value:(data.item.purchased),callback:function ($$v) {_vm.$set(data.item, \"purchased\", $$v)},expression:\"data.item.purchased\"}})]}}])})],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('b-table',{attrs:{\"responsive\":\"sm\",\"items\":_vm.customerOrders,\"fields\":_vm.mobileFields,\"small\":true,\"hover\":true},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_c('b-row',[_c('b-col',[_c('strong',[_vm._v(\" \"+_vm._s(data.index + 1)+\". \"),_c('a',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"href\":_vm.buildRoute(data.item),\"variant\":\"link\"}},[_vm._v(_vm._s(data.item.name))])])]),_c('b-col',{staticClass:\"text-right\"},[_c('b-form-checkbox',{attrs:{\"disabled\":true},model:{value:(data.item.purchased),callback:function ($$v) {_vm.$set(data.item, \"purchased\", $$v)},expression:\"data.item.purchased\"}},[_vm._v(\"Purchased\")])],1)],1),_c('b-row',[_c('b-col',[_c('table',{staticClass:\"table table-borderless product-table\"},[_vm._l((data.item.items),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.product.name))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}},[_vm._v(_vm._s(item.quantity))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"27%\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(item.rndPrice,_vm.vndConfig)))])])}),_c('tr',[_c('td',[_vm._v(\"Total\")]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}},[_c('strong',[_vm._v(_vm._s(data.item.totalQuantity))])]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"27%\"}},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.totalPrice,_vm.vndConfig)))])])])],2)])],1)]}}])})]},proxy:true}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <b-link @click=\"goToCustomers\">\r\n              <i class=\"fa fa-user-o\"></i> Customers:\r\n            </b-link>\r\n            <strong>{{customer.name}}</strong>'s Orders\r\n            <!-- <b-link class=\"pull-right\" @click=\"recalculateOrders\">Recalculate Orders</b-link> -->\r\n          </div>\r\n          <b-row>\r\n            <b-col cols=\"6\" lg=\"1\">Total Buying</b-col>\r\n            <b-col cols=\"6\" lg=\"2\" class=\"text-right\">\r\n              <strong>{{totalBuying | currency(vndConfig)}}</strong>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row>\r\n            <b-col cols=\"6\" lg=\"1\">Purchased</b-col>\r\n            <b-col cols=\"6\" lg=\"2\" class=\"text-right\">\r\n              <strong>{{purchased | currency(vndConfig)}}</strong>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row style=\"margin-bottom: 20px;\">\r\n            <b-col cols=\"6\" lg=\"1\">Debt</b-col>\r\n            <b-col cols=\"6\" lg=\"2\" class=\"text-right\">\r\n              <strong>{{debt | currency(vndConfig)}}</strong>\r\n            </b-col>\r\n          </b-row>\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <div>\r\n                <b-table\r\n                  responsive=\"sm\"\r\n                  :items=\"customerOrders\"\r\n                  :fields=\"fields\"\r\n                  :small=\"true\"\r\n                  :hover=\"true\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">{{data.index +1}}</template>\r\n                  <template v-slot:cell(name)=\"data\">\r\n                    <a\r\n                      style=\"font-size: 15px\"\r\n                      :href=\"buildRoute(data.item)\"\r\n                      variant=\"link\"\r\n                    >{{data.item.name}}</a>\r\n                  </template>\r\n                  <template v-slot:cell(products)=\"data\">\r\n                    <table class=\"table table-borderless product-table\">\r\n                      <tr v-for=\"(item, index) in data.item.items\" :key=\"index\">\r\n                        <td>{{item.product.name}}</td>\r\n                        <td class=\"text-right\" style=\"width: 5%\">{{item.quantity}}</td>\r\n                        <td\r\n                          class=\"text-right\"\r\n                          style=\"width: 25%\"\r\n                        >{{item.rndPrice |currency(vndConfig)}}</td>\r\n                      </tr>\r\n                    </table>\r\n                  </template>\r\n\r\n                  <template v-slot:cell(totalQuantity)=\"data\">\r\n                    <strong>{{data.value}}</strong>\r\n                  </template>\r\n                  <template v-slot:cell(totalPrice)=\"data\">\r\n                    <strong>{{data.value | currency(vndConfig)}}</strong>\r\n                  </template>\r\n                  <template v-slot:cell(purchased)=\"data\">\r\n                    <b-form-checkbox v-model=\"data.item.purchased\"></b-form-checkbox>\r\n                  </template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n            <template v-slot:mobile>\r\n              <b-table\r\n                responsive=\"sm\"\r\n                :items=\"customerOrders\"\r\n                :fields=\"mobileFields\"\r\n                :small=\"true\"\r\n                :hover=\"true\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">\r\n                  <b-row>\r\n                    <b-col>\r\n                      <strong>\r\n                        {{data.index + 1}}.\r\n                        <a\r\n                          style=\"font-size: 15px\"\r\n                          :href=\"buildRoute(data.item)\"\r\n                          variant=\"link\"\r\n                        >{{data.item.name}}</a>\r\n                      </strong>\r\n                    </b-col>\r\n                    <b-col class=\"text-right\">\r\n                      <b-form-checkbox v-model=\"data.item.purchased\" :disabled=\"true\">Purchased</b-form-checkbox>\r\n                    </b-col>\r\n                  </b-row>\r\n                  <b-row>\r\n                    <b-col>\r\n                      <table class=\"table table-borderless product-table\">\r\n                        <tr v-for=\"(item, index) in data.item.items\" :key=\"index\">\r\n                          <td>{{item.product.name}}</td>\r\n                          <td class=\"text-right\" style=\"width: 5%\">{{item.quantity}}</td>\r\n                          <td\r\n                            class=\"text-right\"\r\n                            style=\"width: 27%\"\r\n                          >{{item.rndPrice |currency(vndConfig)}}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td>Total</td>\r\n                          <td class=\"text-right\" style=\"width: 5%\">\r\n                            <strong>{{data.item.totalQuantity}}</strong>\r\n                          </td>\r\n                          <td class=\"text-right\" style=\"width: 27%\">\r\n                            <strong>{{data.item.totalPrice | currency(vndConfig)}}</strong>\r\n                          </td>\r\n                        </tr>\r\n                      </table>\r\n                    </b-col>\r\n                  </b-row>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n          </view-port>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <!--/.row-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport viewPort from \"../shared/viewPort\";\r\nexport default {\r\n  name: \"Orders\",\r\n  components: { viewPort },\r\n  data() {\r\n    return {\r\n      customer: {},\r\n      customerOrders: [],\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"shipment-index-col\" },\r\n        {\r\n          key: \"name\",\r\n          label: \"Order name\"\r\n        },\r\n        { key: \"products\", label: \"Products\", class: \"customer-order-product-col\" },\r\n\r\n        {\r\n          key: \"totalQuantity\",\r\n          label: \"Total Qty\",\r\n          class: \"text-center shipment-quantity-col\",\r\n          tdClass: \"vertical-middle\"\r\n        },\r\n        {\r\n          key: \"totalPrice\",\r\n          label: \"Total Price\",\r\n          class: \"text-right shipment-price-col\"\r\n        },\r\n        {\r\n          key: \"purchased\",\r\n          label: \"Purchased\",\r\n          class: \"text-center shipment-purchased-col\"\r\n        }\r\n      ],\r\n      mobileFields: [{ key: \"index\" }]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadCustomer();\r\n  },\r\n  computed: {\r\n    debt: function() {\r\n      if (!this.customerOrders) return 0;\r\n      return _.chain(this.customerOrders)\r\n        .filter(x => x.purchased == false)\r\n        .sumBy(x => x.totalPrice)\r\n        .value();\r\n    },\r\n    totalBuying: function() {\r\n      if (!this.customerOrders) return 0;\r\n      return _.chain(this.customerOrders)\r\n        .sumBy(x => x.totalPrice)\r\n        .value();\r\n    },\r\n    purchased: function() {\r\n      if (!this.customerOrders) return 0;\r\n      return _.chain(this.customerOrders)\r\n        .filter(x => x.purchased == true)\r\n        .sumBy(x => x.totalPrice)\r\n        .value();\r\n    }\r\n  },\r\n  methods: {\r\n    loadCustomer: function() {\r\n      var customerId = this.$route.params.id;\r\n      this.$fb.customerCollection\r\n        .doc(customerId)\r\n        .get()\r\n        .then(ss => (this.customer = ss.data()))\r\n        .then(this.loadCustomerOrders);\r\n    },\r\n    loadCustomerOrders: async function() {\r\n      var orders = await this.loadOrders();\r\n      this.customerOrders = await this.buildCustomerOrders(orders);\r\n      console.log(this.customerOrders);\r\n    },\r\n    goToCustomers: function() {\r\n      this.$router.push({ name: \"Customers\" });\r\n    },\r\n    recalculateOrders: async function() {\r\n      var orders = await this.loadOrders();\r\n      this.customerOrders = await this.buildCustomerOrders(orders);\r\n      console.log(this.customerOrders);\r\n    },\r\n    buildCustomerOrders: async function(orders) {\r\n      var customerOrders = orders.filter(\r\n        x =>\r\n          x.items &&\r\n          x.items.length > 0 &&\r\n          x.items.find(i => i.customer && i.customer.id == this.customer.id) != undefined\r\n      );\r\n      customerOrders.forEach(order => {\r\n        order.items = order.items.filter(x => x.customer && x.customer.id == this.customer.id);\r\n        order.totalQuantity = _.sumBy(order.items, x => x.quantity);\r\n        order.totalPrice = _.sumBy(\r\n          order.items,\r\n          x => parseFloat(x.rndPrice) * parseFloat(x.quantity)\r\n        );\r\n        order.purchased = _.find(order.items, x => !x.purchased) == undefined;\r\n      });\r\n      return _.orderBy(customerOrders, \"dateCreated\", \"desc\");\r\n    },\r\n    loadOrders: async function() {\r\n      return await this.$store.dispatch(\"order/getAllOrders\");\r\n    },\r\n    buildRoute: function(order) {\r\n      var { origin } = location;\r\n      return this.$router.resolve({\r\n        name: \"OrderDetail\",\r\n        params: { id: order.id }\r\n      }).href;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.product-table {\r\n  margin-bottom: 0;\r\n}\r\n.product-table tr:hover {\r\n  background-color: inherit;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customerOrders.vue?vue&type=template&id=02f06ce2&scoped=true&\"\nimport script from \"./customerOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./customerOrders.vue?vue&type=script&lang=js&\"\nimport style0 from \"./customerOrders.vue?vue&type=style&index=0&id=02f06ce2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02f06ce2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"cui-user icons font-lg\"}),_vm._v(\" Orders (\"+_vm._s(_vm.orderCount)+\") \"),_c('b-link',{staticClass:\"pull-right\",on:{\"click\":_vm.addNewOrder}},[_vm._v(\"Add New Order\")])],1),_c('b-table',{attrs:{\"responsive\":\"sm\",\"items\":_vm.orders,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\",\"busy\":_vm.isLoadingData},on:{\"row-clicked\":_vm.orderClicked},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(data){return [_c('a',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"href\":_vm.buildRoute(data.item),\"variant\":\"link\"}},[_vm._v(_vm._s(data.item.name))])]}},{key:\"cell(dateCreated)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"date\")(data.item.dateCreated.toDate())))]}},{key:\"cell(quantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumQuantity(data.item)))]}},{key:\"cell(total)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumTotal(data.item),_vm.vndConfig)))]}},{key:\"cell(action)\",fn:function(data){return [(_vm.sumQuantity(data.item) == 0)?_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteOrder(data.item)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")]):_vm._e()]}}])}),_c('b-row',{staticClass:\"load-more\"},[_c('b-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingData),expression:\"isLoadingData\"}],attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.loadMore($event)}}},[_vm._v(\"Load more\")])],1)],1)],1)],1),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <i class=\"cui-user icons font-lg\"></i>\r\n            Orders ({{orderCount}})\r\n            <b-link class=\"pull-right\" @click=\"addNewOrder\">Add New Order</b-link>\r\n          </div>\r\n          <b-table\r\n            responsive=\"sm\"\r\n            :items=\"orders\"\r\n            :fields=\"fields\"\r\n            :small=\"true\"\r\n            selectable\r\n            select-mode=\"single\"\r\n            @row-clicked=\"orderClicked\"\r\n            :busy=\"isLoadingData\"\r\n          >\r\n            <template v-slot:cell(name)=\"data\">\r\n              <a\r\n                style=\"font-size: 15px\"\r\n                :href=\"buildRoute(data.item)\"\r\n                variant=\"link\"\r\n              >{{data.item.name}}</a>\r\n            </template>\r\n            <template v-slot:cell(dateCreated)=\"data\">{{data.item.dateCreated.toDate() | date}}</template>\r\n            <template v-slot:cell(quantity)=\"data\">{{sumQuantity(data.item)}}</template>\r\n            <template v-slot:cell(total)=\"data\">{{sumTotal(data.item) | currency(vndConfig)}}</template>\r\n            <template v-slot:cell(action)=\"data\">\r\n              <b-button\r\n                type=\"submit\"\r\n                size=\"sm\"\r\n                variant=\"danger\"\r\n                @click=\"deleteOrder(data.item)\"\r\n                v-if=\"sumQuantity(data.item) == 0\"\r\n              >\r\n                <i class=\"fa fa-remove\"></i> Delete\r\n              </b-button>\r\n            </template>\r\n          </b-table>\r\n          <b-row class=\"load-more\">\r\n            <b-button\r\n              variant=\"outline-success\"\r\n              @click=\"loadMore($event)\"\r\n              v-loading=\"isLoadingData\"\r\n            >Load more</b-button>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <router-view></router-view>\r\n    <!--/.row-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\nimport { mapState, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Orders\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      selectedOrder: {},\r\n      isLoadingData: false,\r\n      lastVisible: undefined,\r\n      fields: [\r\n        { key: \"name\" },\r\n        { key: \"dateCreated\", label: \"Created Date\" },\r\n        { key: \"quantity\", label: \"Quantity\" },\r\n        { key: \"total\", label: \"Total\" },\r\n        { key: \"action\", class: \"text-right\" }\r\n      ]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadOrders();\r\n  },\r\n  computed: {\r\n    ...mapState(\"counter\", {\r\n      orderCount: state => state.counter && state.counter.orderCount\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions(\"counter\", [\"increaseOrderCount\", \"decreaseOrderCount\"]),\r\n    ...mapActions(\"order\", [\"getAllOrders\", \"addOrUpdateOrder\"]),\r\n    loadOrders: async function() {\r\n      this.isLoadingData = true;\r\n      this.orders = _.orderBy(await this.getAllOrders(), [\"dateCreated\"], [\"desc\"]);\r\n      this.isLoadingData = false;\r\n    },\r\n    addNewOrder: async function() {\r\n      var order = {\r\n        name: this.buildOrderName(),\r\n        dateCreated: new Date(),\r\n        status: \"OPEN\"\r\n      };\r\n      order = await this.addOrUpdateOrder(order);\r\n      await this.increaseOrderCount();\r\n      this.loadOrders();\r\n\r\n      // var newOrder = this.$fb.orderCollection.doc();\r\n      // order.id = newOrder.id;\r\n      // newOrder.set(order).then(() => {\r\n      //   this.$fb.orderCollection\r\n      //     .doc(order.id)\r\n      //     .get()\r\n      //     .then(doc => {\r\n      //       this.orders.unshift(doc.data());\r\n      //       //update order counter\r\n      //       this.increaseOrderCount();\r\n      //     });\r\n      // });\r\n    },\r\n    buildOrderName: function() {\r\n      var orderCount = (this.orderCount || 0) + 1;\r\n      if ((orderCount + \"\").endsWith(\"1\")) return orderCount + \"st Order\";\r\n      if ((orderCount + \"\").endsWith(\"2\")) return orderCount + \"nd Order\";\r\n      if ((orderCount + \"\").endsWith(\"3\")) return orderCount + \"rd Order\";\r\n      return orderCount + \"th Order\";\r\n    },\r\n    orderClicked: function(ord) {\r\n      this.selectedOrder = ord;\r\n      this.$router.push({ name: \"OrderStatistic\", params: { id: ord.id } });\r\n    },\r\n    deleteOrder: function(ord) {\r\n      var self = this;\r\n      this.$fb.orderCollection\r\n        .doc(ord.id)\r\n        .delete()\r\n        .then(() => {\r\n          var index = self.orders.findIndex(x => x.id == ord.id);\r\n          if (index > -1) self.orders.splice(index, 1);\r\n\r\n          this.decreaseOrderCount();\r\n        });\r\n    },\r\n    sumQuantity: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce((sum, x) => (sum += x.quantity), 0);\r\n    },\r\n    sumTotal: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce(\r\n        (sum, x) => (sum += x.quantity * parseFloat(x.rndPrice || x.product.rndPrice)),\r\n        0\r\n      );\r\n    },\r\n    buildRoute: function(item) {\r\n      var { origin } = location;\r\n      return this.$router.resolve({\r\n        name: \"OrderDetail\",\r\n        params: { id: item.id }\r\n      }).href;\r\n    },\r\n    loadMore: function(e) {\r\n      this.loadOrders();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orders.vue?vue&type=template&id=7f9920cf&\"\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('b-link',{on:{\"click\":_vm.goToOrderList}},[_c('i',{staticClass:\"fa fa-server\"}),_vm._v(\" Order: \")]),_c('strong',[_vm._v(_vm._s(_vm.order.name))]),_c('div',{staticClass:\"pull-right\"},[_c('json-excel',{ref:\"printDeliverySheetRef\",attrs:{\"data\":_vm.printData,\"fields\":_vm.jsonFields,\"worksheet\":\"My Worksheet\",\"name\":\"filename.xls\",\"trigger-type\":\"Manual\"}},[_c('b-link',{on:{\"click\":_vm.printDeliverySheet}},[_vm._v(\"Print Delivery Sheet\")])],1),_c('b-link',{staticClass:\"mr-1 ml-1\"},[_vm._v(\"|\")]),_c('b-link',{staticClass:\"mr-1\",on:{\"click\":_vm.goToShipmentPage}},[_vm._v(\"Shipment Page |\")]),_c('b-link',{staticClass:\"mr-1\",on:{\"click\":_vm.goToCollectionPage}},[_vm._v(\"Collection Page |\")]),_c('b-link',{on:{\"click\":_vm.addNewOrderItem}},[_vm._v(\"Add New Item\")])],1)],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('div',{staticClass:\"order-item\"},[_c('b-table',{attrs:{\"foot-clone\":\"\",\"responsive\":\"sm\",\"items\":_vm.order.items,\"fields\":_vm.fields,\"small\":true,\"hover\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.orderItemClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index +1))]}},{key:\"cell(product.name)\",fn:function(data){return [_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.showProductDetailModal(data.item)}}},[_vm._v(_vm._s(data.value))]),(_vm.getCWPruductId(data.item.product))?_c('b-link',{attrs:{\"href\":_vm.appSettings.cwBuyProductUrl.replace('{id}', _vm.getCWPruductId(data.item.product)),\"target\":\"_blank\"}},[_vm._v(\"[Buy CW]\")]):_vm._e(),(data.item.distribution)?_c('span',{staticClass:\"ml-2\"},[_c('i',[_vm._v(\"From Stock\")])]):_vm._e(),_c('br'),_c('show-supplier-prices',{attrs:{\"product\":data.item.product}})]}},{key:\"cell(price)\",fn:function(data){return [(data.item.rndPrice != data.item.product.rndPrice)?_c('del',{staticStyle:{\"color\":\"darkgrey\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.product.rndPrice,_vm.vndConfig)))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(data.item.rndPrice,_vm.vndConfig))+\" \")]}},{key:\"cell(total)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.calculateTotalOrderItem(data.item),_vm.vndConfig)))]}},{key:\"cell(collectedQuantity)\",fn:function(data){return [_c('number-input',{attrs:{\"min\":0,\"max\":data.item.quantity,\"inline\":\"\",\"controls\":\"\",\"center\":\"\",\"size\":\"sm\",\"disabled\":!!data.item.distribution},on:{\"change\":function($event){return _vm.collectedQuantityChanged(data.item, $event)}},model:{value:(data.item.collectedQuantity),callback:function ($$v) {_vm.$set(data.item, \"collectedQuantity\", $$v)},expression:\"data.item.collectedQuantity\"}})]}},{key:\"cell(collected)\",fn:function(data){return [_c('b-form-checkbox',{attrs:{\"disabled\":!!data.item.distribution},on:{\"change\":function($event){return _vm.collectedChanged($event, data.item)}},model:{value:(data.item.collected),callback:function ($$v) {_vm.$set(data.item, \"collected\", $$v)},expression:\"data.item.collected\"}})]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editOrderItem(data.item)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteOrderItem(data.item)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])]}},{key:\"foot()\",fn:function(data){return undefined}},{key:\"foot(quantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumQuantity))]}},{key:\"foot(total)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumTotal,_vm.vndConfig)))]}},{key:\"foot(collectedQuantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumCollectedQuantity))]}}])})],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('b-table',{attrs:{\"foot-clone\":\"\",\"responsive\":\"sm\",\"items\":_vm.order.items,\"fields\":_vm.mobileFields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},on:{\"row-clicked\":_vm.orderItemClicked},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_c('div',[_c('strong',[_vm._v(\" \"+_vm._s(data.index +1)+\". \"+_vm._s(data.item.customer.name)+\" \")])]),_c('div',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.showProductDetailModal(data.item)}}},[_vm._v(\" \"+_vm._s(data.item.product.name)+\" \"),(!data.item.product.buyPrice || data.item.product.buyPrice == 0)?_c('small',[_c('i',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"missing buy price\")])]):_vm._e()]),(data.item.product.bvSalePricePick)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"BV Sale\")]):_vm._e(),(data.item.product.cwSalePricePick)?_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"CW Sale\")]):_vm._e(),_vm._v(\" \"),(_vm.getCWPruductId(data.item.product))?_c('b-link',{attrs:{\"href\":_vm.appSettings.cwBuyProductUrl.replace('{id}', _vm.getCWPruductId(data.item.product)),\"target\":\"_blank\"}},[_vm._v(\"[Buy CW]\")]):_vm._e()],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6\"},[_c('small',[(data.item.rndPrice != data.item.product.rndPrice)?_c('del',{staticStyle:{\"color\":\"darkgrey\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.product.rndPrice,_vm.vndConfig)))]):_vm._e()]),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(data.item.rndPrice,_vm.vndConfig))+\" \")]),_c('div',{staticClass:\"col-2\"},[_vm._v(_vm._s(data.item.quantity))]),_c('div',{staticClass:\"col-4\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.calculateTotalOrderItem(data.item),_vm.vndConfig)))])]),_c('div',{staticClass:\"row\",staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"col-6\"},[_c('div',{staticClass:\"order-detail-mobile-collected-qty\"},[_c('number-input',{attrs:{\"min\":0,\"max\":data.item.quantity,\"inline\":\"\",\"controls\":\"\",\"center\":\"\",\"size\":\"sm\"},on:{\"change\":function($event){return _vm.collectedQuantityChanged(data.item, $event)}},model:{value:(data.item.collectedQuantity),callback:function ($$v) {_vm.$set(data.item, \"collectedQuantity\", $$v)},expression:\"data.item.collectedQuantity\"}})],1),_c('div',{staticClass:\"order-detail-mobile-collected-all\"},[_c('b-form-checkbox',{on:{\"change\":function($event){return _vm.collectedChanged($event, data.item)}},model:{value:(data.item.collected),callback:function ($$v) {_vm.$set(data.item, \"collected\", $$v)},expression:\"data.item.collected\"}})],1)]),_c('div',{staticClass:\"col-6 pull-right\"},[_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editOrderItem(data.item)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteOrderItem(data.item)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])],1)])]}},{key:\"foot()\",fn:function(data){return [_c('hr'),_c('b-row',[_c('b-col',[_vm._v(\"Quantity\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.sumQuantity))])],1),_c('b-row',[_c('b-col',[_vm._v(\"Total\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumTotal,_vm.vndConfig)))])],1),_c('b-row',[_c('b-col',[_vm._v(\"Collected Qty\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.sumCollectedQuantity))])],1)]}}])})]},proxy:true}])})],1)],1)],1),_c('product-detail',{ref:\"productDetail\",on:{\"product-saved\":_vm.productSaved}}),_c('order-detail-edit-item',{ref:\"editItemModal\",attrs:{\"id\":\"editItem\",\"item\":_vm.selectedOrderItem},on:{\"save-order-item\":_vm.saveOrderItem}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.modalId,\"title\":_vm.modalTitle,\"size\":\"lg\"},on:{\"ok\":_vm.saveOrderItem}},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Customer\")]),_c('customer-suggestion-dropdown',{model:{value:(_vm.orderItem.customer),callback:function ($$v) {_vm.$set(_vm.orderItem, \"customer\", $$v)},expression:\"orderItem.customer\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Product\")]),_c('product-suggestion-dropdown',{on:{\"item-selected\":_vm.sugProductsItemSelected},model:{value:(_vm.orderItem.product),callback:function ($$v) {_vm.$set(_vm.orderItem, \"product\", $$v)},expression:\"orderItem.product\"}})],1)],1)],1),(_vm.inventoryItems.length > 0)?_c('b-row',[_c('b-col',[_c('b-form-group',{attrs:{\"label\":\"Inventory (just showing, not be used at this time)\"}},_vm._l((_vm.inventoryItems),function(item,index){return _c('b-form-checkbox',{key:index,attrs:{\"name\":\"some-radios\",\"value\":item,\"disabled\":item.quantity == 0},on:{\"change\":function($event){return _vm.selectedInventoryItemChanged($event, item)}},model:{value:(_vm.selectedInventoryItem),callback:function ($$v) {_vm.selectedInventoryItem=$$v},expression:\"selectedInventoryItem\"}},[_vm._v(_vm._s(item.product.name)+\" - Price: \"+_vm._s(_vm._f(\"currency\")(item.product.rndPrice,_vm.vndConfig))+\" - Qty: \"+_vm._s(item.quantity))])}),1)],1)],1):_vm._e(),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"4\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Quantity\")]),_c('number-input',{attrs:{\"min\":1,\"max\":_vm.selectedInventoryItem ? _vm.selectedInventoryItem.quantity : 999,\"inline\":\"\",\"controls\":\"\",\"center\":\"\"},model:{value:(_vm.orderItem.quantity),callback:function ($$v) {_vm.$set(_vm.orderItem, \"quantity\", $$v)},expression:\"orderItem.quantity\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"8\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Price - \"+_vm._s(_vm._f(\"currency\")(_vm.orderItem.rndPrice,_vm.vndConfig)))]),_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter rnd price\"},model:{value:(_vm.orderItem.rndPrice),callback:function ($$v) {_vm.$set(_vm.orderItem, \"rndPrice\", $$v)},expression:\"orderItem.rndPrice\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('vue-suggestion',{attrs:{\"items\":_vm.sugCustomers,\"item-template\":_vm.customerSugTemplate,\"setLabel\":_vm.setLabel},on:{\"focus\":_vm.sugCustomersFocused,\"onInputChange\":_vm.sugCustomersInputChanged,\"onItemSelected\":_vm.sugCustomersItemSelected,\"scrollEnd\":_vm.loadMoreSugCustomers},model:{value:(_vm.customer),callback:function ($$v) {_vm.customer=$$v},expression:\"customer\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('text-highlight',{attrs:{\"queries\":_vm.searchTextArray}},[_vm._v(_vm._s(_vm.item.name))]),_vm._v(\" - \"+_vm._s(_vm.item.phone || 'Not Provided')+\" \")],1),_c('span',[_vm._v(_vm._s(_vm.address))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <text-highlight :queries=\"searchTextArray\">{{item.name}}</text-highlight>\r\n      - {{item.phone || 'Not Provided'}}\r\n    </div>\r\n    <span>{{address}}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TextHighlight from \"vue-text-highlight\";\r\nexport default {\r\n  components: { TextHighlight },\r\n  props: {\r\n    item: { required: true },\r\n    searchText: \"\"\r\n  },\r\n  computed: {\r\n    searchTextArray: function() {\r\n      if (!this.searchText) return [];\r\n      return this.searchText.split(\" \").filter(x => x != \"\");\r\n    },\r\n    address: function() {\r\n      return (this.item.address || \"Not Provided\").substring(0, 100);\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerSugTemplate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerSugTemplate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customerSugTemplate.vue?vue&type=template&id=33edc4c4&\"\nimport script from \"./customerSugTemplate.vue?vue&type=script&lang=js&\"\nexport * from \"./customerSugTemplate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerSuggestionDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerSuggestionDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerSuggestionDropdown.vue?vue&type=template&id=273b0516&\"\nimport script from \"./CustomerSuggestionDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerSuggestionDropdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <b-modal :id=\"modalId\" :title=\"modalTitle\" @ok=\"saveOrderItem\" size=\"lg\">\r\n    <b-row>\r\n      <b-col sm=\"4\">\r\n        <b-form-group>\r\n          <label>Customer</label>\r\n          <customer-suggestion-dropdown v-model=\"orderItem.customer\"></customer-suggestion-dropdown>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"8\">\r\n        <b-form-group>\r\n          <label>Product</label>\r\n          <product-suggestion-dropdown\r\n            v-model=\"orderItem.product\"\r\n            @item-selected=\"sugProductsItemSelected\"\r\n          ></product-suggestion-dropdown>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row v-if=\"inventoryItems.length > 0\">\r\n      <b-col>\r\n        <b-form-group label=\"Inventory (just showing, not be used at this time)\">\r\n          <b-form-checkbox\r\n            v-model=\"selectedInventoryItem\"\r\n            name=\"some-radios\"\r\n            :value=\"item\"\r\n            v-for=\"item, index in inventoryItems\"\r\n            :key=\"index\"\r\n            @change=\"selectedInventoryItemChanged($event, item)\"\r\n            :disabled=\"item.quantity == 0\"\r\n          >{{item.product.name}} - Price: {{item.product.rndPrice | currency(vndConfig)}} - Qty: {{item.quantity}}</b-form-checkbox>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col sm=\"4\">\r\n        <b-form-group>\r\n          <label>Quantity</label>\r\n          <number-input\r\n            v-model=\"orderItem.quantity\"\r\n            :min=\"1\"\r\n            :max=\"selectedInventoryItem ? selectedInventoryItem.quantity : 999\"\r\n            inline\r\n            controls\r\n            center\r\n          ></number-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"8\">\r\n        <b-form-group>\r\n          <label>Price - {{orderItem.rndPrice | currency(vndConfig)}}</label>\r\n          <b-form-input type=\"text\" placeholder=\"Enter rnd price\" v-model=\"orderItem.rndPrice\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport numberInput from \"../shared/numberInput\";\r\nimport ProductSuggestionDropdown from \"./ProductSuggestionDropdown\";\r\nimport CustomerSuggestionDropdown from \"./CustomerSuggestionDropdown\";\r\n\r\nvar loadProductTimeout, loadCustomerTimeout;\r\nexport default {\r\n  name: \"OrderDetailEdit\",\r\n  props: [\"id\"],\r\n  components: { numberInput, ProductSuggestionDropdown, CustomerSuggestionDropdown },\r\n  data() {\r\n    return {\r\n      orderItem: {},\r\n      modalTitle: \"\",\r\n      modalId: \"\",\r\n      inventoryItems: [],\r\n      selectedInventoryItem: undefined\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.modalId = this.id || \"editItemModal\";\r\n  },\r\n  watch: {\r\n    selectedInventoryItem: val => console.log(val)\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    open: async function(orderItem) {\r\n      this.orderItem = { ...orderItem };\r\n      this.modalTitle =\r\n        this.orderItem && this.orderItem.customer.name ? \"Edit Order Item\" : \"Add Order Item\";\r\n\r\n      this.inventoryItems = [];\r\n      this.selectedInventoryItem = undefined;\r\n\r\n      if (this.orderItem.distribution) {\r\n        await this.findProductInInventory(this.orderItem.product);\r\n        if (this.inventoryItems.length > 0) {\r\n          this.selectedInventoryItem = _.find(\r\n            this.inventoryItems,\r\n            x => x.product.id == this.orderItem.product.id\r\n          );\r\n        }\r\n      }\r\n      this.$nextTick(() => this.$bvModal.show(this.modalId));\r\n    },\r\n    sugProductsItemSelected: function(item) {\r\n      if (this.orderItem.product.id == item.id) {\r\n        this.orderItem.rndPrice = this.orderItem.rndPrice || item.rndPrice;\r\n      } else {\r\n        this.orderItem.rndPrice = item.rndPrice;\r\n      }\r\n\r\n      this.findProductInInventory(item);\r\n    },\r\n    findProductInInventory: function(prod) {\r\n      if (!prod.id) return;\r\n      this.inventoryItems = [];\r\n      this.selectedInventoryItem = undefined;\r\n      return this.$fb.inventoryCollection\r\n        .where(\"product.id\", \"==\", prod.id)\r\n        .get()\r\n        .then(ss => (ss.empty ? [] : ss.docs.map(d => d.data())))\r\n        .then(items => (this.inventoryItems = items));\r\n    },\r\n    setLabel: function(item) {\r\n      return item.name;\r\n    },\r\n    saveOrderItem: function() {\r\n      this.$emit(\"save-order-item\", this.orderItem, this.selectedInventoryItem);\r\n      this.$bvModal.hide(this.id);\r\n    },\r\n    selectedInventoryItemChanged: function(checked, item) {\r\n      if (checked) {\r\n        if (this.orderItem.quantity > item.quantity) this.orderItem.quantity = item.quantity;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailEditItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailEditItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderDetailEditItem.vue?vue&type=template&id=0d257b12&\"\nimport script from \"./orderDetailEditItem.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetailEditItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderDetail.vue?vue&type=template&id=19e661d0&scoped=true&\"\nimport script from \"./orderDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderDetail.vue?vue&type=style&index=0&id=19e661d0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19e661d0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('b-link',{on:{\"click\":_vm.goToOrderList}},[_c('i',{staticClass:\"fa fa-server\"}),_vm._v(\" Order: \")]),_c('strong',[_vm._v(_vm._s(_vm.order.name))]),_c('div',{staticClass:\"pull-right\"},[_c('b-link',{on:{\"click\":_vm.goToOrderDetailPage}},[_vm._v(\"Order Detail Page\")])],1)],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('div',[_c('b-table',{attrs:{\"foot-clone\":\"\",\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.fields,\"small\":true,\"hover\":true,\"selectable\":\"\",\"select-mode\":\"single\"},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index +1))]}},{key:\"cell(total)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.calculateTotalOrderItem(data.item),_vm.vndConfig)))]}},{key:\"cell(name)\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.name)+\" \"),(_vm.getCWPruductId(data.item))?_c('b-link',{attrs:{\"href\":_vm.appSettings.cwBuyProductUrl.replace('{id}', _vm.getCWPruductId(data.item)),\"target\":\"_blank\"}},[_vm._v(\"[Buy CW]\")]):_vm._e(),_c('br'),_c('show-supplier-prices',{attrs:{\"product\":data.item.product}})]}},{key:\"cell(collectedQuantity)\",fn:function(data){return [_c('number-input',{attrs:{\"min\":0,\"max\":data.item.quantity,\"inline\":\"\",\"controls\":\"\",\"center\":\"\",\"size\":\"sm\"},on:{\"change\":function($event){return _vm.collectedQuantityChanged(data.item, $event)}},model:{value:(data.item.collectedQuantity),callback:function ($$v) {_vm.$set(data.item, \"collectedQuantity\", $$v)},expression:\"data.item.collectedQuantity\"}})]}},{key:\"cell(collected)\",fn:function(data){return [_c('b-form-checkbox',{on:{\"change\":function($event){return _vm.collectedChanged($event, data.item)}},model:{value:(data.item.collected),callback:function ($$v) {_vm.$set(data.item, \"collected\", $$v)},expression:\"data.item.collected\"}})]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteOrderItem(data.item)}}},[_c('i',{staticClass:\"fa fa-remove\"}),_vm._v(\" Delete \")])]}},{key:\"foot()\",fn:function(data){return undefined}},{key:\"foot(quantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumQuantity))]}},{key:\"foot(collectedQuantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumCollectedQuantity))]}}])})],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('b-table',{attrs:{\"foot-clone\":\"\",\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.mobileFields,\"small\":true},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_c('b-row',[_c('b-col',[_c('strong',[_vm._v(_vm._s(data.index +1)+\". \"+_vm._s(data.item.name))]),(_vm.getCWPruductId(data.item))?_c('b-link',{staticClass:\"ml-1\",attrs:{\"href\":_vm.appSettings.cwBuyProductUrl.replace('{id}', _vm.getCWPruductId(data.item)),\"target\":\"_blank\"}},[_vm._v(\"[Buy CW]\")]):_vm._e(),_c('br'),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-3\",staticStyle:{\"overflow\":\"hidden\"}},[_c('img',{staticStyle:{\"margin-left\":\"-15px\"},attrs:{\"src\":data.item.product.thumbnail,\"width\":\"100px\",\"height\":\"100px\"}})]),_c('div',{staticClass:\"col-9\"},[_c('b-row',[_c('b-col',[_c('show-supplier-prices',{attrs:{\"product\":data.item.product}})],1)],1),_c('b-row',[_c('b-col',[_vm._v(\" Quantity: \"),_c('strong',[_vm._v(_vm._s(data.item.quantity))]),_vm._v(\" (\"+_vm._s(data.item.customerNameQty)+\") \")])],1),_c('b-row',{staticClass:\"mt-2\"},[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('number-input',{attrs:{\"min\":0,\"max\":data.item.quantity,\"inline\":\"\",\"controls\":\"\",\"center\":\"\",\"size\":\"sm\"},on:{\"change\":function($event){return _vm.collectedQuantityChanged(data.item, $event)}},model:{value:(data.item.collectedQuantity),callback:function ($$v) {_vm.$set(data.item, \"collectedQuantity\", $$v)},expression:\"data.item.collectedQuantity\"}})],1),_c('b-col',{staticClass:\"text-center\",staticStyle:{\"padding-top\":\"5px\"},attrs:{\"cols\":\"4\"}},[_c('b-form-checkbox',{on:{\"change\":function($event){return _vm.collectedChanged($event, data.item)}},model:{value:(data.item.collected),callback:function ($$v) {_vm.$set(data.item, \"collected\", $$v)},expression:\"data.item.collected\"}})],1)],1)],1)]),_c('br')],1)],1)]}},{key:\"foot()\",fn:function(data){return [_c('hr'),_c('b-row',[_c('b-col',[_vm._v(\"Quantity\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.sumQuantity))])],1),_c('b-row',[_c('b-col',[_vm._v(\"Collected Qty\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.sumCollectedQuantity))])],1)]}}])})]},proxy:true}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailCollection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailCollection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderDetailCollection.vue?vue&type=template&id=4575b8b6&\"\nimport script from \"./orderDetailCollection.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetailCollection.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('b-link',{on:{\"click\":_vm.goToOrderList}},[_c('i',{staticClass:\"fa fa-server\"}),_vm._v(\" Order: \")]),_c('strong',[_vm._v(_vm._s(_vm.order.name))]),(_vm.isAdmin)?_c('div',{staticClass:\"pull-right\"},[_c('b-link',{staticClass:\"mr-1\",on:{\"click\":_vm.updateCustomerInformation}},[_vm._v(\"Update Customer Information |\")]),_c('b-link',{on:{\"click\":_vm.goToOrderDetailPage}},[_vm._v(\"Order Detail Page\")])],1):_vm._e()],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('div',[_c('b-table',{attrs:{\"foot-clone\":\"\",\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.fields,\"small\":true,\"hover\":true,\"selectable\":\"\",\"select-mode\":\"single\"},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index +1))]}},{key:\"cell(customerName)\",fn:function(data){return [_c('b-link',{on:{\"click\":function($event){return _vm.editCustomer(data)}}},[_vm._v(_vm._s(data.value))]),(!data.item.customerId)?_c('b-link',{staticClass:\"ml-1\",on:{\"click\":function($event){return _vm.updateCustomer(data.item)}}},[_vm._v(\"[Update Info]\")]):_vm._e(),_c('b-link',{staticClass:\"ml-1\",on:{\"click\":function($event){return _vm.goToCustomerOrder(data.item)}}},[_vm._v(\"[Orders]\")])]}},{key:\"cell(products)\",fn:function(data){return [_c('table',{staticClass:\"table table-borderless product-table\"},_vm._l((data.item.products),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.productName))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}},[_vm._v(_vm._s(item.quantity))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"25%\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total,_vm.vndConfig)))])])}),0)]}},{key:\"cell(productPrice)\",fn:function(data){return _vm._l((data.item.products),function(item,index){return _c('div',{key:index},[_c('span',[_vm._v(_vm._s(_vm._f(\"currency\")(item.total,_vm.vndConfig)))])])})}},{key:\"cell(quantity)\",fn:function(data){return [_c('strong',[_vm._v(_vm._s(data.value))])]}},{key:\"cell(total)\",fn:function(data){return [_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(data.value,_vm.vndConfig)))])]}},{key:\"cell(purchased)\",fn:function(data){return [_c('b-form-checkbox',{on:{\"change\":function($event){return _vm.purchasedChanged($event, data)}},model:{value:(data.item.purchased),callback:function ($$v) {_vm.$set(data.item, \"purchased\", $$v)},expression:\"data.item.purchased\"}})]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editShipmentItem(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")])]}},{key:\"foot()\",fn:function(data){return undefined}},{key:\"foot(quantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumQuantity))]}},{key:\"foot(total)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumTotal,_vm.vndConfig)))]}},{key:\"foot(purchased)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumPurchased,_vm.vndConfig)))]}}])})],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('b-table',{attrs:{\"foot-clone\":\"\",\"responsive\":\"sm\",\"items\":_vm.items,\"fields\":_vm.mobileFields,\"small\":true,\"hover\":true},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_c('b-row',[_c('b-col',[_c('strong',[_vm._v(_vm._s(data.index + 1)+\". \"+_vm._s(data.item.customerName))]),_c('b-link',{staticClass:\"ml-1\",on:{\"click\":function($event){return _vm.editCustomer(data)}}},[_vm._v(\"[Edit]\")]),(!data.item.customerId)?_c('b-link',{staticClass:\"ml-1\",on:{\"click\":function($event){return _vm.updateCustomer(data.item)}}},[_vm._v(\"[Update Info]\")]):_vm._e()],1)],1),_c('b-row',[_c('b-col',[_c('table',{staticClass:\"table table-borderless product-table\"},[_vm._l((data.item.products),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.productName))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}},[_vm._v(_vm._s(item.quantity))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total,_vm.vndConfig)))])])}),_c('tr',{staticStyle:{\"border-top\":\"1px dashed #e4e7ea !important\"}},[_c('td',[_vm._v(\"Total\")]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}},[_vm._v(_vm._s(data.item.quantity))]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"30%\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.total,_vm.vndConfig)))])]),_c('tr',[_c('td',[_vm._v(\"Purchased\")]),_c('td',{staticClass:\"text-right\",staticStyle:{\"width\":\"5%\"}}),_c('td',{staticClass:\"text-center\",staticStyle:{\"width\":\"30%\"}},[_c('b-form-checkbox',{on:{\"change\":function($event){return _vm.purchasedChanged($event, data)}},model:{value:(data.item.purchased),callback:function ($$v) {_vm.$set(data.item, \"purchased\", $$v)},expression:\"data.item.purchased\"}})],1)])],2)])],1),_c('fieldset',{staticClass:\"my-fieldset\",staticStyle:{\"margin-top\":\"10px\"}},[_c('b-row',[_c('b-col',[_vm._v(\" Note: \"+_vm._s(data.item.note)+\" \"),_c('br'),_vm._v(\" Address: \"+_vm._s(data.item.address)+\" \"),_c('br'),_vm._v(\" Phone: \"+_vm._s(data.item.phone)+\" \"),_c('br'),_c('b-link',{on:{\"click\":function($event){return _vm.editShipmentItem(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")])],1)],1)],1)]}},{key:\"foot()\",fn:function(data){return [_c('hr'),_c('b-row',[_c('b-col',[_vm._v(\"Quantity\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.sumQuantity))])],1),_c('b-row',[_c('b-col',[_vm._v(\"Total\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumTotal,_vm.vndConfig)))])],1),_c('b-row',[_c('b-col',[_vm._v(\"Purchased\")]),_c('b-col',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumPurchased,_vm.vndConfig)))])],1)]}}])})]},proxy:true}])})],1)],1)],1),_c('order-detail-shipment-edit-item',{attrs:{\"id\":\"shipmentEditItem\",\"item\":_vm.selectedShipmentItem},on:{\"saveShipmentItem\":_vm.saveShipmentItem}}),_c('customer-edit',{attrs:{\"id\":\"customerEdit\",\"item\":this.selectedCustomer}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.id,\"title\":\"Shipment Item\",\"size\":\"lg\"},on:{\"ok\":_vm.saveShipmentItem}},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Note\")]),_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.shipmentItem.note),callback:function ($$v) {_vm.$set(_vm.shipmentItem, \"note\", $$v)},expression:\"shipmentItem.note\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Address\")]),_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.shipmentItem.address),callback:function ($$v) {_vm.$set(_vm.shipmentItem, \"address\", $$v)},expression:\"shipmentItem.address\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Phone\")]),_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.shipmentItem.phone),callback:function ($$v) {_vm.$set(_vm.shipmentItem, \"phone\", $$v)},expression:\"shipmentItem.phone\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal :id=\"id\" title=\"Shipment Item\" @ok=\"saveShipmentItem\" size=\"lg\">\r\n    <b-row>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Note</label>\r\n          <b-form-input type=\"text\" v-model=\"shipmentItem.note\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Address</label>\r\n          <b-form-input type=\"text\" v-model=\"shipmentItem.address\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Phone</label>\r\n          <b-form-input type=\"text\" v-model=\"shipmentItem.phone\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"OrderDetail\",\r\n  props: [\"id\", \"item\"],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      shipmentItem: {}\r\n    };\r\n  },\r\n  watch: {\r\n    item: function(newValue) {\r\n      this.shipmentItem = newValue || {};\r\n    }\r\n  },\r\n  mounted: function() {},\r\n  computed: {},\r\n  methods: {\r\n    saveShipmentItem: function() {\r\n      this.$emit(\"saveShipmentItem\", this.shipmentItem);\r\n      this.$bvModal.hide(this.id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailShipmentEditItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailShipmentEditItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderDetailShipmentEditItem.vue?vue&type=template&id=7c39920c&scoped=true&\"\nimport script from \"./orderDetailShipmentEditItem.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetailShipmentEditItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c39920c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.id,\"title\":\"Customer Detail\",\"size\":\"lg\"},on:{\"ok\":_vm.saveCustomer}},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Name\")]),_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customer.name),callback:function ($$v) {_vm.$set(_vm.customer, \"name\", $$v)},expression:\"customer.name\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Address\")]),_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customer.address),callback:function ($$v) {_vm.$set(_vm.customer, \"address\", $$v)},expression:\"customer.address\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"12\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Phone\")]),_c('b-form-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.customer.phone),callback:function ($$v) {_vm.$set(_vm.customer, \"phone\", $$v)},expression:\"customer.phone\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal :id=\"id\" title=\"Customer Detail\" @ok=\"saveCustomer\" size=\"lg\">\r\n    <b-row>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Name</label>\r\n          <b-form-input type=\"text\" v-model=\"customer.name\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Address</label>\r\n          <b-form-input type=\"text\" v-model=\"customer.address\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n      <b-col sm=\"12\">\r\n        <b-form-group>\r\n          <label>Phone</label>\r\n          <b-form-input type=\"text\" v-model=\"customer.phone\"></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n  </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport { generateSubString } from \"@/shared/utils\";\r\nexport default {\r\n  name: \"CustomerEdit\",\r\n  props: [\"id\", \"item\"],\r\n  components: {},\r\n  data() {\r\n    return {\r\n      customer: {}\r\n    };\r\n  },\r\n  watch: {\r\n    item: function(newValue) {\r\n      this.customer = newValue || {};\r\n      if (this.customer.id) {\r\n        this.$fb.customerCollection\r\n          .doc(this.customer.id)\r\n          .get()\r\n          .then(snapshot => (this.customer = snapshot.data()));\r\n      }\r\n    }\r\n  },\r\n  mounted: function() {},\r\n  computed: {},\r\n  methods: {\r\n    saveCustomer: function() {\r\n      this.customer.nameSearch = generateSubString(this.customer.name);\r\n      this.customer.version = (this.customer.version || 0) + 1;\r\n      this.$fb.customerCollection\r\n        .doc(this.customer.id)\r\n        .set(this.customer)\r\n        .then(() => {\r\n          this.$emit(\"customerSaved\", this.customer);\r\n          this.$bvModal.hide(this.id);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customerEdit.vue?vue&type=template&id=2daaf116&scoped=true&\"\nimport script from \"./customerEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./customerEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2daaf116\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailShipment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetailShipment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderDetailShipment.vue?vue&type=template&id=3669942c&scoped=true&\"\nimport script from \"./orderDetailShipment.vue?vue&type=script&lang=js&\"\nexport * from \"./orderDetailShipment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderDetailShipment.vue?vue&type=style&index=0&id=3669942c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3669942c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"cui-user icons font-lg\"}),_vm._v(\" \"+_vm._s(_vm.order.name)+\" Statistic \")]),_c('b-row',[_c('b-col',{attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('table',{staticClass:\"table table-response\"},[_c('tr',{staticClass:\"no-border-top\"},[_c('td',[_vm._v(\"Buying\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalBuying,_vm.audConfig)))])]),_c('tr',[_c('td',[_vm._v(\" Ship VN Fee \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.changeShipFee}},[_vm._v(\"[Change]\")])]),(!_vm.isChangingShipFee)?_c('td',{staticClass:\"text-right\"},[_vm._v(\"(Est: \"+_vm._s(_vm._f(\"currency\")(_vm.estShipPrice,_vm.audConfig))+\") \"+_vm._s(_vm._f(\"currency\")(_vm.order.shipFee,_vm.audConfig)))]):_c('td',{staticClass:\"text-right\"},[_c('b-input-group',[_c('b-form-input',{model:{value:(_vm.order.shipFee),callback:function ($$v) {_vm.$set(_vm.order, \"shipFee\", $$v)},expression:\"order.shipFee\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.saveShipFee}},[_vm._v(\"Save\")])],1)],1)],1)]),_c('tr',[_c('td',[_vm._v(\"Total\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.total,_vm.audConfig)))])]),_c('tr',[_c('td',[_vm._v(\" Current Rate \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.changeCurrentRate}},[_vm._v(\"[Change]\")])]),(!_vm.isChangingCurrentRate)?_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.currentRate,_vm.vndConfig)))]):_vm._e(),(_vm.isChangingCurrentRate)?_c('td',{staticClass:\"text-right\"},[_c('b-input-group',[_c('b-form-input',{model:{value:(_vm.order.currentRate),callback:function ($$v) {_vm.$set(_vm.order, \"currentRate\", $$v)},expression:\"order.currentRate\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.saveCurrentRate}},[_vm._v(\"Save\")])],1)],1)],1):_vm._e()]),_c('tr',[_c('td',[_vm._v(\"Total VND\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.totalVND,_vm.vndConfig)))])]),_c('tr',[_c('td',[_vm._v(\"Profit\")]),_c('td',{staticClass:\"text-right\"},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.profit,_vm.vndConfig)))])])])])]),_c('b-col',{attrs:{\"sm\":\"12\",\"md\":\"6\"}},[_c('b-form-group',[_c('label',[_vm._v(\"Note\")]),_c('b-form-textarea',{attrs:{\"placeholder\":\"Enter something...\",\"rows\":\"6\"},model:{value:(_vm.order.note),callback:function ($$v) {_vm.$set(_vm.order, \"note\", $$v)},expression:\"order.note\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":_vm.saveOrder}},[_vm._v(\"Save\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-card>\r\n      <div slot=\"header\">\r\n        <i class=\"cui-user icons font-lg\"></i>\r\n        {{order.name}} Statistic\r\n      </div>\r\n      <b-row>\r\n        <b-col sm=\"12\" md=\"6\">\r\n          <table class=\"table table-response\">\r\n            <tr class=\"no-border-top\">\r\n              <td>Buying</td>\r\n              <td class=\"text-right\">{{totalBuying | currency(audConfig)}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                Ship VN Fee\r\n                <a href=\"javascript:void(0)\" @click=\"changeShipFee\">[Change]</a>\r\n              </td>\r\n              <td\r\n                v-if=\"!isChangingShipFee\"\r\n                class=\"text-right\"\r\n              >(Est: {{estShipPrice | currency(audConfig)}}) {{order.shipFee | currency(audConfig)}}</td>\r\n              <td v-else class=\"text-right\">\r\n                <b-input-group>\r\n                  <b-form-input v-model=\"order.shipFee\"></b-form-input>\r\n                  <b-input-group-append>\r\n                    <b-button variant=\"outline-success\" @click=\"saveShipFee\">Save</b-button>\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Total</td>\r\n              <td class=\"text-right\">{{total | currency(audConfig)}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                Current Rate\r\n                <a href=\"javascript:void(0)\" @click=\"changeCurrentRate\">[Change]</a>\r\n              </td>\r\n              <td\r\n                v-if=\"!isChangingCurrentRate\"\r\n                class=\"text-right\"\r\n              >{{order.currentRate | currency(vndConfig)}}</td>\r\n              <td v-if=\"isChangingCurrentRate\" class=\"text-right\">\r\n                <b-input-group>\r\n                  <b-form-input v-model=\"order.currentRate\"></b-form-input>\r\n                  <b-input-group-append>\r\n                    <b-button variant=\"outline-success\" @click=\"saveCurrentRate\">Save</b-button>\r\n                  </b-input-group-append>\r\n                </b-input-group>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Total VND</td>\r\n              <td class=\"text-right\">{{totalVND | currency(vndConfig)}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Profit</td>\r\n              <td class=\"text-right\">\r\n                <strong>{{profit | currency(vndConfig)}}</strong>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </b-col>\r\n        <b-col sm=\"12\" md=\"6\">\r\n          <b-form-group>\r\n            <label>Note</label>\r\n            <b-form-textarea v-model=\"order.note\" placeholder=\"Enter something...\" rows=\"6\"></b-form-textarea>\r\n          </b-form-group>\r\n          <b-button type=\"submit\" size=\"sm\" variant=\"success\" @click=\"saveOrder\">Save</b-button>\r\n        </b-col>\r\n      </b-row>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\n\r\nexport default {\r\n  name: \"Orders\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      order: [],\r\n      counter: {},\r\n      totalBuying: 0,\r\n      total: 0,\r\n      totalVND: 0,\r\n      profit: 0,\r\n      estShipPrice: 0,\r\n      isChangingShipFee: false,\r\n      isChangingCurrentRate: false\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadOrder();\r\n  },\r\n  watch: {\r\n    \"$route.params.id\": function() {\r\n      this.loadOrder();\r\n    }\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    loadOrder: function() {\r\n      var id = this.$route.params.id;\r\n      this.$fb.orderCollection.doc(id).onSnapshot(snapshot => {\r\n        if (!snapshot.empty) {\r\n          this.order = snapshot.data();\r\n          this.calculateStatistic(this.order);\r\n        }\r\n      });\r\n    },\r\n    calculateStatistic: function(order) {\r\n      this.totalBuying = _.sumBy(\r\n        order.items,\r\n        x => parseFloat(x.product.buyPrice || 0) * parseFloat(x.quantity || 0)\r\n      );\r\n      this.estShipPrice = this.sumShippingFee(order);\r\n      this.total = this.totalBuying + ((order && order.shipFee) || this.estShipPrice);\r\n      this.totalVND = this.total * ((order && order.currentRate) || 16500);\r\n      this.profit = this.sumTotal(order) - this.totalVND;\r\n    },\r\n    sumQuantity: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce((sum, x) => (sum += x.quantity), 0);\r\n    },\r\n    sumTotal: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce(\r\n        (sum, x) => (sum += x.quantity * parseFloat(x.rndPrice || x.product.rndPrice)),\r\n        0\r\n      );\r\n    },\r\n    sumShippingFee: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce(\r\n        (sum, x) => (sum += x.quantity * parseFloat(x.product.shipPrice || 0)),\r\n        0\r\n      );\r\n    },\r\n    changeShipFee: function() {\r\n      this.isChangingShipFee = true;\r\n    },\r\n    changeCurrentRate: function() {\r\n      this.isChangingCurrentRate = true;\r\n    },\r\n    saveShipFee: function() {\r\n      this.order.shipFee = parseFloat(this.order.shipFee);\r\n      this.isChangingShipFee = false;\r\n      this.saveOrder();\r\n    },\r\n    saveCurrentRate: function() {\r\n      this.order.currentRate = parseFloat(this.order.currentRate);\r\n      this.saveOrder();\r\n    },\r\n    saveOrder: function() {\r\n      this.$fb.orderCollection\r\n        .doc(this.order.id)\r\n        .set(this.order)\r\n        .then(x => {\r\n          this.isChangingCurrentRate = false;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.no-border-top td {\r\n  border-top: none;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderStatistic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderStatistic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderStatistic.vue?vue&type=template&id=56844b20&scoped=true&\"\nimport script from \"./orderStatistic.vue?vue&type=script&lang=js&\"\nexport * from \"./orderStatistic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderStatistic.vue?vue&type=style&index=0&id=56844b20&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56844b20\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Calculate Price\")]),_c('b-form',[_c('b-form-group',{attrs:{\"label\":\"Price ($A)\",\"description\":'$1 = ' + _vm.exchangeRate}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter price\"},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Weight(g)\",\"description\":'1kg = ' + _vm.shipFeePerKg}},[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter weight\"},model:{value:(_vm.weight),callback:function ($$v) {_vm.weight=$$v},expression:\"weight\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Suggested Price (Price + 10% + Ship + 2)\"}},[_vm._v(\" (\"+_vm._s(_vm._f(\"currency\")(_vm.price,_vm.audConfig))+\" + \"+_vm._s(_vm._f(\"currency\")(_vm.price * 0.1,_vm.audConfig))+\" + \"+_vm._s(_vm._f(\"currency\")(_vm.shipFee,_vm.audConfig))+\" + \"+_vm._s(_vm._f(\"currency\")(2,_vm.audConfig))+\") * \"+_vm._s(_vm._f(\"currency\")(_vm.appSettings.vndExchangeRate,_vm.vndConfig))+\" \"),_c('strong',[_vm._v(\"= \"+_vm._s(_vm._f(\"currency\")(_vm.sugPrice,_vm.vndConfig)))])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-card>\r\n      <div slot=\"header\">Calculate Price</div>\r\n      <b-form>\r\n        <b-form-group label=\"Price ($A)\" :description=\"'$1 = ' + exchangeRate\">\r\n          <b-form-input type=\"text\" placeholder=\"Enter price\" v-model=\"price\"></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Weight(g)\" :description=\"'1kg = ' + shipFeePerKg\">\r\n          <b-form-input type=\"text\" placeholder=\"Enter weight\" v-model=\"weight\"></b-form-input>\r\n        </b-form-group>\r\n        <b-form-group label=\"Suggested Price (Price + 10% + Ship + 2)\">\r\n          ({{price | currency(audConfig)}} + {{price * 0.1 | currency(audConfig)}} + {{shipFee | currency(audConfig)}} + {{2 | currency(audConfig)}}) * {{appSettings.vndExchangeRate | currency(vndConfig)}}\r\n          <strong>= {{sugPrice | currency(vndConfig)}}</strong>\r\n        </b-form-group>\r\n      </b-form>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Utils\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      price: \"\",\r\n      weight: \"\",\r\n    };\r\n  },\r\n  mounted: function () {},\r\n  computed: {\r\n    exchangeRate: function () {\r\n      return this.$options.filters.currency(this.appSettings.vndExchangeRate, this.vndConfig);\r\n    },\r\n    shipFeePerKg: function () {\r\n      return this.$options.filters.currency(this.appSettings.shipPricePerKg, this.audConfig);\r\n    },\r\n    shipFee: function () {\r\n      var weight = parseFloat(this.weight || 0);\r\n      return ((weight * this.appSettings.shipPricePerKg) / 1000).roundTo(2);\r\n    },\r\n    sugPrice: function () {\r\n      var price = parseFloat(this.price || 0);\r\n      var weight = parseFloat(this.weight || 0);\r\n      return (price + price * 0.1 + this.shipFee + 2) * this.appSettings.vndExchangeRate;\r\n    },\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./utils.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./utils.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./utils.vue?vue&type=template&id=0a23e7ca&\"\nimport script from \"./utils.vue?vue&type=script&lang=js&\"\nexport * from \"./utils.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Suppliers\")]),_c('b-list-group',_vm._l((_vm.suppliers),function(item,index){return _c('b-list-group-item',{key:index},[(!item.isEditing)?[_c('b-row',[_c('b-col',[_vm._v(\" \"+_vm._s(item.code)+\" - \"+_vm._s(item.name)+\" \"),_c('span',{staticClass:\"pull-right\"},[_c('b-link',{on:{\"click\":function($event){return _vm.editSupplier(item, index)}}},[_vm._v(\"Edit\")]),_c('b-link',{staticClass:\"ml-1 mr-1\"},[_vm._v(\"|\")]),_c('b-link',{on:{\"click\":function($event){return _vm.removeSupplier(item, index)}}},[_vm._v(\"Remove\")])],1)])],1)]:_vm._e(),(item.isEditing)?[_c('b-row',[_c('b-col',[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter code\"},model:{value:(item.code),callback:function ($$v) {_vm.$set(item, \"code\", $$v)},expression:\"item.code\"}})],1),_c('b-col',[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter name\"},model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('b-col',{staticStyle:{\"padding-top\":\"10px\"}},[_c('span',{staticClass:\"pull-right\"},[_c('b-link',{on:{\"click\":function($event){return _vm.saveSupplier(item, index)}}},[_vm._v(\"Save\")]),_c('b-link',{staticClass:\"mr-1 ml-1\"},[_vm._v(\"|\")]),_c('b-link',{on:{\"click\":function($event){return _vm.cancelEdit(item, index)}}},[_vm._v(\"Cancel\")])],1)])],1)]:_vm._e()],2)}),1),_c('b-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"variant\":\"success\"},on:{\"click\":_vm.addSupplier}},[_vm._v(\"Add Supplier\")])],1)],1),_c('b-col')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">Suppliers</div>\r\n\r\n          <b-list-group>\r\n            <b-list-group-item v-for=\"item, index in suppliers\" :key=\"index\">\r\n              <template v-if=\"!item.isEditing\">\r\n                <b-row>\r\n                  <b-col>\r\n                    {{item.code}} - {{item.name}}\r\n                    <span class=\"pull-right\">\r\n                      <b-link @click=\"editSupplier(item, index)\">Edit</b-link>\r\n                      <b-link class=\"ml-1 mr-1\">|</b-link>\r\n                      <b-link @click=\"removeSupplier(item, index)\">Remove</b-link>\r\n                    </span>\r\n                  </b-col>\r\n                </b-row>\r\n              </template>\r\n              <template v-if=\"item.isEditing\">\r\n                <b-row>\r\n                  <b-col>\r\n                    <b-form-input type=\"text\" placeholder=\"Enter code\" v-model=\"item.code\"></b-form-input>\r\n                  </b-col>\r\n                  <b-col>\r\n                    <b-form-input type=\"text\" placeholder=\"Enter name\" v-model=\"item.name\"></b-form-input>\r\n                  </b-col>\r\n                  <b-col style=\"padding-top: 10px\">\r\n                    <span class=\"pull-right\">\r\n                      <b-link @click=\"saveSupplier(item, index)\">Save</b-link>\r\n                      <b-link class=\"mr-1 ml-1\">|</b-link>\r\n                      <b-link @click=\"cancelEdit(item, index)\">Cancel</b-link>\r\n                    </span>\r\n                  </b-col>\r\n                </b-row>\r\n              </template>\r\n            </b-list-group-item>\r\n          </b-list-group>\r\n\r\n          <b-button style=\"margin-top: 10px\" variant=\"success\" @click=\"addSupplier\">Add Supplier</b-button>\r\n        </b-card>\r\n      </b-col>\r\n      <b-col></b-col>\r\n    </b-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Settings\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      price: \"\",\r\n      weight: \"\",\r\n      suppliers: []\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.appSettings.suppliers &&\r\n      this.appSettings.suppliers.forEach(item => this.suppliers.push(item));\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    removeSupplier: function(item, index) {\r\n      this.$bvModal\r\n        .msgBoxConfirm(`Are you sure you want to delete this supplier?`)\r\n        .then(async value => {\r\n          if (value) {\r\n            this.suppliers.splice(index, 1);\r\n            this.appSettings.suppliers = this.suppliers;\r\n            this.saveSettings();\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    saveSettings: async function() {\r\n      await this.$fbServices.settingService.setSettings(this.appSettings);\r\n      this.showMessage(\"Settings updated!\");\r\n    },\r\n    addSupplier: function() {\r\n      this.suppliers.push({\r\n        name: \"\",\r\n        code: \"\",\r\n        isEditing: true\r\n      });\r\n    },\r\n    editSupplier: function(item, index) {\r\n      item.isEditing = true;\r\n      this.suppliers.splice(index, 1, item);\r\n    },\r\n    cancelEdit: function(item, index) {\r\n      delete item.isEditing;\r\n      this.suppliers.splice(index, 1, item);\r\n    },\r\n    saveSupplier: function(item, index) {\r\n      delete item.isEditing;\r\n      this.suppliers.splice(index, 1, item);\r\n      this.appSettings.suppliers = this.suppliers;\r\n      this.saveSettings();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=761bc6e2&\"\nimport script from \"./Settings.vue?vue&type=script&lang=js&\"\nexport * from \"./Settings.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app flex-row align-items-center\"},[_c('div',{staticClass:\"container\"},[_c('b-row',{staticClass:\"justify-content-center\"},[_c('b-col',{attrs:{\"md\":\"8\"}},[_c('b-card-group',[_c('b-card',{staticClass:\"p-4\",attrs:{\"no-body\":\"\"}},[_c('b-card-body',[_c('b-form',{on:{\"submit\":_vm.login}},[_c('h1',[_vm._v(\"Login\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Sign In to your account\")]),_c('b-input-group',{staticClass:\"mb-3\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"fa fa-user\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Username\",\"autocomplete\":\"username email\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.login($event)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('b-input-group',{staticClass:\"mb-4\"},[_c('b-input-group-prepend',[_c('b-input-group-text',[_c('i',{staticClass:\"fa fa-lock\"})])],1),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"autocomplete\":\"current-password\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }return _vm.login($event)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),(_vm.showError)?_c('p',[_c('i',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"Wrong username or password\")])]):_vm._e(),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"px-4\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"Login\")])],1),_c('b-col',{staticClass:\"text-right\",attrs:{\"cols\":\"6\"}},[_c('b-button',{staticClass:\"px-0\",attrs:{\"variant\":\"link\"}},[_vm._v(\"Forgot password?\")])],1)],1)],1)],1)],1),_c('b-card',{staticClass:\"text-white bg-primary py-5 d-md-down-none\",staticStyle:{\"width\":\"44%\"},attrs:{\"no-body\":\"\"}},[_c('b-card-body',{staticClass:\"text-center\"},[_c('div',[_c('h2',[_vm._v(\"Order Management\")])])])],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"app flex-row align-items-center\">\r\n    <div class=\"container\">\r\n      <b-row class=\"justify-content-center\">\r\n        <b-col md=\"8\">\r\n          <b-card-group>\r\n            <b-card no-body class=\"p-4\">\r\n              <b-card-body>\r\n                <b-form @submit=\"login\">\r\n                  <h1>Login</h1>\r\n                  <p class=\"text-muted\">Sign In to your account</p>\r\n                  <b-input-group class=\"mb-3\">\r\n                    <b-input-group-prepend>\r\n                      <b-input-group-text>\r\n                        <i class=\"fa fa-user\"></i>\r\n                      </b-input-group-text>\r\n                    </b-input-group-prepend>\r\n                    <b-form-input\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Username\"\r\n                      autocomplete=\"username email\"\r\n                      v-model=\"email\"\r\n                      v-on:keyup.13=\"login\"\r\n                    />\r\n                  </b-input-group>\r\n                  <b-input-group class=\"mb-4\">\r\n                    <b-input-group-prepend>\r\n                      <b-input-group-text>\r\n                        <i class=\"fa fa-lock\"></i>\r\n                      </b-input-group-text>\r\n                    </b-input-group-prepend>\r\n                    <b-form-input\r\n                      type=\"password\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Password\"\r\n                      autocomplete=\"current-password\"\r\n                      v-model=\"password\"\r\n                      v-on:keyup.13=\"login\"\r\n                    />\r\n                  </b-input-group>\r\n                  <p v-if=\"showError\">\r\n                    <i style=\"color: red\">Wrong username or password</i>\r\n                  </p>\r\n                  <b-row>\r\n                    <b-col cols=\"6\">\r\n                      <b-button\r\n                        variant=\"primary\"\r\n                        class=\"px-4\"\r\n                        @click=\"login\"\r\n                        v-loading=\"isLoading\"\r\n                      >Login</b-button>\r\n                    </b-col>\r\n                    <b-col cols=\"6\" class=\"text-right\">\r\n                      <b-button variant=\"link\" class=\"px-0\">Forgot password?</b-button>\r\n                    </b-col>\r\n                  </b-row>\r\n                </b-form>\r\n              </b-card-body>\r\n            </b-card>\r\n            <b-card no-body class=\"text-white bg-primary py-5 d-md-down-none\" style=\"width:44%\">\r\n              <b-card-body class=\"text-center\">\r\n                <div>\r\n                  <h2>Order Management</h2>\r\n                </div>\r\n              </b-card-body>\r\n            </b-card>\r\n          </b-card-group>\r\n        </b-col>\r\n      </b-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Login\",\r\n  data: function() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      showError: false,\r\n      isLoading: false\r\n    };\r\n  },\r\n  methods: {\r\n    login: function() {\r\n      this.isLoading = true;\r\n      this.$fb.auth\r\n        .signInWithEmailAndPassword(this.email, this.password)\r\n        .then(() => {\r\n          this.isLoading = false;\r\n          this.$router.replace(\"dashboard\");\r\n        })\r\n        .catch(err => {\r\n          this.showError = true;\r\n          this.isLoading = false;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4768ba9a&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"cui-user icons font-lg\"}),_vm._v(\" Orders \")]),_c('b-table',{attrs:{\"responsive\":\"sm\",\"items\":_vm.orders,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\",\"busy\":_vm.isLoadingData},scopedSlots:_vm._u([{key:\"cell(name)\",fn:function(data){return [_c('a',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"href\":_vm.buildRoute(data.item),\"variant\":\"link\"}},[_vm._v(_vm._s(data.item.name))])]}},{key:\"cell(dateCreated)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"date\")(data.item.dateCreated.toDate())))]}},{key:\"cell(quantity)\",fn:function(data){return [_vm._v(_vm._s(_vm.sumQuantity(data.item)))]}},{key:\"cell(total)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"currency\")(_vm.sumTotal(data.item),_vm.vndConfig)))]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <i class=\"cui-user icons font-lg\"></i> Orders\r\n          </div>\r\n          <b-table\r\n            responsive=\"sm\"\r\n            :items=\"orders\"\r\n            :fields=\"fields\"\r\n            :small=\"true\"\r\n            selectable\r\n            select-mode=\"single\"\r\n            :busy=\"isLoadingData\"\r\n          >\r\n            <template v-slot:cell(name)=\"data\">\r\n              <a\r\n                style=\"font-size: 15px\"\r\n                :href=\"buildRoute(data.item)\"\r\n                variant=\"link\"\r\n              >{{data.item.name}}</a>\r\n            </template>\r\n            <template v-slot:cell(dateCreated)=\"data\">{{data.item.dateCreated.toDate() | date}}</template>\r\n            <template v-slot:cell(quantity)=\"data\">{{sumQuantity(data.item)}}</template>\r\n            <template v-slot:cell(total)=\"data\">{{sumTotal(data.item) | currency(vndConfig)}}</template>\r\n          </b-table>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport fb from \"firebase\";\r\n\r\nexport default {\r\n  name: \"Orders\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      selectedOrder: {},\r\n      isLoadingData: false,\r\n      fields: [\r\n        { key: \"name\" },\r\n        { key: \"dateCreated\", label: \"Created Date\" },\r\n        { key: \"quantity\", label: \"Quantity\" },\r\n        { key: \"total\", label: \"Total\" }\r\n      ]\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadOrders();\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    loadOrders: async function() {\r\n      this.orders = [];\r\n      this.isLoadingData = true;\r\n      this.orders = _.orderBy(\r\n        await this.$store.dispatch(\"order/getAllOrders\"),\r\n        [\"dateCreated\"],\r\n        [\"desc\"]\r\n      );\r\n      this.isLoadingData = false;\r\n    },\r\n    sumQuantity: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce((sum, x) => (sum += x.quantity), 0);\r\n    },\r\n    sumTotal: function(order) {\r\n      if (!order.items || order.items.length == 0) return 0;\r\n      return order.items.reduce(\r\n        (sum, x) => (sum += x.quantity * parseFloat(x.rndPrice || x.product.rndPrice)),\r\n        0\r\n      );\r\n    },\r\n    buildRoute: function(item) {\r\n      var { origin } = location;\r\n      return this.$router.resolve({\r\n        name: \"OrderDetailShipment\",\r\n        params: { id: item.id }\r\n      }).href;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shipments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shipments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shipments.vue?vue&type=template&id=28ae610d&\"\nimport script from \"./shipments.vue?vue&type=script&lang=js&\"\nexport * from \"./shipments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('b-row',[_c('b-col',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"fa fa-book\"}),_vm._v(\" Products (\"+_vm._s(_vm.productCount)+\") \"),_c('b-link',{staticClass:\"pull-right\",on:{\"click\":_vm.forceCheckPriceAgain}},[_vm._v(\"CW Check Price\")])],1)]),(_vm.showCheckPriceProgress)?_c('div',{staticClass:\"mb-5\"},[_c('p',[_vm._v(\"There are \"+_vm._s(_vm.productsNotCheckedPrice.length)+\" products have been out-of-dated, click button 'Start Check Price' to get new price from Chemiswarehourse\")]),_c('b-progress',{attrs:{\"value\":_vm.currentProductCheckingIndex,\"max\":_vm.productsNotCheckedPrice.length,\"variant\":\"info\",\"height\":\"2rem\",\"animated\":\"\",\"show-value\":\"\"}},[_c('b-progress-bar',{attrs:{\"value\":_vm.currentProductCheckingIndex}},[_vm._v(\" Progress: \"),_c('strong',[_vm._v(_vm._s(_vm.currentProductCheckingIndex)+\" / \"+_vm._s(_vm.productsNotCheckedPrice.length))])])],1),_c('p',[_vm._v(\"#\"+_vm._s(_vm.getCWProductId(_vm.currentProductChecking))+\" - \"+_vm._s(_vm.currentProductChecking.name))]),_c('b-button',{attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.startCheckPrice()}}},[_c('i',{staticClass:\"fa fa-line-chart\"}),_vm._v(\" Start Check Price \")])],1):_vm._e(),_c('b-form-group',{attrs:{\"label\":\"Show only increase/decrease\"}},[_c('b-form-checkbox',{attrs:{\"inline\":\"\"},on:{\"change\":_vm.showOnlyDecreaseChange},model:{value:(_vm.filter.showOnlyDecrease),callback:function ($$v) {_vm.$set(_vm.filter, \"showOnlyDecrease\", $$v)},expression:\"filter.showOnlyDecrease\"}},[_vm._v(\"Show Only Decrease\")]),_c('b-form-checkbox',{attrs:{\"inline\":\"\"},on:{\"change\":_vm.showOnlyIncreaseChange},model:{value:(_vm.filter.showOnlyIncrease),callback:function ($$v) {_vm.$set(_vm.filter, \"showOnlyIncrease\", $$v)},expression:\"filter.showOnlyIncrease\"}},[_vm._v(\"Show Only Increase\")])],1),_c('view-port',{scopedSlots:_vm._u([{key:\"desktop\",fn:function(){return [_c('div',[_c('b-table',{ref:\"trackingProduct\",staticClass:\"tracking\",attrs:{\"responsive\":\"sm\",\"items\":_vm.products,\"fields\":_vm.fields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_vm._v(_vm._s(data.index + 1))]}},{key:\"cell(name)\",fn:function(data){return [_c('div',{staticClass:\"prod-thumbnail-name\"},[_c('div',{staticClass:\"thumbnail\"},[(data.item.thumbnail)?_c('img',{attrs:{\"src\":data.item.thumbnail,\"width\":\"50px\",\"height\":\"50px\"}}):_vm._e()]),_c('div',{staticClass:\"name-2\"},[_vm._v(\" \"+_vm._s(data.value)+\" \"),_c('br'),_c('small',[_vm._v(\"PID: \"+_vm._s(_vm.getCWProductId(data.item)))])])])]}},{key:\"cell(price)\",fn:function(data){return [_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.cwTracking.oldPrice,_vm.audConfig)))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.cwTracking.price,_vm.audConfig)))])]}},{key:\"cell(change)\",fn:function(data){return [(data.item.cwTracking.priceStatus == 'increase')?_c('i',{staticClass:\"fa fa-angle-double-up fa-lg\",staticStyle:{\"color\":\"red\",\"font-size\":\"24px\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(data.item.cwTracking.priceStatus == 'decrease')?_c('i',{staticClass:\"fa fa-angle-double-down fa-lg\",staticStyle:{\"color\":\"green\",\"font-size\":\"24px\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" (\"+_vm._s(data.item.cwTracking.percentage)+\"%) \")]}},{key:\"cell(lastChecked)\",fn:function(data){return [_vm._v(_vm._s(_vm._f(\"date\")(data.item.cwTracking.lastChecked.toDate())))]}},{key:\"cell(action)\",fn:function(data){return [_c('b-button',{staticClass:\"mr-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editProduct(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")])]}}])})],1)]},proxy:true},{key:\"mobile\",fn:function(){return [_c('b-table',{ref:\"trackingProduct\",staticClass:\"tracking\",attrs:{\"responsive\":\"sm\",\"items\":_vm.products,\"fields\":_vm.mobileFields,\"small\":true,\"selectable\":\"\",\"select-mode\":\"single\"},scopedSlots:_vm._u([{key:\"cell(index)\",fn:function(data){return [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4\",staticStyle:{\"overflow\":\"hidden\"}},[_c('img',{staticStyle:{\"margin-left\":\"-30px\"},attrs:{\"src\":data.item.thumbnail,\"width\":\"150px\",\"height\":\"150px\"}})]),_c('div',{staticClass:\"col-8\"},[_c('strong',[_vm._v(_vm._s(data.item.name))]),_c('br'),_c('del',[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.cwTracking.oldPrice,_vm.audConfig)))]),_c('span',{staticClass:\"ml-1\",staticStyle:{\"font-size\":\"18px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm._f(\"currency\")(data.item.cwTracking.price,_vm.audConfig)))]),(data.item.cwTracking.priceStatus == 'increase')?_c('i',{staticClass:\"fa fa-angle-double-up fa-lg ml-1\",staticStyle:{\"color\":\"red\",\"font-size\":\"24px\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),(data.item.cwTracking.priceStatus == 'decrease')?_c('i',{staticClass:\"fa fa-angle-double-down fa-lg\",staticStyle:{\"color\":\"green\",\"font-size\":\"24px\"},attrs:{\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" (\"+_vm._s(data.item.cwTracking.percentage)+\"%) \"),_c('br'),_vm._v(\" Last checked: \"+_vm._s(_vm._f(\"date\")(data.item.cwTracking.lastChecked.toDate()))+\" \"),_c('br'),_c('b-button',{staticClass:\"mt-1\",attrs:{\"type\":\"submit\",\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.editProduct(data)}}},[_c('i',{staticClass:\"fa fa-edit\"}),_vm._v(\" Edit \")])],1)])]}}])})]},proxy:true}])}),_c('b-row',{staticClass:\"load-more\"},[_c('b-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingMore),expression:\"isLoadingMore\"}],attrs:{\"variant\":\"outline-success\"},on:{\"click\":function($event){return _vm.loadMoreProduct($event)}}},[_vm._v(\"Load more\")])],1)],1)],1)],1),_c('product-detail',{ref:\"productDetail\",attrs:{\"id\":\"productEdit\",\"item\":_vm.product},on:{\"product-saved\":_vm.productSaved}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"animated fadeIn\">\r\n    <b-row>\r\n      <b-col>\r\n        <b-card>\r\n          <div slot=\"header\">\r\n            <span>\r\n              <i class=\"fa fa-book\"></i>\r\n              Products ({{productCount}})\r\n              <b-link class=\"pull-right\" @click=\"forceCheckPriceAgain\">CW Check Price</b-link>\r\n            </span>\r\n          </div>\r\n          <div v-if=\"showCheckPriceProgress\" class=\"mb-5\">\r\n            <p>There are {{productsNotCheckedPrice.length}} products have been out-of-dated, click button 'Start Check Price' to get new price from Chemiswarehourse</p>\r\n            <b-progress\r\n              :value=\"currentProductCheckingIndex\"\r\n              :max=\"productsNotCheckedPrice.length\"\r\n              variant=\"info\"\r\n              height=\"2rem\"\r\n              animated\r\n              show-value\r\n            >\r\n              <b-progress-bar :value=\"currentProductCheckingIndex\">\r\n                Progress:\r\n                <strong>{{ currentProductCheckingIndex }} / {{ productsNotCheckedPrice.length }}</strong>\r\n              </b-progress-bar>\r\n            </b-progress>\r\n\r\n            <p>#{{getCWProductId(currentProductChecking)}} - {{currentProductChecking.name}}</p>\r\n\r\n            <b-button type=\"submit\" size=\"sm\" variant=\"success\" @click=\"startCheckPrice()\">\r\n              <i class=\"fa fa-line-chart\"></i> Start Check Price\r\n            </b-button>\r\n          </div>\r\n\r\n          <b-form-group label=\"Show only increase/decrease\">\r\n            <b-form-checkbox\r\n              v-model=\"filter.showOnlyDecrease\"\r\n              @change=\"showOnlyDecreaseChange\"\r\n              inline\r\n            >Show Only Decrease</b-form-checkbox>\r\n            <b-form-checkbox\r\n              v-model=\"filter.showOnlyIncrease\"\r\n              @change=\"showOnlyIncreaseChange\"\r\n              inline\r\n            >Show Only Increase</b-form-checkbox>\r\n          </b-form-group>\r\n\r\n          <view-port>\r\n            <template v-slot:desktop>\r\n              <div>\r\n                <b-table\r\n                  ref=\"trackingProduct\"\r\n                  responsive=\"sm\"\r\n                  :items=\"products\"\r\n                  :fields=\"fields\"\r\n                  :small=\"true\"\r\n                  class=\"tracking\"\r\n                  selectable\r\n                  select-mode=\"single\"\r\n                >\r\n                  <template v-slot:cell(index)=\"data\">{{data.index + 1}}</template>\r\n                  <template v-slot:cell(name)=\"data\">\r\n                    <div class=\"prod-thumbnail-name\">\r\n                      <div class=\"thumbnail\">\r\n                        <img\r\n                          :src=\"data.item.thumbnail\"\r\n                          width=\"50px\"\r\n                          height=\"50px\"\r\n                          v-if=\"data.item.thumbnail\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"name-2\">\r\n                        {{data.value}}\r\n                        <br />\r\n                        <small>PID: {{getCWProductId(data.item)}}</small>\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <template v-slot:cell(price)=\"data\">\r\n                    <del>{{data.item.cwTracking.oldPrice | currency(audConfig)}}</del>\r\n                    &nbsp;\r\n                    <span\r\n                      style=\"font-size: 18px; font-weight: bold\"\r\n                    >{{data.item.cwTracking.price | currency(audConfig)}}</span>\r\n                  </template>\r\n                  <template v-slot:cell(change)=\"data\">\r\n                    <i\r\n                      class=\"fa fa-angle-double-up fa-lg\"\r\n                      aria-hidden=\"true\"\r\n                      v-if=\"data.item.cwTracking.priceStatus == 'increase'\"\r\n                      style=\"color: red; font-size: 24px\"\r\n                    ></i>\r\n                    <i\r\n                      class=\"fa fa-angle-double-down fa-lg\"\r\n                      aria-hidden=\"true\"\r\n                      v-if=\"data.item.cwTracking.priceStatus == 'decrease'\"\r\n                      style=\"color: green; font-size: 24px\"\r\n                    ></i>\r\n                    ({{data.item.cwTracking.percentage}}%)\r\n                  </template>\r\n                  <template\r\n                    v-slot:cell(lastChecked)=\"data\"\r\n                  >{{data.item.cwTracking.lastChecked.toDate() | date}}</template>\r\n                  <template v-slot:cell(action)=\"data\">\r\n                    <b-button\r\n                      type=\"submit\"\r\n                      size=\"sm\"\r\n                      variant=\"success\"\r\n                      @click=\"editProduct(data)\"\r\n                      class=\"mr-1\"\r\n                    >\r\n                      <i class=\"fa fa-edit\"></i> Edit\r\n                    </b-button>\r\n                  </template>\r\n                </b-table>\r\n              </div>\r\n            </template>\r\n            <template v-slot:mobile>\r\n              <b-table\r\n                ref=\"trackingProduct\"\r\n                responsive=\"sm\"\r\n                :items=\"products\"\r\n                :fields=\"mobileFields\"\r\n                :small=\"true\"\r\n                class=\"tracking\"\r\n                selectable\r\n                select-mode=\"single\"\r\n              >\r\n                <template v-slot:cell(index)=\"data\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-4\" style=\"overflow: hidden\">\r\n                      <img\r\n                        :src=\"data.item.thumbnail\"\r\n                        width=\"150px\"\r\n                        height=\"150px\"\r\n                        style=\"margin-left: -30px\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"col-8\">\r\n                      <strong>{{data.item.name}}</strong>\r\n                      <br />\r\n                      <del>{{data.item.cwTracking.oldPrice | currency(audConfig)}}</del>\r\n                      <span\r\n                        class=\"ml-1\"\r\n                        style=\"font-size: 18px; font-weight: bold\"\r\n                      >{{data.item.cwTracking.price | currency(audConfig)}}</span>\r\n                      <i\r\n                        class=\"fa fa-angle-double-up fa-lg ml-1\"\r\n                        aria-hidden=\"true\"\r\n                        v-if=\"data.item.cwTracking.priceStatus == 'increase'\"\r\n                        style=\"color: red; font-size: 24px\"\r\n                      ></i>\r\n                      <i\r\n                        class=\"fa fa-angle-double-down fa-lg\"\r\n                        aria-hidden=\"true\"\r\n                        v-if=\"data.item.cwTracking.priceStatus == 'decrease'\"\r\n                        style=\"color: green; font-size: 24px\"\r\n                      ></i>\r\n                      ({{data.item.cwTracking.percentage}}%)\r\n                      <br />\r\n                      Last checked: {{data.item.cwTracking.lastChecked.toDate() | date}}\r\n                      <br />\r\n                      <b-button\r\n                        type=\"submit\"\r\n                        size=\"sm\"\r\n                        variant=\"success\"\r\n                        @click=\"editProduct(data)\"\r\n                        class=\"mt-1\"\r\n                      >\r\n                        <i class=\"fa fa-edit\"></i> Edit\r\n                      </b-button>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </b-table>\r\n            </template>\r\n          </view-port>\r\n\r\n          <b-row class=\"load-more\">\r\n            <b-button\r\n              variant=\"outline-success\"\r\n              @click=\"loadMoreProduct($event)\"\r\n              v-loading=\"isLoadingMore\"\r\n            >Load more</b-button>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n    <!--/.row-->\r\n\r\n    <product-detail\r\n      ref=\"productDetail\"\r\n      id=\"productEdit\"\r\n      :item=\"product\"\r\n      @product-saved=\"productSaved\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport productDetail from \"./productDetail\";\r\nimport viewPort from \"../shared/viewPort\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Products\",\r\n  components: {\r\n    productDetail,\r\n    viewPort\r\n  },\r\n  data() {\r\n    return {\r\n      productsNotCheckedPrice: [],\r\n      currentProductCheckingIndex: 0,\r\n      currentProductChecking: {},\r\n      products: [],\r\n      product: {},\r\n      productBatches: \"\",\r\n      useMobileView: false,\r\n      searchText: \"\",\r\n      pageSize: 10,\r\n      lastVisible: undefined,\r\n      isLoadingMore: false,\r\n      showCheckPriceProgress: false,\r\n      fields: [\r\n        { key: \"index\", label: \"#\", class: \"index\" },\r\n        { key: \"name\", class: \"name\", class: \"name\" },\r\n        { key: \"price\", label: \"Price\", class: \"price text-right\" },\r\n        { key: \"change\", label: \"\", class: \"change text-left\" },\r\n        { key: \"lastChecked\", label: \"Last Checked\", class: \"text-center last-checked\" },\r\n        { key: \"action\", label: \"Action\", class: \"action text-right\" }\r\n      ],\r\n      mobileFields: [{ key: \"index\", label: \"\" }],\r\n      filter: { showOnlyDecrease: true, showOnlyIncrease: false }\r\n    };\r\n  },\r\n  mounted: function() {\r\n    var self = this;\r\n    self.useMobileView = window.innerWidth < 700;\r\n    window.addEventListener(\"resize\", function() {\r\n      self.useMobileView = window.innerWidth < 700;\r\n    });\r\n\r\n    this.getOutDateProducts();\r\n    this.getCheckedProducts(null);\r\n  },\r\n  watch: {},\r\n  computed: {\r\n    ...mapState(\"counter\", {\r\n      productCount: state => state.counter && state.counter.productCount\r\n    })\r\n  },\r\n  methods: {\r\n    getCheckedProducts: function(lastVisible) {\r\n      var q = this.$fb.productCollection\r\n        .where(\"cwTracking.percentage\", \">\", 0)\r\n        .orderBy(\"cwTracking.percentage\", \"desc\");\r\n\r\n      if (this.filter.showOnlyDecrease) {\r\n        q = q.where(\"cwTracking.priceStatus\", \"==\", \"decrease\");\r\n      } else if (this.filter.showOnlyIncrease) {\r\n        q = q.where(\"cwTracking.priceStatus\", \"==\", \"increase\");\r\n      }\r\n\r\n      if (lastVisible) q = q.startAfter(lastVisible || 0);\r\n      return q\r\n        .limit(20)\r\n        .get()\r\n        .then(snapshot => {\r\n          if (!snapshot.empty) {\r\n            this.lastVisible = _.last(snapshot.docs);\r\n            snapshot.forEach(doc => {\r\n              this.products.push(doc.data());\r\n            });\r\n            return this.products;\r\n          }\r\n        });\r\n    },\r\n    loadMoreProduct: function(e) {\r\n      this.isLoadingMore = true;\r\n      this.getCheckedProducts(this.lastVisible).then(() => (this.isLoadingMore = false));\r\n    },\r\n    cwCheckPrice: function() {\r\n      this.$fb.productCollection\r\n        .where(\"cwProductId\", \">\", \"0\")\r\n        .orderBy(\"cwProductId\")\r\n        .limit(10)\r\n        .get()\r\n        .then(snapshot => {\r\n          if (!snapshot.empty) {\r\n            return _.map(snapshot.docs, doc => doc.data());\r\n          } else return [];\r\n        })\r\n        .then(products => {});\r\n    },\r\n    getOutDateProducts: function(forceCheckAll) {\r\n      var today = new Date().setMin();\r\n\r\n      return this.loadCwProducts()\r\n        .then(products => {\r\n          return forceCheckAll\r\n            ? products\r\n            : _.filter(\r\n                products,\r\n                item =>\r\n                  !item.cwTracking ||\r\n                  !item.cwTracking.lastChecked ||\r\n                  item.cwTracking.lastChecked.toDate() < today\r\n              );\r\n        })\r\n        .then(products => {\r\n          console.table(products);\r\n          this.showCheckPriceProgress = products.length > 0;\r\n          this.productsNotCheckedPrice = products;\r\n        });\r\n    },\r\n    startCheckPrice: function() {\r\n      this.currentProductCheckingIndex = 0;\r\n      if (this.currentProductCheckingIndex < this.productsNotCheckedPrice.length)\r\n        this.doCheckPrice();\r\n    },\r\n    doCheckPrice: function() {\r\n      this.currentProductChecking = this.productsNotCheckedPrice[this.currentProductCheckingIndex];\r\n      var term = this.currentProductChecking.supplierPrices.find(x => x.supplier == \"CW\").id;\r\n      return this.$http.get(this.appSettings.cwCheckPriceApi.replace(\"{term}\", term)).then(res => {\r\n        if (res && res.status == 200 && res.data) {\r\n          var data = res.data;\r\n          var validData = _.find(data, item => parseFloat(item.id) > 0);\r\n          if (validData && validData.id == term) {\r\n            var trackingData = this.decorateData(validData, this.currentProductChecking);\r\n            console.log(trackingData);\r\n            this.currentProductChecking.cwTracking = trackingData;\r\n            this.$fb.productCollection\r\n              .doc(this.currentProductChecking.id)\r\n              .set(this.currentProductChecking);\r\n          }\r\n        }\r\n        this.currentProductCheckingIndex++;\r\n        if (this.currentProductCheckingIndex < this.productsNotCheckedPrice.length)\r\n          window.setTimeout(this.doCheckPrice, 50);\r\n        else {\r\n          this.getCheckedProducts();\r\n        }\r\n      });\r\n    },\r\n    decorateData: function(item, currentProduct) {\r\n      item.price = parseFloat(item.Price);\r\n\r\n      var cwsp = currentProduct.supplierPrices.find(x => x.supplier == \"CW\");\r\n      var cwPrice = parseFloat((cwsp && cwsp.price) || 0);\r\n      item.oldPrice = parseFloat(cwPrice);\r\n\r\n      item.lastChecked = new Date();\r\n      var price = item.price;\r\n\r\n      if (price > cwPrice + 0.5) {\r\n        item.priceStatus = \"increase\";\r\n        item.percentage = (((price - cwPrice) / cwPrice) * 100).toFixed(0);\r\n      } else if (price < cwPrice - 0.5) {\r\n        item.priceStatus = \"decrease\";\r\n        item.percentage = (((cwPrice - price) / cwPrice) * 100).toFixed(0);\r\n      } else {\r\n        item.priceStatus = \"same\";\r\n        item.percentage = 0;\r\n      }\r\n\r\n      return {\r\n        price: parseFloat(item.price),\r\n        oldPrice: parseFloat(item.oldPrice),\r\n        lastChecked: item.lastChecked,\r\n        priceStatus: item.priceStatus,\r\n        percentage: parseFloat(item.percentage)\r\n      };\r\n    },\r\n    loadCwProducts: function() {\r\n      return this.$fb.productCollection\r\n        .get()\r\n        .then(snapshot => {\r\n          if (!snapshot.empty) {\r\n            return _.map(snapshot.docs, doc => doc.data());\r\n          } else return [];\r\n        })\r\n        .then(products => {\r\n          return _.filter(products, x => this.getCWProductId(x) != undefined);\r\n        });\r\n    },\r\n    editProduct: function(data) {\r\n      var { index, item } = data;\r\n      this.$refs.productDetail.open({ ...item });\r\n    },\r\n    productSaved: function() {},\r\n    forceCheckPriceAgain: function() {\r\n      this.getOutDateProducts(true);\r\n    },\r\n    filterCheckedProducts: function() {\r\n      this.$nextTick(() => {\r\n        this.products = [];\r\n        this.getCheckedProducts();\r\n      });\r\n    },\r\n    showOnlyDecreaseChange: function(checked) {\r\n      if (checked) this.filter.showOnlyIncrease = false;\r\n      this.filterCheckedProducts();\r\n    },\r\n    showOnlyIncreaseChange: function(checked) {\r\n      if (checked) this.filter.showOnlyDecrease = false;\r\n      this.filterCheckedProducts();\r\n    },\r\n    getCWProductId: function(item) {\r\n      return ((item.supplierPrices || []).find(x => x.supplier == \"CW\") || {}).id;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.tracking th.index {\r\n  width: 1%;\r\n}\r\n\r\n.tracking th.price {\r\n  width: 15%;\r\n}\r\n.tracking th.change {\r\n  width: 5%;\r\n}\r\n\r\n.tracking th.last-checked {\r\n  width: 10%;\r\n}\r\n\r\n.tracking th.action {\r\n  width: 5%;\r\n}\r\n\r\n.prod-thumbnail-name {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n}\r\n.prod-thumbnail-name .name-2 {\r\n  margin-left: 5px;\r\n}\r\n.prod-thumbnail-name .thumbnail {\r\n  width: 50px;\r\n  min-width: 50px;\r\n  height: 50px;\r\n  min-height: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackingPrices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackingPrices.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./trackingPrices.vue?vue&type=template&id=790312d6&\"\nimport script from \"./trackingPrices.vue?vue&type=script&lang=js&\"\nexport * from \"./trackingPrices.vue?vue&type=script&lang=js&\"\nimport style0 from \"./trackingPrices.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport firebase from 'firebase'\r\n\r\n// Containers\r\nconst DefaultContainer = () => import('@/containers/DefaultContainer')\r\n\r\n// Views\r\nconst Dashboard = () => import('@/views/Dashboard')\r\n\r\nimport ProductsPage from \"@/views/pages/products\"\r\nimport InventoryPage from \"@/views/pages/Inventory\"\r\nimport CustomersPage from \"@/views/pages/customers\"\r\nimport CustomerOrdersPage from \"@/views/pages/customerOrders\"\r\nimport OrdersPage from \"@/views/pages/orders\"\r\nimport OrderDetailPage from \"@/views/pages/orderDetail\"\r\nimport OrderDetailCollectionPage from \"@/views/pages/orderDetailCollection\"\r\nimport OrderDetailShipmentPage from \"@/views/pages/orderDetailShipment\"\r\nimport OrderStatisticPage from \"@/views/pages/orderStatistic\"\r\nimport UtilsPage from \"@/views/pages/utils\"\r\nimport SettingsPage from \"@/views/pages/Settings\"\r\nimport LoginPage from \"@/views/pages/Login\"\r\nimport ShipmentsPage from \"@/views/pages/shipments\"\r\nimport TrackingPricesPage from \"@/views/pages/trackingPrices\"\r\n\r\nVue.use(Router)\r\n\r\nfunction configRoutes() {\r\n  return [\r\n    {\r\n      path: '/',\r\n      redirect: '/dashboard',\r\n      name: 'Home',\r\n      component: DefaultContainer,\r\n      meta: {\r\n        requiresAuth: true\r\n      },\r\n      children: [\r\n        {\r\n          path: 'dashboard',\r\n          name: 'Dashboard',\r\n          component: Dashboard,\r\n          meta: {\r\n            title: \"Dashboard\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'products',\r\n          name: 'Products',\r\n          component: ProductsPage,\r\n          meta: {\r\n            title: \"Products\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'inventory',\r\n          name: 'inventory',\r\n          component: InventoryPage,\r\n          meta: {\r\n            title: \"Inventory\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'customers',\r\n          name: 'Customers',\r\n          component: CustomersPage,\r\n          meta: {\r\n            title: \"Customers\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'customers/:id/orders',\r\n          name: 'CustomerOrders',\r\n          component: CustomerOrdersPage,\r\n          meta: {\r\n            title: \"Customer Orders\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'orders',\r\n          name: 'Orders',\r\n          component: OrdersPage,\r\n          meta: {\r\n            title: \"Orders\",\r\n            requiresAdmin: true\r\n          },\r\n          children: [\r\n            {\r\n              path: \":id/statistic\",\r\n              name: \"OrderStatistic\",\r\n              component: OrderStatisticPage\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          path: 'orders/:id',\r\n          name: 'OrderDetail',\r\n          component: OrderDetailPage,\r\n          meta: {\r\n            title: \"Order Detail\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'orders/:id/collectionpage',\r\n          name: 'OrderDetailCollection',\r\n          component: OrderDetailCollectionPage,\r\n          meta: {\r\n            title: \"Order Detail Collection\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'orders/:id/shipment',\r\n          name: 'OrderDetailShipment',\r\n          component: OrderDetailShipmentPage,\r\n          meta: {\r\n            title: \"Order Detail Shipment\"\r\n          }\r\n        },\r\n        {\r\n          path: 'trackingPrices',\r\n          name: 'TrackingPrices',\r\n          component: TrackingPricesPage,\r\n          meta: {\r\n            title: \"Tracking Prices\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'shipments',\r\n          name: 'Shipments',\r\n          component: ShipmentsPage,\r\n          meta: {\r\n            title: \"Shipments\"\r\n          }\r\n        },\r\n        {\r\n          path: 'utils',\r\n          name: 'UtilsPage',\r\n          component: UtilsPage,\r\n          meta: {\r\n            title: \"Utils\",\r\n            requiresAdmin: true\r\n          }\r\n        },\r\n        {\r\n          path: 'settings',\r\n          name: 'SettingsPage',\r\n          component: SettingsPage,\r\n          meta: {\r\n            title: \"Settings\",\r\n            requiresAdmin: true\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/login',\r\n      name: 'Login',\r\n      component: LoginPage,\r\n      meta: {\r\n        requiresAuth: false,\r\n        title: \"Login\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\nconst router = new Router({\r\n  mode: 'hash', // https://router.vuejs.org/api/#mode\r\n  linkActiveClass: 'open active',\r\n  scrollBehavior: () => ({ y: 0 }),\r\n  routes: configRoutes()\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const currentUser = firebase.auth().currentUser;\r\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\r\n  const requiresAdmin = to.matched.some(record => record.meta.requiresAdmin);\r\n  //var isAdmin = currentUser && currentUser.uid == \"gzuRo62QEyMCvgEHchh91vOH4RW2\";\r\n  var isAdmin = true;\r\n\r\n  document.title = to.matched.reduce((r, item) => r = item.meta.title ? item.meta.title : \"\", \"\");\r\n  if (requiresAuth && !currentUser) next(\"/login\")\r\n  else if (requiresAdmin && !isAdmin) next(\"/shipments\")\r\n  else next();\r\n\r\n});\r\nexport default router;\r\n","import Vue from 'vue'\r\n\r\nVue.filter(\"date\", date => (date.getDate() + \"\").padStart(2, 0) + \"/\" + (date.getMonth() + 1 + \"\").padStart(2, 0) + \"/\" + date.getFullYear());\r\nVue.filter(\"datetime\", date =>\r\n    (date.getDate() + \"\").padStart(2, 0) + \"/\" + (date.getMonth() + 1 + \"\").padStart(2, 0) + \"/\" + date.getFullYear()\r\n    + \" \" + (date.getHours() + \"\").padStart(2, 0) + \":\" + (date.getMinutes() + \"\").padStart(2, 0));","import Vue from 'vue'\r\n\r\nVue.directive('loading', {\r\n    bind: function (el, binding, vNode) {\r\n    },\r\n    inserted: function (el, binding) {\r\n    },\r\n    update: function (el, binding) {\r\n        var spinner = `<div class=\"spinner-border spinner-border-sm text-success ml-1\" role=\"status\"></div>`;\r\n        if (binding.value) {\r\n            if (el.innerHTML.indexOf(spinner) == -1) {\r\n                el.innerHTML = el.innerHTML + spinner;\r\n                el.disabled = true;\r\n            }\r\n        }\r\n        else {\r\n            el.innerHTML = el.innerHTML.replace(spinner, \"\");\r\n            el.disabled = false;\r\n        }\r\n    }\r\n})","import firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBpo4IlT4YWHPf6Kb1ws6KgzfbxQurgPIQ\",\r\n    authDomain: \"chemistorder-fac70.firebaseapp.com\",\r\n    databaseURL: \"https://chemistorder-fac70.firebaseio.com\",\r\n    projectId: \"chemistorder-fac70\",\r\n    storageBucket: \"chemistorder-fac70.appspot.com\",\r\n    messagingSenderId: \"1018979807432\",\r\n    appId: \"1:1018979807432:web:7f91bee1f9f50d792e35fd\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// firebase utils\r\nconst db = firebase.firestore()\r\nconst auth = firebase.auth()\r\nconst currentUser = auth.currentUser\r\n\r\n//date issue fix according to firebase\r\n//db.settings(settings)\r\n\r\n// firebase collections\r\nconst productCollection = db.collection('products')\r\nconst customerCollection = db.collection('customers')\r\nconst orderCollection = db.collection('orders')\r\nconst counterCollection = db.collection('counter')\r\nconst inventoryCollection = db.collection('inventory')\r\nconst distributionCollection = db.collection('distribution')\r\nconst settingCollection = db.collection('settings')\r\n\r\nexport default {\r\n    db,\r\n    auth,\r\n    isAdmin: () => true,\r\n    currentUser,\r\n    productCollection,\r\n    customerCollection,\r\n    orderCollection,\r\n    counterCollection,\r\n    inventoryCollection,\r\n    distributionCollection,\r\n    settingCollection\r\n} ","import fb from \"../firebaseConfig.js\"\r\nconst productCollecion = fb.db.collection('product')\r\n\r\nexport default {\r\n  getProducts: function (limit, searchText, lastVisible) {\r\n    return this.$fb.productCollection\r\n      .orderBy(\"name\")\r\n      .startAfter(this.lastVisible || 0)\r\n      .limit(this.pageSize)\r\n      .get()\r\n      .then(snapshot => {\r\n        if (!snapshot.empty) {\r\n          this.lastVisible = _.last(snapshot.docs);\r\n          snapshot.forEach(doc => {\r\n            this.products.push(doc.data());\r\n          });\r\n        }\r\n      });\r\n\r\n  }\r\n}","import fb from \"../firebaseConfig.js\"\r\n\r\n\r\nconst orderCollection = fb.db.collection('orders')\r\n\r\nasync function getOrderById(orderId) {\r\n    return orderCollection.doc(orderId).get().then(ss => ss.data());\r\n}\r\n\r\nasync function getOrderItemsByOrderId(orderId) {\r\n    return orderCollection.doc(orderId).collection(\"orderItems\").get().then(ss => {\r\n        if (ss.empty == false) return ss.docs.map(doc => doc.data());\r\n        else return [];\r\n    });\r\n}\r\n\r\nexport default {\r\n    getOrderAndItemsByOrderId: async function (orderId) {\r\n        var order = await getOrderById(orderId);\r\n        var items = await getOrderItemsByOrderId(orderId);\r\n        return { order: order, orderItems: items };\r\n    },\r\n    setOrderItem: async function (orderId, orderItem) {\r\n        if (orderItem.id) { //update\r\n            orderItem.dateModified = new Date();\r\n            await orderCollection.doc(orderId).collection(\"orderItems\").doc(orderItem.id).set(orderItem);\r\n        }\r\n        else { //insert\r\n            orderItem.dateCreated = new Date();\r\n            var ref = orderCollection.doc(orderId).collection(\"orderItems\").doc();\r\n            orderItem.id = ref.id;\r\n            await ref.set(orderItem);\r\n        }\r\n        return orderItem;\r\n    },\r\n    deleteOrderItem: function (orderId, orderItemId) {\r\n        return orderCollection.doc(orderId).collection(\"orderItems\").doc(orderItemId).delete();\r\n    },\r\n    getLast10Orders: async function () {\r\n        return orderCollection\r\n            .limit(10)\r\n            .orderBy(\"dateCreated\", \"desc\")\r\n            .get()\r\n            .then(ss => {\r\n                if (ss.empty) return [];\r\n                else return ss.docs.map(d => d.data());\r\n            })\r\n    }\r\n}\r\n","import fb from \"../firebaseConfig.js\"\r\n\r\n\r\nconst settingsCollection = fb.db.collection('settings')\r\n\r\nasync function getOrderItemsByOrderId(orderId) {\r\n    return orderCollection.doc(orderId).collection(\"orderItems\").get().then(ss => {\r\n        if (ss.empty == false) return ss.docs.map(doc => doc.data());\r\n        else return [];\r\n    });\r\n}\r\n\r\nexport default {\r\n    getSettings: async function (orderId) {\r\n        var settings = {};\r\n        await settingsCollection.limit(1).get().then(ss => settings = ss.docs[0].data());\r\n        return settings;\r\n    },\r\n    setSettings: async function (settings) {\r\n        settings.dateModified = new Date();\r\n        await settingsCollection.doc(settings.id).set(settings);\r\n        return settings;\r\n    }\r\n\r\n}\r\n","import fb from \"../firebaseConfig.js\"\r\n\r\n\r\nconst collection = fb.db.collection('inventory')\r\nvar setDebounceFunc = null;\r\nasync function getItem(id) {\r\n    return collection.doc(id).get().then(ss => ss.data());\r\n}\r\n\r\nasync function getOrderItemsByOrderId(orderId) {\r\n    return orderCollection.doc(orderId).collection(\"orderItems\").get().then(ss => {\r\n        if (ss.empty == false) return ss.docs.map(doc => doc.data());\r\n        else return [];\r\n    });\r\n}\r\n\r\nfunction buildAuditItem(item, message, distribution) {\r\n    return {\r\n        date: new Date(),\r\n        message: message,\r\n        quantity: item.quantity,\r\n        distributionId: (distribution && distribution.id) || \"\",\r\n        product: {\r\n            id: item.product.id,\r\n            name: item.product.name,\r\n            price: item.product.rndPrice\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    buildAuditItem: buildAuditItem,\r\n    set: async function (item, distribution) {\r\n        if (!item.audit) item.audit = [];\r\n        if (item.id) {\r\n            item.audit.push(buildAuditItem(item, \"Update\", distribution));\r\n            await collection\r\n                .doc(item.id)\r\n                .set(item);\r\n        }\r\n        else {\r\n            item.audit.push(buildAuditItem(item, \"Init\"));\r\n            var ref = collection.doc();\r\n            item.id = ref.id;\r\n            await ref.set(item);\r\n        }\r\n        return item;\r\n    },\r\n    get: async function (id) {\r\n        return await collection.doc(id).get().then(x => x.data());\r\n    }\r\n}\r\n","import fb from \"../firebaseConfig.js\"\r\n\r\n\r\nconst collection = fb.db.collection('distribution')\r\nvar setDebounceFunc = null;\r\nasync function getItem(id) {\r\n    return collection.doc(id).get().then(ss => ss.data());\r\n}\r\n\r\nasync function getOrderItemsByOrderId(orderId) {\r\n    return orderCollection.doc(orderId).collection(\"orderItems\").get().then(ss => {\r\n        if (ss.empty == false) return ss.docs.map(doc => doc.data());\r\n        else return [];\r\n    });\r\n}\r\n\r\nfunction buildItem(inventoryItem, order, orderItem) {\r\n    return {\r\n        orderId: order.id,\r\n        orderItemId: orderItem.id,\r\n        quantity:\r\n            inventoryItem.quantity > orderItem.quantity\r\n                ? orderItem.quantity\r\n                : inventoryItem.quantity,\r\n        inventoryId: inventoryItem.id,\r\n        date: new Date()\r\n    };\r\n}\r\n\r\nexport default {\r\n    buildItem: buildItem,\r\n    set: async function (inventoryId, order, orderItem) {\r\n        var item = buildItem(inventoryId, order, orderItem);\r\n\r\n        var ref = collection.doc();\r\n        item.id = ref.id;\r\n        await ref.set(item);\r\n\r\n        return item;\r\n    },\r\n    delete: async function (id) {\r\n        await collection.doc(id).delete();\r\n        return true;\r\n    }\r\n}\r\n","import productService from \"./firebaseServices/productService\"\r\nimport orderService from \"./firebaseServices/orderService\"\r\nimport settingService from \"./firebaseServices/settingService\"\r\nimport inventoryService from \"./firebaseServices/inventoryService\"\r\nimport distributionService from \"./firebaseServices/distributionService\"\r\n\r\nexport default {\r\n    productService,\r\n    orderService,\r\n    settingService,\r\n    inventoryService,\r\n    distributionService\r\n}","import fb from \"@/shared/firebaseConfig\"\r\n\r\nconst state = {\r\n    counter: undefined\r\n}\r\n\r\nconst getters = {};\r\n\r\nconst actions = {\r\n    getCounter: async function ({ commit, state }) {\r\n        return new Promise(function (resolve, reject) {\r\n            if (state.counter) {\r\n                resolve(state.counter);\r\n            }\r\n            else {\r\n                console.log(\"Get app counter\");\r\n                fb.counterCollection.limit(1).get().then(ss => {\r\n                    if (ss.empty) resolve(undefined);\r\n                    else {\r\n                        var counter = ss.docs[0].data();\r\n                        commit(\"setCounter\", counter);\r\n                        resolve(counter);\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    },\r\n    setCounter: async function ({ commit }, counter) {\r\n        fb.counterCollection.doc(counter.id).set(counter).then(() => {\r\n            commit(\"setCounter\", counter);\r\n        });\r\n    },\r\n    increaseCustomerCount: async function ({ dispatch }) {\r\n        let counter = await dispatch(\"getCounter\");\r\n        counter.customerCount++;\r\n        dispatch(\"setCounter\", counter);\r\n    },\r\n    decreaseCustomerCount: async function ({ dispatch }) {\r\n        let counter = await dispatch(\"getCounter\");\r\n        counter.customerCount--;\r\n        dispatch(\"setCounter\", counter);\r\n    },\r\n    getCustomerCount: async function ({ dispatch }) {\r\n        return await dispatch(\"getCounter\").then(counter => counter.customerCount);\r\n    },\r\n    increaseProductCount: async function ({ dispatch }) {\r\n        let counter = await dispatch(\"getCounter\");\r\n        counter.productCount++;\r\n        dispatch(\"setCounter\", counter);\r\n    },\r\n    decreaseProductCount: async function ({ dispatch }) {\r\n        let counter = await dispatch(\"getCounter\");\r\n        counter.productCount--;\r\n        dispatch(\"setCounter\", counter);\r\n    },\r\n    getProductCount: async function ({ dispatch }) {\r\n        return await dispatch(\"getCounter\").then(counter => counter.productCount);\r\n    },\r\n    increaseOrderCount: async function ({ dispatch }) {\r\n        let counter = await dispatch(\"getCounter\");\r\n        counter.orderCount++;\r\n        dispatch(\"setCounter\", counter);\r\n    },\r\n    decreaseOrderCount: async function ({ dispatch }) {\r\n        let counter = await dispatch(\"getCounter\");\r\n        counter.orderCount--;\r\n        dispatch(\"setCounter\", counter);\r\n    },\r\n    getOrderCount: async function ({ dispatch }) {\r\n        return await dispatch(\"getCounter\").then(counter => counter.orderCount);\r\n    }\r\n};\r\n\r\nconst mutations = {\r\n    setCounter: function (state, counter) {\r\n        state.counter = counter;\r\n    }\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}\r\n\r\n","import fb from \"@/shared/firebaseConfig\"\r\n\r\nconst state = {\r\n    orders: [],\r\n    lastVisible: undefined\r\n}\r\n\r\nconst getters = {\r\n\r\n}\r\nconst actions = {\r\n    getAllOrders: function ({ commit, state }) {\r\n        return new Promise(function (resolve, reject) {\r\n            if (state.orders.length > 0) {\r\n                console.log(\"Get all orders from store\");\r\n                resolve(state.orders);\r\n            }\r\n            else {\r\n                console.log(\"Get all orders\");\r\n                fb.orderCollection.onSnapshot(ss => {\r\n                    console.log(\"update order to store (listen)\");\r\n                    if (ss.empty) {\r\n                        commit(\"setOrders\", []);\r\n                        commit(\"setLastVisible\", undefined);\r\n                        resolve([]);\r\n                    }\r\n                    else {\r\n                        var orders = ss.docs.map(x => x.data());\r\n                        var lastVisible = ss.docs[ss.docs.length - 1];\r\n                        commit(\"setOrders\", orders);\r\n                        commit(\"setLastVisible\", lastVisible);\r\n                        resolve(orders);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    },\r\n    getOrderById: async function ({ dispatch }, id) {\r\n        return (await dispatch(\"getAllOrders\")).find(x => x.id == id);\r\n    },\r\n    addOrUpdateOrder: async function ({ dispatch, commit }, order) {\r\n        if (order.id) {\r\n            order.dateModified = new Date();\r\n            await fb.orderCollection.doc(order.id).set(order);\r\n            //commit(\"updateOrder\", order);\r\n        }\r\n        else {\r\n            order.dateCreated = new Date();\r\n            var ref = fb.orderCollection.doc();\r\n            order.id = ref.id;\r\n            await ref.set(order);\r\n            //commit(\"addOrder\", order);\r\n        }\r\n\r\n        return order;\r\n    },\r\n    deleteOrder: async function () {\r\n\r\n    }\r\n};\r\nconst mutations = {\r\n    setOrders: function (state, orders) {\r\n        state.orders = orders;\r\n    },\r\n    addOrder: function (state, order) {\r\n        state.orders.push(order);\r\n    },\r\n    updateOrder: function (state, order) {\r\n        var index = state.orders.findIndex(x => x.id = order.id);\r\n        state.orders.splice(index, 1, order);\r\n    },\r\n    setLastVisible: function (state, lastVisible) {\r\n        state.lastVisible = lastVisible;\r\n    }\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    getters,\r\n    actions,\r\n    mutations\r\n}","import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\n\r\nimport counter from \"./modules/counter\"\r\nimport order from \"./modules/order\"\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    modules: {\r\n        counter,\r\n        order\r\n    }\r\n})\r\n","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport 'core-js/es6/promise'\r\nimport 'core-js/es6/string'\r\nimport 'core-js/es7/array'\r\n// import cssVars from 'css-vars-ponyfill'\r\nimport Vue from 'vue'\r\nimport BootstrapVue from 'bootstrap-vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport './shared/filters'\r\nimport './shared/directives'\r\nimport axios from \"axios\"\r\nimport fb from \"@/shared/firebaseConfig\"\r\nimport fbServices from \"@/shared/firebaseServices\"\r\nimport VueCurrencyFilter from 'vue-currency-filter'\r\nimport store from \"@/store/index\";\r\nimport { mapState, mapActions } from \"vuex\"\r\n\r\nwindow.$ = require('jquery')\r\n\r\n\r\n// global variables\r\n\r\nVue.prototype.$mapState = mapState;\r\nVue.prototype.$mapActions = mapActions;\r\nVue.prototype.$fb = fb;\r\nVue.prototype.$fbServices = fbServices;\r\nVue.prototype.vndConfig = {\r\n  symbol: 'VND',\r\n  thousandsSeparator: ',',\r\n  fractionCount: 0,\r\n  fractionSeparator: '.',\r\n  symbolPosition: 'after',\r\n  symbolSpacing: true\r\n};\r\nVue.prototype.vndConfigNoSymbol = {\r\n  symbol: '',\r\n  thousandsSeparator: ',',\r\n  fractionCount: 0,\r\n  fractionSeparator: '.',\r\n  symbolPosition: 'after',\r\n  symbolSpacing: true\r\n};\r\nVue.prototype.audConfig = {\r\n  symbol: '$',\r\n  thousandsSeparator: ',',\r\n  fractionCount: 2,\r\n  fractionSeparator: '.',\r\n  symbolPosition: 'front',\r\n  symbolSpacing: false\r\n};\r\nVue.prototype.$http = axios;\r\n\r\n\r\nVue.use(BootstrapVue)\r\nVue.use(VueCurrencyFilter);\r\n\r\nVue.prototype.showMessage = function (mes, title) {\r\n  this.$bvToast.toast(mes, { title: title || \"Notification\", variant: \"info\", autoHideDelay: 2000 });\r\n}\r\n\r\nVue.prototype.showError = function (mes, title) {\r\n  this.$bvToast.toast(mes, { title: title || \"Error\", variant: \"danger\", autoHideDelay: 2000 });\r\n}\r\n\r\nVue.prototype.getProductPrice = function (prod, supplier) {\r\n  if (!prod.supplierPrices || prod.supplierPrices.length == 0) return undefined;\r\n  return prod.supplierPrices.find(x => x.supplier == supplier);\r\n}\r\n\r\nVue.prototype.getCWPruductId = function (prod) {\r\n  if (!prod.supplierPrices || prod.supplierPrices.length == 0) return undefined;\r\n  var cwSupplier = prod.supplierPrices.find(x => x.supplier == \"CW\");\r\n  return cwSupplier && cwSupplier.id;\r\n}\r\nlet app = '';\r\n\r\n//load settings from FB\r\nfb.auth.onAuthStateChanged(async () => {\r\n  if (fb.auth.currentUser) {\r\n    console.log(\"Get app settings\");\r\n    await fbServices.settingService.getSettings().then(settings => {\r\n      Vue.prototype.appSettings = settings;\r\n      window.appSettings = settings;\r\n    });\r\n    await store.dispatch(\"counter/getCounter\");\r\n  }\r\n  if (!app) {\r\n\r\n    /* eslint-disable no-new */\r\n    app = new Vue({\r\n      el: '#app',\r\n      router,\r\n      store,\r\n      template: '<App/>',\r\n      components: {\r\n        App\r\n      }\r\n    });\r\n  }\r\n\r\n});\r\n\r\n\r\n\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productsList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productsList.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackingPrices.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./trackingPrices.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueDatePick.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueDatePick.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowSupplierPrices.vue?vue&type=style&index=0&id=2283091b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowSupplierPrices.vue?vue&type=style&index=0&id=2283091b&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerOrders.vue?vue&type=style&index=0&id=02f06ce2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customerOrders.vue?vue&type=style&index=0&id=02f06ce2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./products.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./products.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueSuggestion.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vueSuggestion.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetail.vue?vue&type=style&index=0&id=19e661d0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderDetail.vue?vue&type=style&index=0&id=19e661d0&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numberInput.vue?vue&type=style&index=0&id=d6cfd592&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./numberInput.vue?vue&type=style&index=0&id=d6cfd592&lang=scss&scoped=true&\""],"sourceRoot":""}